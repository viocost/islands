!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=201)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(173),r(116),r(41),r(18),r(117),r(179),r(76),r(19),r(85);var n=r(6),i=r.n(n),a=r(7),o=r.n(a),s=r(181),c=r(194),u=r(196),l=function(){function e(t){i()(this,e);var r=this;r.settings={},r.locked=!1,r.setEncodersAndDecoders(),r.symCiphers=["aes"],r.streamCiphers=["chacha"],r.asymCiphers=["rsa"],r.store={},r.rsa={createKeyPair:function(){return r.generateRSAKeyPair.apply(r,arguments)},asyncCreateKeyPair:function(){return r.asyncGenerateRSAKeyPair.apply(r,arguments)},encrypt:function(){return r.publicKeyEncrypt.apply(r,arguments)},decrypt:function(){return r.privateKeyDecrypt.apply(r,arguments)},sign:function(){return r.privateKeySign.apply(r,arguments)},verify:function(){return r.publicKeyVerify.apply(r,arguments)},setKey:function(){return r.setRSAKey.apply(r,arguments)},getSettings:function(){return"RSA"}},r.aes={modes:["CBC","CFB","CTR"],mode:"CBC",ivLength:16,keySize:32,createKey:function(){return r.createSYMKey.apply(r,arguments)},encrypt:function(){return r.AESEncrypt.apply(r,arguments)},decrypt:function(){return r.AESDecrypt.apply(r,arguments)},setKey:function(){return r.setSYMKey.apply(r,arguments)},getSettings:function(){return"AES"}},r.chacha={init:function(){return r.initStreamCryptor.apply(r,arguments)},encrypt:function(){return r.streamCryptorEncrypt.apply(r,arguments)},decrypt:function(){return r.streamCryptorDecrypt.apply(r,arguments)},getSettings:function(){return"ChaCha"}},r.setAsymCipher("rsa"),r.setSymCipher("aes"),r.setStreamCipher("chacha")}return o()(e,[{key:"setSymCipher",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!e.symCiphers.includes(r[0]))throw new Error("setSymCipher: Invalid or unsupported algorithm");e.sym=e[r[0]]}},{key:"setAsymCipher",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!e.asymCiphers.includes(r[0]))throw new Error("setSymCipher: Invalid or unsupported algorithm");e.asym=e[r[0]]}},{key:"setStreamCipher",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!e.streamCiphers.includes(r[0]))throw new Error("setSymCipher: Invalid or unsupported algorithm");e.ssym=e[r[0]]}},{key:"setEncodersAndDecoders",value:function(){this.encoders={hex:e.hexEncode,base64:e.base64Encode},this.decoders={hex:e.hexDecode,base64:e.base64Decode}}},{key:"asyncCreateNonce",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return new Promise((function(n,i){try{n(t.createNonce(e,r))}catch(e){i(e)}}))}},{key:"createNonce",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("createNonce"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return this.set(t,e.getBytes(r)),this}},{key:"asyncAddBlob",value:function(e,t){var r=this;return new Promise((function(n,i){try{n(r.addBlob(e,t))}catch(e){i(e)}}))}},{key:"addBlob",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("addBlob"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("addBlob");return this.set(t,r.toString().trim()),this}},{key:"asyncCreateSYMKey",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return new Promise((function(i,a){try{i(t.createSYMKey(e,r,n))}catch(e){a(e)}}))}},{key:"createSYMKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("createSYMKey"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=this,i=e.getBytes(r);return n.set(t,s.util.bytesToHex(i)),n}},{key:"setSYMKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("setSYMKey"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("setSYMKey");return this.set(t,r),this}},{key:"createPasswordBasedSymKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("createSYMKey"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("createSYMKey"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("createSYMKey"),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e4,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:32,o=this,c=s.util.hexToBytes(this.get(n)),u=s.pkcs5.pbkdf2(r,c,i,a),l=s.util.bytesToHex(u);return o.set(t,l),o}},{key:"asyncAESEncrypt",value:function(e,t,r,n,i,a){var o=this;return new Promise((function(s,c){try{s(o.AESEncrypt(e,t,r,n,i,a))}catch(e){c(e)}}))}},{key:"AESEncrypt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("AESEncrypt"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("AESEncrypt"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("AESEncrypt"),i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"CBC",o=arguments.length>5?arguments[5]:void 0,c=this;if(!c.aes.modes.includes(a.toUpperCase()))throw new Error("AESencrypt: Invalid AES mode");a="AES-"+a.toUpperCase();var u=e.getBytes(16),l=s.util.hexToBytes(c.get(r)),p=s.cipher.createCipher(a,l);return p.start({iv:u}),p.update(s.util.createBuffer(this.get(t),o)),p.finish(),this.set(n,i?s.util.bytesToHex(u)+p.output.toHex():u+p.output),this}},{key:"asyncAESDecrypt",value:function(e,t,r){var n=this;return new Promise((function(i,a){try{i(n.AESDecrypt(e,t,r))}catch(e){a(e)}}))}},{key:"AESDecrypt",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("AESDecrypt"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("AESDecrypt"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("AESDecrypt"),a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"CBC",c=(arguments.length>5&&arguments[5],this);if(!c.aes.modes.includes(o.toUpperCase()))throw new Error("AESencrypt: Invalid AES mode");o="AES-"+o.toUpperCase();var u,l=c.get(r);a?(u=s.util.hexToBytes(l.substring(0,32)),t=s.util.hexToBytes(l.substr(32))):(t=l.substr(16),u=l.substring(0,16));var p=s.util.hexToBytes(this.get(n)),f=s.cipher.createDecipher(o,p);return f.start({iv:u}),f.update(s.util.createBuffer(t)),f.finish(),this.set(i,f.output.toString("utf8")),this}},{key:"asyncHash",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sha256";return new Promise((function(i,a){try{i(r.hash(e,t,n))}catch(e){a(e)}}))}},{key:"hashFileWorker",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("fileHashWorker file"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("fileHashWorker nameToSave");arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(e,i){var a=t;if(void 0===Worker)throw new Error("Web workers are not supported in current environment");var o=new Worker("/js/iCryptoWorker.js");o.onmessage=function(t){"success"===t.data[0]?(a.set(n,t.data[1]),e(a),o.terminate()):(i(t.data[1]),o.terminate())},o.postMessage(["hashFile",r])}))}},{key:"initStreamCryptor",value:function(){var t,r,n,i,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("initStreamEncryptor"),s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("initStreamEncryptor"),c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],this),l="enc";if((n=e.hexDecode(s)).length<16)throw new Error("chacha20: invalid key size: "+n.length+" key length must be 32 bytes");var p=e.stringToArrayBuffer(n).slice(0,32);c?(t=e.getBytes(6),r=e.hexEncode(t),a=e.stringToArrayBuffer(t).slice(0,12),i=new JSChaCha20(new Uint8Array(p),new Uint8Array(a),0)):(l="dec",a=new ArrayBuffer(0));var f=new function(){var t=this;t.cryptor=i,t.key=s,t.iv=r,t.mode=l,t.encryptionMode=function(){return"enc"===t.mode},t.decryptionMode=function(){return"dec"===t.mode},t.encrypt=function(r){var n="string"==typeof r?e.stringToArrayBuffer(r):r;if(!(n instanceof ArrayBuffer||n instanceof Uint8Array))throw new Error("StreamCryptor encrypt: input type is invalid");if(0===t.cryptor._byteCounter){var i=t.cryptor.encrypt(new Uint8Array(n));return e.concatUint8Arrays(new Uint8Array(a),i)}return t.cryptor.encrypt(new Uint8Array(n))},t.decrypt=function(r){var n="string"==typeof r?e.stringToArrayBuffer(r):r;if(!(n instanceof ArrayBuffer))throw new Error("StreamCryptor encrypt: input type is invalid");if(void 0===t.cryptor){if(a.byteLength+n.byteLength<=12)return a=e.concatArrayBuffers(a,n),new Uint8Array;var i=12-a.byteLength;a=e.concatArrayBuffers(a,n.slice(0,i)),t.iv=e.hexEncode(e.arrayBufferToString(a)),t.cryptor=new JSChaCha20(new Uint8Array(p),new Uint8Array(a),0);var o=new Uint8Array(n.slice(i,n.byteLength));return t.cryptor.decrypt(o)}return t.cryptor.decrypt(new Uint8Array(n))}};return u.set(o,f),u}},{key:"streamCryptorGetIV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("streamCryptorGetIV"),r=this,n=r.get(t);return n.iv}},{key:"streamCryptorEncrypt",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("streamCryptorEncrypt"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("streamCryptorEncrypt"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"raw",a=this,o=a.get(r);if(!o.encryptionMode())throw new Error("streamCryptorEncrypt error: mode is invalid");if(n instanceof ArrayBuffer)t=n;else if(n instanceof Uint8Array)t=n.buffer;else{if("string"!=typeof n)throw new Error("streamCryptorEncrypt: invalid format input");t=e.stringToArrayBuffer(n)}if(void 0===i||"raw"===i)return o.encrypt(t).buffer;throw new Error("NOT IMPLEMENTED")}},{key:"streamCryptorDecrypt",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("streamCryptorEncrypt"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("streamCryptorEncrypt"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"raw",a=this,o=a.get(r);if(!o.decryptionMode())throw new Error("streamCryptorEncrypt error: mode is invalid");if(n instanceof ArrayBuffer)t=n;else if(n instanceof Uint8Array)t=n.buffer;else{if("string"!=typeof n)throw new Error("streamCryptorEncrypt: invalid format input");t=e.stringToArrayBuffer(n)}if(void 0===i||"raw"===i)return o.decrypt(t).buffer;throw new Error("NOT IMPLEMENTED")}},{key:"hash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("hash"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("hash"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sha256",i=this,a=i.get(t);if("string"!=typeof a)throw new Error("hash: invalid target type: "+typeof a+"  Target must be string.");n=n.toLowerCase();var o=s.md.hasOwnProperty(n)?s.md[n].create():this.throwError("Wrong hash algorithm");return o.update(a),this.set(r,o.digest().toHex()),i}},{key:"createHash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("createHash"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha256",n=c.hash.hasOwnProperty(r)?new c.hash[r]:this.throwError("Wrong hash algorithm");return this.set(t,n),this}},{key:"updateHash",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("updateHash: target"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("updateHash: blob"),i=this;if("string"==typeof n)t=e.stringToArrayBuffer(n);else if(n instanceof Uint8Array)t=n.buffer;else{if(!(n instanceof ArrayBuffer))throw new Error("invalid input format!");t=n}var a=i.get(r);return a.update(c.codec.arrayBuffer.toBits(t)),i}},{key:"digestHash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("digestHash"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("digestHash"),n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,a=i.get(t),o=n?c.codec.hex.fromBits(a.finalize()):c.codec.arrayBuffer.fromBits(a.finalize());return this.set(r,o),i}},{key:"asyncGenerateRSAKeyPair",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("asyncGenerateRSAKeyPair"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;return new Promise((function(e,i){var a=t;s.rsa.generateKeyPair({bits:n,workers:-1},(function(n,o){if(n)i(n);else try{var c=s.pki.publicKeyToPem(o.publicKey),u=s.pki.privateKeyToPem(o.privateKey);a.set(r,{publicKey:c,privateKey:u}),e(t)}catch(n){i(n)}}))}))}},{key:"generateRSAKeyPair",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("generateRSAKeyPair"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048,n=this,i=s.pki.rsa.generateKeyPair({bits:r,e:65537}),a=s.pki.publicKeyToPem(i.publicKey),o=s.pki.privateKeyToPem(i.privateKey);return n.set(t,{publicKey:a,privateKey:o}),n}},{key:"publicFromPrivate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("publicFromPrivate"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("publicFromPrivate"),n=s.pki.privateKeyFromPem(this.get(t));return this.set(r,s.pki.publicKeyToPem(n)),this}},{key:"setRSAKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("setRSAPublicKey"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("setRSAPublicKey"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("setRSAPublicKey");if("public"!==n&&"private"!==n)throw new Error("Invalid key type");return e.isRSAPEMValid(r,n)||(r=e.base64ToPEM(r,n)),"public"===n?s.pki.publicKeyFromPem(r):s.pki.privateKeyFromPem(r),this.set(t,r),this}},{key:"asyncPublicKeyEncrypt",value:function(e,t,r,n){var i=this;return new Promise((function(n,a){try{n(i.publicKeyEncrypt(e,t,r))}catch(e){a(e)}}))}},{key:"getPublicKeyFingerprint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("getPublicKeyFingerpint"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("getPublicKeyFingerpint"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sha256",i=this.validateExtractRSAKey(this.get(t),"public"),a=s.pki.publicKeyFromPem(i),o=s.pki.getPublicKeyFingerprint(a,{encoding:"hex",md:s.md[n].create()});return this.set(r,o),this}},{key:"publicKeyEncrypt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("publicKeyEncrypt"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("publicKeyEncrypt"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("publicKeyEncrypt"),i=arguments.length>3?arguments[3]:void 0;r=this.validateExtractRSAKey(this.get(r),"public");var a=s.pki.publicKeyFromPem(r),o=a.encrypt(this.get(t));return i&&(o=this._encodeBlob(o,i)),this.set(n,o),this}},{key:"_encodeBlob",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("_encodeBlob"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("_encodeBlob"),n=this;if(!this.encoders.hasOwnProperty(r))throw new Error("_encodeBlob: Invalid encoding: "+r);return n.encoders[r](t)}},{key:"_decodeBlob",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("_encodeBlob"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("_encodeBlob"),n=this;if(!this.encoders.hasOwnProperty(r))throw new Error("_decodeBlob: Invalid encoding: "+r);return n.decoders[r](t)}},{key:"asyncPrivateKeyDecrypt",value:function(e,t,r){var n=this;return new Promise((function(i,a){try{i(n.privateKeyDecrypt(e,t,r))}catch(e){a(e)}}))}},{key:"privateKeyDecrypt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("privateKeyDecrypt"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("privateKeyDecrypt"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("privateKeyDecrypt"),i=arguments.length>3?arguments[3]:void 0;r=this.validateExtractRSAKey(this.get(r),"private");var a=s.pki.privateKeyFromPem(r),o=this.get(t);return i&&(o=this._decodeBlob(o,i)),this.set(n,a.decrypt(o)),this}},{key:"asyncPrivateKeySign",value:function(e,t,r){var n=this;return new Promise((function(i,a){try{i(n.privateKeySign(e,t,r))}catch(e){a(e)}}))}},{key:"privateKeySign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("privateKeyEncrypt"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("privateKeyEncrypt"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("privateKeyEncrypt"),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sha256",a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r=this.validateExtractRSAKey(this.get(r),"private");var o=s.pki.privateKeyFromPem(r),c=s.md[i].create();c.update(this.get(t));var u=o.sign(c);return u=a?s.util.bytesToHex(u):u,this.set(n,u),this}},{key:"asyncPublicKeyVerify",value:function(e,t,r,n){var i=this;return new Promise((function(a,o){try{a(i.publicKeyVerify(e,t,r,n))}catch(e){o(e)}}))}},{key:"publicKeyVerify",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("publicKeyVerify"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("publicKeyVerify"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("publicKeyVerify"),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.pRequired("publicKeyVerify"),a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];n=this.validateExtractRSAKey(this.get(n),"public");var o=s.pki.publicKeyFromPem(n),c=s.md.sha256.create();c.update(this.get(t));var u=this.get(r);u=a?s.util.hexToBytes(u):u;var l=o.verify(c.digest().bytes(),u);return this.set(i,l),this}},{key:"validateExtractRSAKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("validateAndExtractRSAKey"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("validateAndExtractRSAKey"),n={public:"publicKey",private:"privateKey"};if(!Object.keys(n).includes(r))throw new Error("validateExtractRSAKey: key type is invalid!");if(t[n[r]]&&(t=t[n[r]]),!e.isRSAPEMValid(t,r))throw console.log(r),console.log(t),new Error("validateExtractRSAKey: Invalid key format");return t}},{key:"pemToBase64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("pemToBase64"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("pemToBase64"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("pemToBase64"),i=this.get(t);if(!e.isRSAPEMValid(i,n))throw console.log(n),console.log(i),new Error("validateExtractRSAKey: Invalid key format");i=i.trim().split(/\r?\n/).slice(1,-1).join(""),this.set(r,i)}},{key:"asyncCompress",value:function(e,t){var r=this;return new Promise((function(n,i){try{n(r.compress(e,t))}catch(e){i(e)}}))}},{key:"compress",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("compress"),arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("compress");return this}},{key:"asyncDecompress",value:function(e,t){var r=this;return new Promise((function(n,i){try{n(r.decompress(e,t))}catch(e){i(e)}}))}},{key:"decompress",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("decompress"),arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("decompress");return this}},{key:"encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("encode"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("encode"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("encode"),i=this;return i.set(n,i._encodeBlob(this.get(t),r)),this}},{key:"base64Encode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("base64Encode"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("base64Encode"),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n?JSON.stringify(this.get(t)):this.get(t);return this.set(r,e.base64Encode(i)),this}},{key:"base64Decode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("base64decode"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("base64decode"),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.base64Decode(this.get(t));return i=n?JSON.parse(i):i,this.set(r,i),this}},{key:"bytesToHex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("bytesToHex"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("bytesToHex"),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n?JSON.stringify(this.get(t)):this.get(t);return this.set(r,e.hexEncode(i)),this}},{key:"hexToBytes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("hexToBytes"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("hexToBytes"),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.hexDecode(this.get(t));return i=n?JSON.parse(i):i,this.set(r,i),this}},{key:"stringifyJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("stringify"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("stringify"),n=this.get(t);if("object"!=typeof n)throw new Error("stringifyJSON: target invalid");return this.set(r,JSON.stringify(n)),this}},{key:"parseJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("stringify"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("stringify"),n=this.get(t);if("string"!=typeof n)throw new Error("stringifyJSON: target invalid");return this.set(r,JSON.parse(n)),this}},{key:"merge",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("merge"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("merge");if(!this.keysExist(t))throw new Error("merge: some or all objects with such keys not found ");for(var n="",i=0;i<t.length;++i){var a=this.get(t[i]);if("string"!=typeof a&&"number"!=typeof a)throw new Error("Object "+t[i]+" is not mergeable");n+=a}return this.set(r,n),this}},{key:"encodeBlobLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.pRequired("encodeBlobLength"),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.pRequired("encodeBlobLength"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.pRequired("encodeBlobLength"),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.pRequired("encodeBlobLength");if("string"!=typeof n)throw new Error("encodeBlobLength: Invalid padding char");var a=String(this.get(t).length),o=r-a.length;if(o<0)throw new Error("encodeBlobLength: String length exceedes target length");var s=n[0].repeat(o);return this.set(i,s+a),this}},{key:"get",value:function(e){if(this.keysExist(e))return this.store[e];throw new Error("Property "+e+" not found")}},{key:"set",value:function(e,t){if(this.locked)throw new Error("Cannot add property: object locked");this.assertKeysAvailable(e),this.store[e]=t}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"assertKeysAvailable",value:function(e){if(this.keysExist(e))throw new Error("Cannot add property: "+e.toString()+" property with such name already exists")}},{key:"keysExist",value:function(e){if(!e)throw new Error("keysExist: Missing required arguments");if("string"==typeof e||"number"==typeof e)return this._keyExists(e);if("object"!=typeof e)throw new Error("keysExist: unsupported type");if(e.length<1)throw new Error("array must have at least one key");for(var t=Object.keys(this.store),r=0;r<e.length;++r)if(!t.includes(e[r].toString()))return!1;return!0}},{key:"_keyExists",value:function(e){if(!e)throw new Error("keyExists: Missing required arguments");return Object.keys(this.store).includes(e.toString())}},{key:"throwError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown error";throw new Error(e)}}],[{key:"isRSAPEMValid",value:function(e,t){var r="public"===t?/^-{4,5}BEGIN.*PUBLIC.*KEY.*-{4,5}/:/^-{4,5}BEGIN.*PRIVATE.*KEY.*-{4,5}/,n="public"===t?/^-{4,5}END.*PUBLIC.*KEY.*-{4,5}/:/^-{4,5}END.*PRIVATE.*KEY.*-{4,5}/,i=!0,a=(e=(e=e.trim()).replace(/\r?\n$/,"")).split(/\r?\n/);return i=i&&a.length>2&&r.test(a[0])&&n.test(a[a.length-1])}},{key:"base64ToPEM",value:function(e,t){for(var r="public"===t?"-----END PUBLIC KEY-----":"-----END RSA PRIVATE KEY-----",n="public"===t?"-----BEGIN PUBLIC KEY-----":"-----BEGIN RSA PRIVATE KEY-----",i=0;i<e.length;++i)n+=i%64==0?"\r\n"+e[i]:e[i];return n+="\r\n"+r}},{key:"arrayBufferToString",value:function(e){return String.fromCharCode.apply(null,new Uint16Array(e))}},{key:"stringToArrayBuffer",value:function(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return t}},{key:"concatUint8Arrays",value:function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r}},{key:"concatArrayBuffers",value:function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}},{key:"getBytes",value:function(e){return s.random.getBytesSync(e)}},{key:"hexEncode",value:function(e){return s.util.bytesToHex(e)}},{key:"hexDecode",value:function(e){return s.util.hexToBytes(e)}},{key:"base64Encode",value:function(e){return s.util.encode64(e)}},{key:"base64Decode",value:function(e){return s.util.decode64(e)}},{key:"onionAddressFromPrivateKey",value:function(t){var r=new e;r.setRSAKey("privk",t,"private").publicFromPrivate("privk","pubk");var n=s.pki.publicKeyFromPem(r.get("pubk")),i=s.pki.getPublicKeyFingerprint(n,{encoding:"hex",md:s.md.sha1.create()});i.length%2!=0&&(i="0"+i);for(var a=[],o=0;o<i.length/2;o+=2)a.push(parseInt(i.slice(o,o+2),16));return u.encode(a,"RFC4648_HEX").toLowerCase()+".onion"}},{key:"randInt",value:function(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return Math.floor(Math.random()*(t-e+1)+e)}},{key:"createRandomHexString",value:function(t){var r=e.getBytes(t),n=e.hexEncode(r),i=e.randInt(n.length-t);return n.substring(i,i+t)}},{key:"pRequired",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iCrypto function";throw new Error(e+": missing required parameter!")}}]),e}()},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){(function(t,n,i){var a=r(1),o=r(185),s=e.exports=a.util=a.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function u(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof u||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return s.nextTick=t.nextTick,void(s.setImmediate="function"==typeof n?n:s.nextTick);if("function"==typeof n)return s.setImmediate=function(){return n.apply(void 0,arguments)},void(s.nextTick=function(e){return n(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];s.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),a=!0,o=document.createElement("div");r=[];new MutationObserver((function(){var e=r.slice();r.length=0,e.forEach((function(e){e()}))})).observe(o,{attributes:!0});var c=s.setImmediate;s.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),c(e)):(r.push(e),1===r.length&&o.setAttribute("a",a=!a))}}s.nextTick=s.setImmediate}(),s.isNodejs=void 0!==t&&t.versions&&t.versions.node,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=u,s.ByteStringBuffer=u;s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=s.isArrayBuffer(e),n=s.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(s.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof s.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&s.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},s.xorBytes=function(e,t,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=e.charCodeAt(o)^t.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+=a},s.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var r,n,i,a="",o="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),a+=l.charAt(r>>2),a+=l.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=l.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":l.charAt(63&i)),t&&a.length>t&&(o+=a.substr(0,t)+"\r\n",a=a.substr(t));return o+=a},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,a="",o=0;o<e.length;)t=p[e.charCodeAt(o++)-43],r=p[e.charCodeAt(o++)-43],n=p[e.charCodeAt(o++)-43],i=p[e.charCodeAt(o++)-43],a+=String.fromCharCode(t<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,a=r=r||0;for(1&e.length&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n},s.binary.base64.encode=function(e,t){for(var r,n,i,a="",o="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],a+=l.charAt(r>>2),a+=l.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=l.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":l.charAt(63&i)),t&&a.length>t&&(o+=a.substr(0,t)+"\r\n",a=a.substr(t));return o+=a},s.binary.base64.decode=function(e,t,r){var n,i,a,o,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,u=r=r||0;c<e.length;)n=p[e.charCodeAt(c++)-43],i=p[e.charCodeAt(c++)-43],a=p[e.charCodeAt(c++)-43],o=p[e.charCodeAt(c++)-43],s[u++]=n<<2|i>>4,64!==a&&(s[u++]=(15&i)<<4|a>>2,64!==o&&(s[u++]=(3&a)<<6|o));return t?u-r:s.subarray(0,u)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,f,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,f,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,r){e=s.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),a=r=r||0,o=r,s=0;s<e.length;++s)i[o++]=e.charCodeAt(s),a+=2;return t?a-r:n},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,r){if(t=s.decode64(e.deflate(s.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},s.inflate=function(e,t,r){var n=e.inflate(s.encode64(t)).rval;return null===n?null:s.decode64(n)};var h=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=s.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},d=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(s.decode64(r))),r},g=function(e,t,r,n){var i=d(e,t);null===i&&(i={}),i[r]=n,h(e,t,i)},y=function(e,t,r){var n=d(e,t);return null!==n&&(n=r in n?n[r]:null),n},v=function(e,t,r){var n=d(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),h(e,t,n)}},m=function(e,t){h(e,t,null)},E=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var a=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),a="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),a=!0)}catch(e){o=e}if(a)break}if(!a)throw o;return i};s.setItem=function(e,t,r,n,i){E(g,arguments,i)},s.getItem=function(e,t,r,n){return E(y,arguments,n)},s.removeItem=function(e,t,r,n){E(v,arguments,n)},s.clearItems=function(e,t,r){E(m,arguments,r)},s.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var b=null;s.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in t||(t[i]=[]),i in Object.prototype||null===a||t[i].push(unescape(a))}return t};return void 0===e?(null===b&&(b="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=b):t=r(e),t},s.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:s.getQueryVariables(r)}},s.makeRequest=function(e){var t=s.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},s.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},s.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var a=t[n++];if(n==i)e[a]=r;else{var o=a in e;(!o||o&&"object"!=typeof e[a]||o&&null===e[a])&&(e[a]={}),e=e[a]}}},s.getPath=function(e,t,r){for(var n=0,i=t.length,a=!0;a&&n<i&&"object"==typeof e&&null!==e;){var o=t[n++];(a=o in e)&&(e=e[o])}return a?e:r},s.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,r,n=/%./g,i=0,a=[],o=0;t=n.exec(e);){(r=e.substring(o,n.lastIndex-2)).length>0&&a.push(r),o=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[1+i++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(e.substring(o)),a.join("")},s.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,o=void 0===r?",":r,s=void 0===n?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+s:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-u).toFixed(a).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=s.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var a=s.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}else n.fillWithByte(0,r),r=0;return n.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=s.bytesToHex(e[i]+e[i+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var o=r[r.length-1],c=t.length;o&&c===o.end+1?(o.end=c,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:c,end:c})}t.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,t(null,s.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,a){if(0===i){var o=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return s.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,s.cores)}!function(e,t){for(var n=[],i=[],a=0;a<e;++a){var o=new Worker(r);o.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var a=0;a<e;++a)n[a].terminate();t(null,i)}})),n.push(o)}for(a=0;a<e;++a)n[a].postMessage(a)}(a,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],a=r[n]=[],o=0;o<e;++o)if(n!==o){var s=t[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(a,r)),e(n,i-1,a)}))}([],5,16)}}).call(this,r(45),r(111).setImmediate,r(49).Buffer)},function(e,t){e.exports.Events=Object.freeze({LOGIN_SUCCESS:"login_success",LOGIN_ERROR:"login_error",POST_LOGIN_SUCCESS:"post_login_success",POST_LOGIN_ERROR:"post_login_error",REGISTER_NEW_VAULT_SUCCESS:"new_vault_success",REGISTER_NEW_VAULT_ERROR:"new_vault_error",TOPIC_CREATED:"toipc_created",INIT_TOPIC_SUCCESS:"init_topic_success",INIT_TOPIC_ERROR:"init_topic_error",VAULT_UPDATED:"vault_updated",CHAT_ERROR:"chat_error",NEW_MEMBER_JOINED:"new_member_joined",TOPIC_SETTINGS_UPDATED:"settings_updated",INVITE_SYNC_OK:"invite_sync_ok",INVITE_SYNC_ERROR:"invite_sync_error",INVITE_CREATED:"invite_created",INVITE_REQUEST_ERROR:"invite_create_error",INVITE_UPDATED:"invite_updated",INVITE_UPDATE_ERROR:"invite_update_error",INVITE_DELETED:"invite_deleted",DELETE_INVITE_ERROR:"del_invite_error",MEMBER_BOOTED:"member_booted",MEMBER_BOOT_ERROR:"member_boot_error",YOU_BOOTED:"u_booted",NEW_CHAT_MESSAGE:"chat_message",SEND_OK:"message_sent",SEND_ERROR:"send_fail",MESSAGES_UPDATED:"messages_updated",NEW_SERVICE_RECORD:"new_service_record",CONNECTION_STATUS_CHANGED:"connection_status_changed",MESSAGES_LOADED:"messages_loaded",FILE_AVAILABLE_LOCALLY:"file_available_locally",FILE_PEER_REQUEST:"file_peer_request",DOWNLOAD_OK:"download_ok"}),e.exports.Internal=Object.freeze({SAVE_VAULT:"save_vault",TOPIC_CREATED:"topic_created",DELETE_TOPIC:"delete_topic",TOPIC_DELETED:"topic_deleted",TOPIC_UPDATED:"topic_updated",VAULT_SETTINGS_UPDATED:"vault_settings_updated",CONNECTION_ERROR:"conn_error",INIT_TOPIC_GET_TOKEN:"init_topic_get_token",INIT_TOPIC_TOKEN:"init_topic_token",INIT_TOPIC:"init_topic_finalize",POST_LOGIN:"post_login",POST_LOGIN_DECRYPT:"post_login_decrypt_services",POST_LOGIN_CHECK_SERVICES:"post_login_check_services",REQUEST_INVITE:"request_invite",DELETE_INVITE:"delete_invite",SYNC_INVITES:"sync_invites",INVITE_REQUEST_TIMEOUT:"invite_request_timeout",JOIN_TOPIC:"join_topic",JOIN_TOPIC_SUCCESS:"join_topic_success",UPDATE_SETTINGS:"update_settings",SETTINGS_UPDATED:"update_settings_success",LOAD_MESSAGES:"load_messages",LOAD_MESSAGES_SUCCESS:"load_messages_success",KILL_SESSION:"kill_session",SESSION_KEY:"session_key"})},function(e,t,r){var n=r(57)("wks"),i=r(34),a=r(5).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){e.exports=r(152)},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(6),i=r.n(n),a=r(7),o=r.n(a),s=function(){function e(){i()(this,e)}return o()(e,null,[{key:"required",value:function(e){throw e||(e="Missing required parameter"),new Error(e)}}]),e}()},function(e,t,r){var n=r(11);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(17)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(10),i=r(94),a=r(55),o=Object.defineProperty;t.f=r(12)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(32),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(13),i=r(37);e.exports=r(12)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(1);r(35),r(123),r(124),r(2),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},i=new Array(4),a=n.util.createBuffer();function o(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),a.putInt32(i[0]),a.putInt32(i[1]),a.putInt32(i[2]),a.putInt32(i[3]),a.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var s=o(),c=null;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&(c=function(e){return u.getRandomValues(e)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!c){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var p in navigator)try{"string"==typeof navigator[p]&&(l+=navigator[p])}catch(e){}s.collect(l),l=null}t&&(t().mousemove((function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)})),t().keypress((function(e){s.collectInt(e.charCode,8)})))}if(n.random)for(var p in s)n.random[p]=s[p];else n.random=s;n.random.createInstance=o,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){for(var n=r(107),i=r(59),a=r(23),o=r(5),s=r(15),c=r(44),u=r(4),l=u("iterator"),p=u("toStringTag"),f=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(h),g=0;g<d.length;g++){var y,v=d[g],m=h[v],E=o[v],b=E&&E.prototype;if(b&&(b[l]||s(b,l,f),b[p]||s(b,p,v),c[v]=f,m))for(y in n)b[y]||a(b,y,n[y],!0)}},function(e,t,r){"use strict";var n=r(47),i={};i[r(4)("toStringTag")]="z",i+""!="[object z]"&&r(23)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(e,t){function r(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,c,"next",e)}function c(e){r(o,i,a,s,c,"throw",e)}s(void 0)}))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r(85),r(18),r(19);var n=r(6),i=r.n(n),a=r(7),o=r.n(a),s=r(0),c=function(){function e(t,r){if(i()(this,e),void 0===t||""===t)throw new Error("Message init error: Software version is required!");"string"==typeof r&&(r=JSON.parse(r)),this.headers=r?this.copyHeaders(r.headers):{command:"",response:"",version:t},this.body=r?r.body:{},this.signature=r?r.signature:""}return o()(e,[{key:"setError",value:function(e){this.headers.error=e||"Unknown error"}},{key:"setResponse",value:function(e){this.headers.response=e}},{key:"copyHeaders",value:function(e){for(var t={},r=Object.keys(e),n=0;n<r.length;++n)t[r[n]]=e[r[n]];return t}},{key:"setVersion",value:function(e){if(void 0===e||""===e)throw new Error("Error setting message version: version undefined");this.headers.version=e}},{key:"signMessage",value:function(e){var t=new s.a,r=JSON.stringify(this.headers)+JSON.stringify(this.body);t.addBlob("body",r).setRSAKey("priv",e,"private").privateKeySign("body","priv","sign"),this.signature=t.get("sign")}},{key:"setSource",value:function(e){this.headers.pkfpSource=e}},{key:"setDest",value:function(e){this.headers.pkfpDest=e}},{key:"setCommand",value:function(e){this.headers.command=e}},{key:"addNonce",value:function(){var e=new s.a;e.createNonce("n").bytesToHex("n","nhex"),this.headers.nonce=e.get("nhex")}},{key:"get",value:function(e){if(this.keyExists(e))return this[e];throw new Error("Property not found")}},{key:"set",value:function(t,r){if(!e.properties.includes(t))throw'Invite: invalid property "'+t+'"';this[t]=r}}],[{key:"verifyMessage",value:function(e,t){var r=new s.a,n=JSON.stringify(t.headers)+JSON.stringify(t.body);return r.setRSAKey("pubk",e,"public").addBlob("sign",t.signature).hexToBytes("sign","signraw").addBlob("b",n),r.publicKeyVerify("b","sign","pubk","v"),r.get("v")}}]),e}();c.properties=["headers","body","signature"]},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(6),i=r.n(n),a=r(7),o=r.n(a),s=r(0),c=r(9),u=function(){function e(){i()(this,e)}return o()(e,null,[{key:"decryptStandardMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.required(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.required(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=parseInt(e.substr(e.length-r)),i=e.substring(e.length-r-n,e.length-r),a=e.substring(0,e.length-r-n),o=new s.a;return o.addBlob("blobcip",a).addBlob("symkcip",i).asym.setKey("privk",t,"private").privateKeyDecrypt("symkcip","privk","symk","hex").AESDecrypt("blobcip","symk","blob-raw",!0,"CBC","utf8"),o.get("blob-raw")}},{key:"encryptStandardMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.required(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.required(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=new s.a;return n.sym.createKey("symk").addBlob("payload",e).asym.setKey("pubk",t,"public").AESEncrypt("payload","symk","blobcip",!0,"CBC","utf8").asym.encrypt("symk","pubk","symcip","hex").encodeBlobLength("symcip",r,"0","symciplength").merge(["blobcip","symcip","symciplength"],"res"),n.get("res")}},{key:"publicKeyEncrypt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.required(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.required(),r=new s.a;return r.addBlob("blob",e).asym.setKey("pubk",t,"public").publicKeyEncrypt("blob","pubk","blobcip","hex"),r.get("blobcip")}},{key:"privateKeyDecrypt",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex",n=new s.a;return n.addBlob("blobcip",e).asym.setKey("priv",t,"private").privateKeyDecrypt("blobcip","priv","blob",r),n.get("blob")}},{key:"symKeyEncrypt",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=new s.a;return n.addBlob("b",e).sym.setKey("sym",t).AESEncrypt("b","sym","cip",r,"CBC","utf8"),n.get("cip")}},{key:"symKeyDecrypt",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=new s.a;return n.addBlob("cip",e).sym.setKey("sym",t).AESDecrypt("cip","sym","b",r,"CBC","utf8"),n.get("b")}},{key:"sign",value:function(e,t){if("string"!=typeof e)throw new Error("Data must be a string");var r=new s.a;return r.addBlob("body",e).setRSAKey("priv",t,"private").privateKeySign("body","priv","sign"),r.get("sign")}},{key:"verify",value:function(e,t,r){if("string"!=typeof e)throw new Error("Data must be a string");var n=new s.a;return n.setRSAKey("pubk",t,"public").addBlob("sign",r).hexToBytes("sign","signraw").addBlob("b",e),n.publicKeyVerify("b","sign","pubk","v"),n.get("v")}}]),e}()},function(e,t,r){var n=r(5),i=r(15),a=r(27),o=r(34)("src"),s=r(139),c=(""+s).split("toString");r(40).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(a(r,"name")||i(r,"name",t)),e[t]!==r&&(u&&(a(r,o)||i(r,o,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t,r){var n=r(1);r(2),r(36);var i=e.exports=n.asn1=n.asn1||{};function a(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,r,a,o){if(n.util.isArray(a)){for(var s=[],c=0;c<a.length;++c)void 0!==a[c]&&s.push(a[c]);a=s}var u={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(a),value:a};return o&&"bitStringContents"in o&&(u.bitStringContents=o.bitStringContents,u.original=i.copy(u)),u},i.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var a=0;a<e.length;++a)r.push(i.copy(e[a],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},i.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(!i.equals(e[a],t[a]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var o=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return r&&r.includeBitStringContents&&(o=o&&e.bitStringContents===t.bitStringContents),o},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var o=function(e,t){var r=e.getByte();if(128!==r){var n;if(128&r){var i=127&r;a(e,--t,i),n=e.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}};i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),function e(t,r,n,s){var c;a(t,r,2);var u=t.getByte();r--;var l=192&u;var p=31&u;c=t.length();var f=o(t,r);r-=c-t.length();if(void 0!==f&&f>r){if(s.strict){var h=new Error("Too few bytes to read ASN.1 value.");throw h.available=t.length(),h.remaining=r,h.requested=f,h}f=r}var d;var g;var y=32==(32&u);if(y)if(d=[],void 0===f)for(;;){if(a(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}c=t.length(),d.push(e(t,r,n+1,s)),r-=c-t.length()}else for(;f>0;)c=t.length(),d.push(e(t,f,n+1,s)),r-=c-t.length(),f-=c-t.length();void 0===d&&l===i.Class.UNIVERSAL&&p===i.Type.BITSTRING&&(g=t.bytes(f));if(void 0===d&&s.decodeBitStrings&&l===i.Class.UNIVERSAL&&p===i.Type.BITSTRING&&f>1){var v=t.read,m=r,E=0;if(p===i.Type.BITSTRING&&(a(t,r,1),E=t.getByte(),r--),0===E)try{c=t.length();var b={verbose:s.verbose,strict:!0,decodeBitStrings:!0},w=e(t,r,n+1,b),C=c-t.length();r-=C,p==i.Type.BITSTRING&&C++;var S=w.tagClass;C!==f||S!==i.Class.UNIVERSAL&&S!==i.Class.CONTEXT_SPECIFIC||(d=[w])}catch(e){}void 0===d&&(t.read=v,r=m)}if(void 0===d){if(void 0===f){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=r}if(p===i.Type.BMPSTRING)for(d="";f>0;f-=2)a(t,r,2),d+=String.fromCharCode(t.getInt16()),r-=2;else d=t.getBytes(f)}var T=void 0===g?null:{bitStringContents:g};return i.create(l,p,y,d,T)}(e,e.length(),0,t)},i.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,a=n.util.createBuffer(),o=!1;if("bitStringContents"in e&&(o=!0,e.original&&(o=i.equals(e,e.original))),o)a.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:a.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&a.putBuffer(i.toDer(e.value[s]))}else if(e.type===i.Type.BMPSTRING)for(s=0;s<e.value.length;++s)a.putInt16(e.value.charCodeAt(s));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?a.putBytes(e.value.substr(1)):a.putBytes(e.value);if(t.putByte(r),a.length()<=127)t.putByte(127&a.length());else{var c=a.length(),u="";do{u+=String.fromCharCode(255&c),c>>>=8}while(c>0);t.putByte(128|u.length);for(s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(a),t},i.oidToDer=function(e){var t,r,i,a,o=e.split("."),s=n.util.createBuffer();s.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var c=2;c<o.length;++c){t=!0,r=[],i=parseInt(o[c],10);do{a=127&i,i>>>=7,t||(a|=128),r.push(a),t=!1}while(i>0);for(var u=r.length-1;u>=0;--u)s.putByte(r[u])}return s},i.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var i=0;e.length()>0;)i<<=7,128&(r=e.getByte())?i+=127&r:(t+="."+(i+r),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var c=e.charAt(10),u=10;"+"!==c&&"-"!==c&&(s=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,o,s,0),u&&("+"===(c=e.charAt(u))||"-"===c)){var l=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);l*=6e4,"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t},i.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),c=0,u=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var p=e.length-5,f=e.charAt(p);"+"!==f&&"-"!==f||(u=60*parseInt(e.substr(p+1,2),10)+parseInt(e.substr(p+4,2),10),u*=6e4,"+"===f&&(u*=-1),l=!0);return"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,o,s,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(a,o,s,c)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},i.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},i.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,r,a){var o=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)a&&(e.tagClass!==t.tagClass&&a.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&a.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(o=!0,t.value&&n.util.isArray(t.value))for(var s=0,c=0;o&&c<t.value.length;++c)o=t.value[c].optional||!1,e.value[s]&&((o=i.validate(e.value[s],t.value[c],r,a))?++s:t.value[c].optional&&(o=!0)),!o&&a&&a.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(o&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else a&&a.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return o};var s=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,r){var a="";r=r||2,(t=t||0)>0&&(a+="\n");for(var o="",c=0;c<t*r;++c)o+=" ";switch(a+=o+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:a+="Universal:";break;case i.Class.APPLICATION:a+="Application:";break;case i.Class.CONTEXT_SPECIFIC:a+="Context-Specific:";break;case i.Class.PRIVATE:a+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(a+=e.type,e.type){case i.Type.NONE:a+=" (None)";break;case i.Type.BOOLEAN:a+=" (Boolean)";break;case i.Type.INTEGER:a+=" (Integer)";break;case i.Type.BITSTRING:a+=" (Bit string)";break;case i.Type.OCTETSTRING:a+=" (Octet string)";break;case i.Type.NULL:a+=" (Null)";break;case i.Type.OID:a+=" (Object Identifier)";break;case i.Type.ODESC:a+=" (Object Descriptor)";break;case i.Type.EXTERNAL:a+=" (External or Instance of)";break;case i.Type.REAL:a+=" (Real)";break;case i.Type.ENUMERATED:a+=" (Enumerated)";break;case i.Type.EMBEDDED:a+=" (Embedded PDV)";break;case i.Type.UTF8:a+=" (UTF8)";break;case i.Type.ROID:a+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:a+=" (Sequence)";break;case i.Type.SET:a+=" (Set)";break;case i.Type.PRINTABLESTRING:a+=" (Printable String)";break;case i.Type.IA5String:a+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:a+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:a+=" (Generalized time)";break;case i.Type.BMPSTRING:a+=" (BMP String)"}else a+=e.type;if(a+="\n",a+=o+"Constructed: "+e.constructed+"\n",e.composed){var u=0,l="";for(c=0;c<e.value.length;++c)void 0!==e.value[c]&&(u+=1,l+=i.prettyPrint(e.value[c],t+1,r),c+1<e.value.length&&(l+=","));a+=o+"Sub values: "+u+l}else{if(a+=o+"Value: ",e.type===i.Type.OID){var p=i.derToOid(e.value);a+=p,n.pki&&n.pki.oids&&p in n.pki.oids&&(a+=" ("+n.pki.oids[p]+") ")}if(e.type===i.Type.INTEGER)try{a+=i.derToInteger(e.value)}catch(t){a+="0x"+n.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?a+="0x"+n.util.bytesToHex(e.value.slice(1)):a+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);1==f?a+=" (1 unused bit shown)":f>1&&(a+=" ("+f+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(s.test(e.value)||(a+="("+e.value+") "),a+="0x"+n.util.bytesToHex(e.value)):e.type===i.Type.UTF8?a+=n.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?a+=e.value:s.test(e.value)?a+="0x"+n.util.bytesToHex(e.value):0===e.value.length?a+="[null]":a+=e.value}return a}},function(e,t,r){var n=r(1);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t,r){var n=r(52);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(5),i=r(40),a=r(15),o=r(23),s=r(26),c=function(e,t,r){var u,l,p,f,h=e&c.F,d=e&c.G,g=e&c.S,y=e&c.P,v=e&c.B,m=d?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,E=d?i:i[t]||(i[t]={}),b=E.prototype||(E.prototype={});for(u in d&&(r=t),r)p=((l=!h&&m&&void 0!==m[u])?m:r)[u],f=v&&l?s(p,n):y&&"function"==typeof p?s(Function.call,p):p,m&&o(m,u,p,e&c.U),E[u]!=p&&a(E,u,f),y&&b[u]!=p&&(b[u]=p)};n.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){var n=r(54);e.exports=function(e){return Object(n(e))}},function(e,t,r){e.exports=r(159)},function(e,t,r){var n=r(93),i=r(54);e.exports=function(e){return n(i(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=!1},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(1);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(86),r(118),r(2),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var i=g({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},n.aes.createEncryptionCipher=function(e,t){return g({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var i=g({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},n.aes.createDecryptionCipher=function(e,t){return g({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){l||f();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return d(r._w,e,t,!1)},decrypt:function(e,t){return d(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var a=t.length();if(16===a||24===a||32===a){a>>>=2;for(i=0;i<a;++i)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=h(r,e.decrypt&&!s),this._init=!0}},n.aes._expandKey=function(e,t){return l||f(),h(e,t)},n.aes._updateBlock=d,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var a,o,s,c,u,l=!1,p=4;function f(){l=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;a=new Array(256),o=new Array(256),c=new Array(4),u=new Array(4);for(t=0;t<4;++t)c[t]=new Array(256),u[t]=new Array(256);var r,n,i,p,f,h,d,g=0,y=0;for(t=0;t<256;++t){p=(p=y^y<<1^y<<2^y<<3^y<<4)>>8^255&p^99,a[g]=p,o[p]=g,h=(f=e[p])<<24^p<<16^p<<8^p^f,d=((r=e[g])^(n=e[r])^(i=e[n]))<<24^(g^i)<<16^(g^n^i)<<8^g^r^i;for(var v=0;v<4;++v)c[v][g]=h,u[v][p]=d,h=h<<24|h>>>8,d=d<<24|d>>>8;0===g?g=y=1:(g=r^e[e[e[r^i]]],y^=e[e[y]])}}function h(e,t){for(var r,n=e.slice(0),i=1,o=n.length,c=p*(o+6+1),l=o;l<c;++l)r=n[l-1],l%o==0?(r=a[r>>>16&255]<<24^a[r>>>8&255]<<16^a[255&r]<<8^a[r>>>24]^s[i]<<24,i++):o>6&&l%o==4&&(r=a[r>>>24]<<24^a[r>>>16&255]<<16^a[r>>>8&255]<<8^a[255&r]),n[l]=n[l-o]^r;if(t){for(var f,h=u[0],d=u[1],g=u[2],y=u[3],v=n.slice(0),m=(l=0,(c=n.length)-p);l<c;l+=p,m-=p)if(0===l||l===c-p)v[l]=n[m],v[l+1]=n[m+3],v[l+2]=n[m+2],v[l+3]=n[m+1];else for(var E=0;E<p;++E)f=n[m+E],v[l+(3&-E)]=h[a[f>>>24]]^d[a[f>>>16&255]]^g[a[f>>>8&255]]^y[a[255&f]];n=v}return n}function d(e,t,r,n){var i,s,l,p,f,h,d,g,y,v,m,E,b=e.length/4-1;n?(i=u[0],s=u[1],l=u[2],p=u[3],f=o):(i=c[0],s=c[1],l=c[2],p=c[3],f=a),h=t[0]^e[0],d=t[n?3:1]^e[1],g=t[2]^e[2],y=t[n?1:3]^e[3];for(var w=3,C=1;C<b;++C)v=i[h>>>24]^s[d>>>16&255]^l[g>>>8&255]^p[255&y]^e[++w],m=i[d>>>24]^s[g>>>16&255]^l[y>>>8&255]^p[255&h]^e[++w],E=i[g>>>24]^s[y>>>16&255]^l[h>>>8&255]^p[255&d]^e[++w],y=i[y>>>24]^s[h>>>16&255]^l[d>>>8&255]^p[255&g]^e[++w],h=v,d=m,g=E;r[0]=f[h>>>24]<<24^f[d>>>16&255]<<16^f[g>>>8&255]<<8^f[255&y]^e[++w],r[n?3:1]=f[d>>>24]<<24^f[g>>>16&255]<<16^f[y>>>8&255]<<8^f[255&h]^e[++w],r[2]=f[g>>>24]<<24^f[y>>>16&255]<<16^f[h>>>8&255]<<8^f[255&d]^e[++w],r[n?1:3]=f[y>>>24]<<24^f[h>>>16&255]<<16^f[d>>>8&255]<<8^f[255&g]^e[++w]}function g(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var a=null;r instanceof n.util.ByteBuffer&&(a=r,r={}),(r=r||{}).output=a,r.iv=e,i.call(t,r)},t}},function(e,t,r){var n=r(1);n.pki=n.pki||{};var i=e.exports=n.pki.oids=n.oids=n.oids||{};function a(e,t){i[e]=t,i[t]=e}function o(e,t){i[e]=t}a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.5","serialName"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.16.840.1.113730.1.1","nsCertType"),o("2.5.29.1","authorityKeyIdentifier"),o("2.5.29.2","keyAttributes"),o("2.5.29.3","certificatePolicies"),o("2.5.29.4","keyUsageRestriction"),o("2.5.29.5","policyMapping"),o("2.5.29.6","subtreesConstraint"),o("2.5.29.7","subjectAltName"),o("2.5.29.8","issuerAltName"),o("2.5.29.9","subjectDirectoryAttributes"),o("2.5.29.10","basicConstraints"),o("2.5.29.11","nameConstraints"),o("2.5.29.12","policyConstraints"),o("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),o("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),o("2.5.29.20","cRLNumber"),o("2.5.29.21","cRLReason"),o("2.5.29.22","expirationDate"),o("2.5.29.23","instructionCode"),o("2.5.29.24","invalidityDate"),o("2.5.29.25","cRLDistributionPoints"),o("2.5.29.26","issuingDistributionPoint"),o("2.5.29.27","deltaCRLIndicator"),o("2.5.29.28","issuingDistributionPoint"),o("2.5.29.29","certificateIssuer"),o("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),o("2.5.29.33","policyMappings"),o("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),o("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),o("2.5.29.46","freshestCRL"),o("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(95),i=r(70).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";var n=r(96),i=r(10),a=r(72),o=r(97),s=r(14),c=r(98),u=r(73),l=r(17),p=Math.min,f=[].push,h=!l((function(){RegExp(4294967295,"y")}));r(99)("split",2,(function(e,t,r,l){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);for(var a,o,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,l+"g");(a=u.call(d,i))&&!((o=d.lastIndex)>p&&(c.push(i.slice(p,a.index)),a.length>1&&a.index<i.length&&f.apply(c,a.slice(1)),s=a[0].length,p=o,c.length>=h));)d.lastIndex===a.index&&d.lastIndex++;return p===i.length?!s&&d.test("")||c.push(""):c.push(i.slice(p)),c.length>h?c.slice(0,h):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,n):d.call(String(i),r,n)},function(e,t){var n=l(d,e,this,t,d!==r);if(n.done)return n.value;var u=i(e),f=String(this),g=a(u,RegExp),y=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(h?"y":"g"),m=new g(h?u:"^(?:"+u.source+")",v),E=void 0===t?4294967295:t>>>0;if(0===E)return[];if(0===f.length)return null===c(m,f)?[f]:[];for(var b=0,w=0,C=[];w<f.length;){m.lastIndex=h?w:0;var S,T=c(m,h?f:f.slice(w));if(null===T||(S=p(s(m.lastIndex+(h?0:w)),f.length))===b)w=o(f,w,y);else{if(C.push(f.slice(b,w)),C.length===E)return C;for(var A=1;A<=T.length-1;A++)if(C.push(T[A]),C.length===E)return C;w=b=S}}return C.push(f.slice(b)),C}]}))},function(e,t,r){r(100)("asyncIterator")},function(e,t,r){"use strict";var n=r(5),i=r(27),a=r(12),o=r(28),s=r(23),c=r(142).KEY,u=r(17),l=r(57),p=r(48),f=r(34),h=r(4),d=r(101),g=r(100),y=r(143),v=r(102),m=r(10),E=r(11),b=r(29),w=r(31),C=r(55),S=r(37),T=r(75),A=r(145),I=r(53),B=r(74),k=r(13),_=r(59),R=I.f,N=k.f,L=A.f,x=n.Symbol,O=n.JSON,P=O&&O.stringify,U=h("_hidden"),D=h("toPrimitive"),M={}.propertyIsEnumerable,K=l("symbol-registry"),V=l("symbols"),j=l("op-symbols"),F=Object.prototype,q="function"==typeof x&&!!B.f,G=n.QObject,H=!G||!G.prototype||!G.prototype.findChild,z=a&&u((function(){return 7!=T(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=R(F,t);n&&delete F[t],N(e,t,r),n&&e!==F&&N(F,t,n)}:N,Y=function(e){var t=V[e]=T(x.prototype);return t._k=e,t},Q=q&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},W=function(e,t,r){return e===F&&W(j,t,r),m(e),t=C(t,!0),m(r),i(V,t)?(r.enumerable?(i(e,U)&&e[U][t]&&(e[U][t]=!1),r=T(r,{enumerable:S(0,!1)})):(i(e,U)||N(e,U,S(1,{})),e[U][t]=!0),z(e,t,r)):N(e,t,r)},X=function(e,t){m(e);for(var r,n=y(t=w(t)),i=0,a=n.length;a>i;)W(e,r=n[i++],t[r]);return e},J=function(e){var t=M.call(this,e=C(e,!0));return!(this===F&&i(V,e)&&!i(j,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,U)&&this[U][e])||t)},$=function(e,t){if(e=w(e),t=C(t,!0),e!==F||!i(V,t)||i(j,t)){var r=R(e,t);return!r||!i(V,t)||i(e,U)&&e[U][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=L(w(e)),n=[],a=0;r.length>a;)i(V,t=r[a++])||t==U||t==c||n.push(t);return n},ee=function(e){for(var t,r=e===F,n=L(r?j:w(e)),a=[],o=0;n.length>o;)!i(V,t=n[o++])||r&&!i(F,t)||a.push(V[t]);return a};q||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===F&&t.call(j,r),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),z(this,e,S(1,r))};return a&&H&&z(F,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),I.f=$,k.f=W,r(39).f=A.f=Z,r(66).f=J,B.f=ee,a&&!r(33)&&s(F,"propertyIsEnumerable",J,!0),d.f=function(e){return Y(h(e))}),o(o.G+o.W+o.F*!q,{Symbol:x});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)h(te[re++]);for(var ne=_(h.store),ie=0;ne.length>ie;)g(ne[ie++]);o(o.S+o.F*!q,"Symbol",{for:function(e){return i(K,e+="")?K[e]:K[e]=x(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in K)if(K[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!q,"Object",{create:function(e,t){return void 0===t?T(e):X(T(e),t)},defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=u((function(){B.f(1)}));o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return B.f(b(e))}}),O&&o(o.S+o.F*(!q||u((function(){var e=x();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(E(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,P.apply(O,n)}}),x.prototype[D]||r(15)(x.prototype,D,x.prototype.valueOf),p(x,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t){e.exports={}},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){var n=r(1);r(2);var i=e.exports=n.pem=n.pem||{};function a(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var a=0,o=-1;for(i=0;i<t.length;++i,++a)if(a>65&&-1!==o){var s=t[o];","===s?(++o,t=t.substr(0,o)+"\r\n "+t.substr(o)):t=t.substr(0,o)+"\r\n"+s+t.substr(o+1),a=i-o-1,o=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(o=i);return t}function o(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var r,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=a(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=a(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),i+=a(r)),e.headers)for(var o=0;o<e.headers.length;++o)i+=a(e.headers[o]);return e.procType&&(i+="\r\n"),i+=n.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=i.exec(e);){var c={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(c),t[2]){for(var u=t[2].split(s),l=0;t&&l<u.length;){for(var p=u[l].replace(/\s+$/,""),f=l+1;f<u.length;++f){var h=u[f];if(!/\s/.test(h[0]))break;p+=h,l=f}if(t=p.match(a)){for(var d={name:t[1],values:[]},g=t[2].split(","),y=0;y<g.length;++y)d.values.push(o(g[y]));if(c.procType)if(c.contentDomain||"Content-Domain"!==d.name)if(c.dekInfo||"DEK-Info"!==d.name)c.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:g[0],parameters:g[1]||null}}else c.contentDomain=g[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:g[0],type:g[1]}}}++l}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(e,t,r){var n=r(38),i=r(4)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(13).f,i=r(27),a=r(4)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(182),i=r(183),a=r(184);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return _(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var a,o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+c>s&&(r=s-c),a=r;a>=0;a--){for(var p=!0,f=0;f<c;f++)if(u(e,a+f)!==u(t,f)){p=!1;break}if(p)return a}return-1}function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function b(e,t,r,n){return q(j(t,e.length-r),e,r,n)}function w(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function C(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return q(F(t),e,r,n)}function T(e,t,r,n){return q(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,c,u=e[i],l=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=r)switch(p){case 1:u<128&&(l=u);break;case 2:128==(192&(a=e[i+1]))&&(c=(31&u)<<6|63&a)>127&&(l=c);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&u)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,p=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=p}return function(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=B));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),l=e.slice(t,r),p=0;p<s;++p)if(u[p]!==l[p]){a=u[p],o=l[p];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return C(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function _(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=V(e[a]);return i}function N(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function U(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,a){return a||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,a){return a||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||x(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=c.isBuffer(e)?e:j(new c(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(60))},function(e,t,r){var n=r(1);r(25),r(2),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,i=null,a={start:function(a,o){if(null!==a)if("string"==typeof a){if(!((a=a.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');t=n.md.algorithms[a].create()}else t=a;if(null===o)o=e;else{if("string"==typeof o)o=n.util.createBuffer(o);else if(n.util.isArray(o)){var s=o;o=n.util.createBuffer();for(var c=0;c<s.length;++c)o.putByte(s[c])}var u=o.length();u>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),u=o.length();for(c=0;c<u;++c){s=o.at(c);r.putByte(54^s),i.putByte(92^s)}if(u<t.blockLength)for(s=t.blockLength-u,c=0;c<s;++c)r.putByte(54),i.putByte(92);e=o,r=r.bytes(),i=i.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return a.digest=a.getMac,a}},function(e,t,r){var n=r(1);r(25),r(2);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),o=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var c=a.length;i.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=c[1],c[1]=c[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(a),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var c,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],p=0;p<i.fullMessageLength.length-1;++p)l+=(c=8*i.fullMessageLength[p+1])/4294967296>>>0,o.putInt32(l>>>0),l=c>>>0;o.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(f,r,o);var h=n.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h},i};var a=null,o=!1;function s(e,t,r){for(var n,i,a,o,s,c,u,l=r.length();l>=64;){for(i=e.h0,a=e.h1,o=e.h2,s=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+c+1518500249+n,c=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+c+1518500249+n,c=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(a^o^s)+c+1859775393+n,c=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(a^o^s)+c+1859775393+n,c=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(a&o|s&(a^o))+c+2400959708+n,c=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(a^o^s)+c+3395469782+n,c=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,e.h4=e.h4+c|0,l-=64}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(66),i=r(37),a=r(31),o=r(55),s=r(27),c=r(94),u=Object.getOwnPropertyDescriptor;t.f=r(12)?u:function(e,t){if(e=a(e),t=o(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(11);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(32),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){var n=r(40),i=r(5),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(33)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){"use strict";var n=r(10);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(95),i=r(70);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(1);function i(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(86),r(118),r(2),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createEncryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var i=d({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},n.des.createDecryptionCipher=function(e,t){return d({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return h(r._keys,e,t,!1)},decrypt:function(e,t){return h(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,b=0;b<y;b++){var w=e.getInt32(),C=e.getInt32();w^=(t=252645135&(w>>>4^C))<<4,w^=t=65535&((C^=t)>>>-16^w),w^=(t=858993459&(w>>>2^(C^=t<<-16)))<<2,w^=t=65535&((C^=t)>>>-16^w),w^=(t=1431655765&(w>>>1^(C^=t<<-16)))<<1,w^=t=16711935&((C^=t)>>>8^w),t=(w^=(t=1431655765&(w>>>1^(C^=t<<8)))<<1)<<8|(C^=t)>>>20&240,w=C<<24|C<<8&16711680|C>>>8&65280|C>>>24&240,C=t;for(var S=0;S<m.length;++S){m[S]?(w=w<<2|w>>>26,C=C<<2|C>>>26):(w=w<<1|w>>>27,C=C<<1|C>>>27);var T=r[(w&=-15)>>>28]|n[w>>>24&15]|i[w>>>20&15]|a[w>>>16&15]|o[w>>>12&15]|s[w>>>8&15]|c[w>>>4&15],A=u[(C&=-15)>>>28]|l[C>>>24&15]|p[C>>>20&15]|f[C>>>16&15]|h[C>>>12&15]|d[C>>>8&15]|g[C>>>4&15];t=65535&(A>>>16^T),v[E++]=T^t,v[E++]=A^t<<16}}return v}(t),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],c=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(e,t,r,n){var i,h,d=32===e.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],y=t[1];g^=(h=252645135&(g>>>4^y))<<4,g^=(h=65535&(g>>>16^(y^=h)))<<16,g^=h=858993459&((y^=h)>>>2^g),g^=h=16711935&((y^=h<<2)>>>8^g),g=(g^=(h=1431655765&(g>>>1^(y^=h<<8)))<<1)<<1|g>>>31,y=(y^=h)<<1|y>>>31;for(var v=0;v<d;v+=3){for(var m=i[v+1],E=i[v+2],b=i[v];b!=m;b+=E){var w=y^e[b],C=(y>>>4|y<<28)^e[b+1];h=g,g=y,y=h^(o[w>>>24&63]|c[w>>>16&63]|l[w>>>8&63]|f[63&w]|a[C>>>24&63]|s[C>>>16&63]|u[C>>>8&63]|p[63&C])}h=g,g=y,y=h}y=y>>>1|y<<31,y^=h=1431655765&((g=g>>>1|g<<31)>>>1^y),y^=(h=16711935&(y>>>8^(g^=h<<1)))<<8,y^=(h=858993459&(y>>>2^(g^=h)))<<2,y^=h=65535&((g^=h)>>>16^y),y^=h=252645135&((g^=h<<16)>>>4^y),g^=h<<4,r[0]=g,r[1]=y}function d(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var a=null;r instanceof n.util.ByteBuffer&&(a=r,r={}),(r=r||{}).output=a,r.iv=e,i.call(t,r)},t}},function(e,t,r){var n=r(1);if(r(24),r(63),r(36),r(126),r(127),r(16),r(2),void 0===i)var i=n.jsbn.BigInteger;var a=n.asn1;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var o=n.pki,s=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},p=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},f=function(e){var t;if(!(e.algorithm in o.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=o.oids[e.algorithm];var n=a.oidToDer(t).getBytes(),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);s.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,n)),s.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var c=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(c),a.toDer(i).getBytes()},h=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var a;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{a=new i(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(a.compareTo(t.n)>=0||!a.gcd(t.n).equals(i.ONE));for(var o=(e=e.multiply(a.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);o.compareTo(s)<0;)o=o.add(t.p);var c=o.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return c=c.multiply(a.modInverse(t.n)).mod(t.n)};function d(e,t,r){var i=n.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=a-11,o}i.putByte(0),i.putByte(r);var s,c=a-3-e.length;if(0===r||1===r){s=0===r?0:255;for(var u=0;u<c;++u)i.putByte(s)}else for(;c>0;){var l=0,p=n.random.getBytes(c);for(u=0;u<c;++u)0===(s=p.charCodeAt(u))?++l:i.putByte(s);c=l}return i.putByte(0),i.putBytes(e),i}function g(e,t,r,i){var a=Math.ceil(t.n.bitLength()/8),o=n.util.createBuffer(e),s=o.getByte(),c=o.getByte();if(0!==s||r&&0!==c&&1!==c||!r&&2!=c||r&&0===c&&void 0===i)throw new Error("Encryption block is invalid.");var u=0;if(0===c){u=a-3-i;for(var l=0;l<u;++l)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===c)for(u=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++u}else if(2===c)for(u=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++u}if(0!==o.getByte()||u!==a-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function y(e,t,r){"function"==typeof t&&(r=t,t={});var a={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function s(){c(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?u(t,e.q):void c(e.qBits,u))}))}function c(e,t){n.prime.generateProbablePrime(e,a,t)}function u(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var a=e.p;e.p=e.q,e.q=a}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void s();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void c(e.qBits,u);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void s();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void c(e.qBits,u);var l=e.e.modInverse(e.phi);e.keys={privateKey:o.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:o.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(a.prng=t.prng),s()}function v(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function m(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function E(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function b(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function w(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}o.rsa.encrypt=function(e,t,r){var a,o=r,s=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(o=2===r,a=d(e,t,r)):(a=n.util.createBuffer()).putBytes(e);for(var c=new i(a.toHex(),16),u=h(c,t,o).toString(16),l=n.util.createBuffer(),p=s-Math.ceil(u.length/2);p>0;)l.putByte(0),--p;return l.putBytes(n.util.hexToBytes(u)),l.getBytes()},o.rsa.decrypt=function(e,t,r,a){var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=o,s}var c=new i(n.util.createBuffer(e).toHex(),16);if(c.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=h(c,t,r).toString(16),l=n.util.createBuffer(),p=o-Math.ceil(u.length/2);p>0;)l.putByte(0),--p;return l.putBytes(n.util.hexToBytes(u)),!1!==a?g(l.getBytes(),t,r):l.getBytes()},o.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var a,o=(r=r||{}).prng||n.random,s={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},c=r.algorithm||"PRIMEINC";if("PRIMEINC"!==c)throw new Error("Invalid key generation algorithm: "+c);return(a={algorithm:c,state:0,bits:e,rng:s,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(a.eInt),a},o.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,a=0,c=function(e,t){return e|t},u=+new Date,l=0;null===e.keys&&(t<=0||l<t);){if(0===e.state){var p=null===e.p?e.pBits:e.qBits,f=p-1;0===e.pqState?(e.num=new i(p,e.rng),e.num.testBit(f)||e.num.bitwiseTo(i.ONE.shiftLeft(f),c,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),a=0,++e.pqState):1===e.pqState?e.num.bitLength()>p?e.pqState=0:e.num.isProbablePrime(m(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(s[a++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var h=e.e.modInverse(e.phi);e.keys={privateKey:o.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:o.rsa.setPublicKey(e.n,e.e)}}l+=(n=+new Date)-u,u=n}return null!==e.keys},o.rsa.generateKeyPair=function(e,t,r,i){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(i=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,i=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(i=r,r=void 0):(i=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&i&&e>=256&&e<=16384&&(65537===t||3===t)){if(E("generateKey")&&E("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:w(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){i(e)})).then((function(e){if(e){var t=o.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(e)));i(null,{privateKey:t,publicKey:o.setRsaPublicKey(t.n,t.e)})}}));if(b("generateKey")&&b("exportKey")){var s=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:w(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return s.oncomplete=function(e){var t=e.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=o.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(t)));i(null,{privateKey:r,publicKey:o.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){i(e)}},void(s.onerror=function(e){i(e)})}}var c=o.rsa.createKeyPairGenerationState(e,t,r);if(!i)return o.rsa.stepKeyPairGenerationState(c,0),c.keys;y(c,r,i)},o.setRsaPublicKey=o.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return d(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var a=t.encode(e,r,!0);return o.rsa.encrypt(a,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=g(t,r,!0),e===a.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===(t=g(t,r,!0))}});var i=o.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},o.setRsaPrivateKey=o.rsa.setPrivateKey=function(e,t,r,i,a,s,c,u){var l={n:e,e:t,d:r,p:i,q:a,dP:s,dQ:c,qInv:u,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=o.rsa.decrypt(e,l,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:g};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,l,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:f},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,l.n.bitLength());return o.rsa.encrypt(n,l,r)}};return l},o.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},o.privateKeyFromAsn1=function(e){var t,r,s,l,p,f,h,d,g={},y=[];if(a.validate(e,c,g,y)&&(e=a.fromDer(n.util.createBuffer(g.privateKey))),g={},y=[],!a.validate(e,u,g,y)){var v=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw v.errors=y,v}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),l=n.util.createBuffer(g.privateKeyPrime1).toHex(),p=n.util.createBuffer(g.privateKeyPrime2).toHex(),f=n.util.createBuffer(g.privateKeyExponent1).toHex(),h=n.util.createBuffer(g.privateKeyExponent2).toHex(),d=n.util.createBuffer(g.privateKeyCoefficient).toHex(),o.setRsaPrivateKey(new i(t,16),new i(r,16),new i(s,16),new i(l,16),new i(p,16),new i(f,16),new i(h,16),new i(d,16))},o.privateKeyToAsn1=o.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.qInv))])},o.publicKeyFromAsn1=function(e){var t={},r=[];if(a.validate(e,p,t,r)){var s,c=a.derToOid(t.publicKeyOid);if(c!==o.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=c,s;e=t.rsaPublicKey}if(r=[],!a.validate(e,l,t,r))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,s;var u=n.util.createBuffer(t.publicKeyModulus).toHex(),f=n.util.createBuffer(t.publicKeyExponent).toHex();return o.setRsaPublicKey(new i(u,16),new i(f,16))},o.publicKeyToAsn1=o.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[o.publicKeyToRSAPublicKey(e)])])},o.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,v(e.e))])}},function(e,t,r){var n,i=r(1);e.exports=i.jsbn=i.jsbn||{};function a(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function o(){return new a(null)}function s(e,t,r,n,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var c=16383&this.data[e],u=this.data[e++]>>14,l=s*c+u*o;i=((c=o*c+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+s*u,r.data[n++]=268435455&c}return i}i.jsbn.BigInteger=a,"undefined"==typeof navigator?(a.prototype.am=s,n=28):"Microsoft Internet Explorer"==navigator.appName?(a.prototype.am=function(e,t,r,n,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var c=32767&this.data[e],u=this.data[e++]>>15,l=s*c+u*o;i=((c=o*c+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+s*u+(i>>>30),r.data[n++]=1073741823&c}return i},n=30):"Netscape"!=navigator.appName?(a.prototype.am=function(e,t,r,n,i,a){for(;--a>=0;){var o=t*this.data[e++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=67108863&o}return i},n=26):(a.prototype.am=s,n=28),a.prototype.DB=n,a.prototype.DM=(1<<n)-1,a.prototype.DV=1<<n;a.prototype.FV=Math.pow(2,52),a.prototype.F1=52-n,a.prototype.F2=2*n-52;var c,u,l="0123456789abcdefghijklmnopqrstuvwxyz",p=new Array;for(c="0".charCodeAt(0),u=0;u<=9;++u)p[c++]=u;for(c="a".charCodeAt(0),u=10;u<36;++u)p[c++]=u;for(c="A".charCodeAt(0),u=10;u<36;++u)p[c++]=u;function f(e){return l.charAt(e)}function h(e,t){var r=p[e.charCodeAt(t)];return null==r?-1:r}function d(e){var t=o();return t.fromInt(e),t}function g(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function y(e){this.m=e}function v(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function m(e,t){return e&t}function E(e,t){return e|t}function b(e,t){return e^t}function w(e,t){return e&~t}function C(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function S(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function T(){}function A(e){return e}function I(e){this.r2=o(),this.q3=o(),a.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}y.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},y.prototype.revert=function(e){return e},y.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},y.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},y.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},v.prototype.convert=function(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(a.ZERO)>0&&this.m.subTo(t,t),t},v.prototype.revert=function(e){var t=o();return e.copyTo(t),this.reduce(t),t},v.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},v.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},v.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},a.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},a.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var s=8==r?255&e[n]:h(e,n);s<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=s:o+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&a.ZERO.subTo(this,this)},a.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},a.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},a.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},a.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+o+1]=this.data[r]>>i|s,s=(this.data[r]&a)<<n;for(r=o-1;r>=0;--r)t.data[r]=0;t.data[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},a.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&a)<<i,t.data[o-r]=this.data[o]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}},a.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},a.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)},a.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},a.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=o());var s=o(),c=this.s,u=e.s,l=this.DB-g(n.data[n.t-1]);l>0?(n.lShiftTo(l,s),i.lShiftTo(l,r)):(n.copyTo(s),i.copyTo(r));var p=s.t,f=s.data[p-1];if(0!=f){var h=f*(1<<this.F1)+(p>1?s.data[p-2]>>this.F2:0),d=this.FV/h,y=(1<<this.F1)/h,v=1<<this.F2,m=r.t,E=m-p,b=null==t?o():t;for(s.dlShiftTo(E,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),a.ONE.dlShiftTo(p,b),b.subTo(s,s);s.t<p;)s.data[s.t++]=0;for(;--E>=0;){var w=r.data[--m]==f?this.DM:Math.floor(r.data[m]*d+(r.data[m-1]+v)*y);if((r.data[m]+=s.am(0,w,r,E,0,p))<w)for(s.dlShiftTo(E,b),r.subTo(b,r);r.data[m]<--w;)r.subTo(b,r)}null!=t&&(r.drShiftTo(p,t),c!=u&&a.ZERO.subTo(t,t)),r.t=p,r.clamp(),l>0&&r.rShiftTo(l,r),c<0&&a.ZERO.subTo(r,r)}}},a.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},a.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},a.prototype.exp=function(e,t){if(e>4294967295||e<1)return a.ONE;var r=o(),n=o(),i=t.convert(this),s=g(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var c=r;r=n,n=c}return t.revert(r)},a.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(r=this.data[o]>>s)>0&&(i=!0,a=f(r));o>=0;)s<t?(r=(this.data[o]&(1<<s)-1)<<t-s,r|=this.data[--o]>>(s+=this.DB-t)):(r=this.data[o]>>(s-=t)&n,s<=0&&(s+=this.DB,--o)),r>0&&(i=!0),i&&(a+=f(r));return i?a:"0"},a.prototype.negate=function(){var e=o();return a.ZERO.subTo(this,e),e},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},a.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+g(this.data[this.t-1]^this.s&this.DM)},a.prototype.mod=function(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(a.ZERO)>0&&e.subTo(t,t),t},a.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new y(t):new v(t),this.exp(e,r)},a.ZERO=d(0),a.ONE=d(1),T.prototype.convert=A,T.prototype.revert=A,T.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},T.prototype.sqrTo=function(e,t){e.squareTo(t)},I.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=o();return e.copyTo(t),this.reduce(t),t},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var B=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],k=(1<<26)/B[B.length-1];a.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},a.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=d(r),i=o(),a=o(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(e).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(e)+s},a.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,s=0,c=0;c<e.length;++c){var u=h(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(s=t*s+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&a.ZERO.subTo(this,this)},a.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(a.ONE.shiftLeft(e-1),E,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(a.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},a.prototype.bitwiseTo=function(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},a.prototype.changeBit=function(e,t){var r=a.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},a.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},a.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},a.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},a.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},a.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},a.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},a.prototype.millerRabin=function(e){var t=this.subtract(a.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),o={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},s=0;s<e;++s){do{n=new a(this.bitLength(),o)}while(n.compareTo(a.ONE)<=0||n.compareTo(t)>=0);var c=n.modPow(i,this);if(0!=c.compareTo(a.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<r&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(a.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},a.prototype.clone=function(){var e=o();return this.copyTo(e),e},a.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},a.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},a.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},a.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},a.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},a.prototype.equals=function(e){return 0==this.compareTo(e)},a.prototype.min=function(e){return this.compareTo(e)<0?this:e},a.prototype.max=function(e){return this.compareTo(e)>0?this:e},a.prototype.and=function(e){var t=o();return this.bitwiseTo(e,m,t),t},a.prototype.or=function(e){var t=o();return this.bitwiseTo(e,E,t),t},a.prototype.xor=function(e){var t=o();return this.bitwiseTo(e,b,t),t},a.prototype.andNot=function(e){var t=o();return this.bitwiseTo(e,w,t),t},a.prototype.not=function(){for(var e=o(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},a.prototype.shiftLeft=function(e){var t=o();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},a.prototype.shiftRight=function(e){var t=o();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},a.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+C(this.data[e]);return this.s<0?this.t*this.DB:-1},a.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=S(this.data[r]^t);return e},a.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},a.prototype.setBit=function(e){return this.changeBit(e,E)},a.prototype.clearBit=function(e){return this.changeBit(e,w)},a.prototype.flipBit=function(e){return this.changeBit(e,b)},a.prototype.add=function(e){var t=o();return this.addTo(e,t),t},a.prototype.subtract=function(e){var t=o();return this.subTo(e,t),t},a.prototype.multiply=function(e){var t=o();return this.multiplyTo(e,t),t},a.prototype.divide=function(e){var t=o();return this.divRemTo(e,t,null),t},a.prototype.remainder=function(e){var t=o();return this.divRemTo(e,null,t),t},a.prototype.divideAndRemainder=function(e){var t=o(),r=o();return this.divRemTo(e,t,r),new Array(t,r)},a.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),a=d(1);if(i<=0)return a;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new y(t):t.isEven()?new I(t):new v(t);var s=new Array,c=3,u=r-1,l=(1<<r)-1;if(s[1]=n.convert(this),r>1){var p=o();for(n.sqrTo(s[1],p);c<=l;)s[c]=o(),n.mulTo(p,s[c-2],s[c]),c+=2}var f,h,m=e.t-1,E=!0,b=o();for(i=g(e.data[m])-1;m>=0;){for(i>=u?f=e.data[m]>>i-u&l:(f=(e.data[m]&(1<<i+1)-1)<<u-i,m>0&&(f|=e.data[m-1]>>this.DB+i-u)),c=r;0==(1&f);)f>>=1,--c;if((i-=c)<0&&(i+=this.DB,--m),E)s[f].copyTo(a),E=!1;else{for(;c>1;)n.sqrTo(a,b),n.sqrTo(b,a),c-=2;c>0?n.sqrTo(a,b):(h=a,a=b,b=h),n.mulTo(b,s[f],a)}for(;m>=0&&0==(e.data[m]&1<<i);)n.sqrTo(a,b),h=a,a=b,b=h,--i<0&&(i=this.DB-1,--m)}return n.revert(a)},a.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return a.ZERO;for(var r=e.clone(),n=this.clone(),i=d(1),o=d(0),s=d(0),c=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(s,i),o.subTo(c,o)):(n.subTo(r,n),t&&s.subTo(i,s),c.subTo(o,c))}return 0!=n.compareTo(a.ONE)?a.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},a.prototype.pow=function(e){return this.exp(e,new T)},a.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r},a.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=B[B.length-1]){for(t=0;t<B.length;++t)if(r.data[0]==B[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<B.length;){for(var n=B[t],i=t+1;i<B.length&&n<k;)n*=B[i++];for(n=r.modInt(n);t<i;)if(n%B[t++]==0)return!1}return r.millerRabin(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(41);function n(){}n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,r){this.callbacks=this.callbacks||{};var n=3===arguments.length,i=n?arguments[1]:void 0,a=n?arguments[2]:arguments[1];return a._groupName=i,(this.callbacks[e]=this.callbacks[e]||[]).push(a),this},t.once=function(e,t,r){var n=this,i=3===arguments.length,a=i?arguments[1]:void 0,o=i?arguments[2]:arguments[1];function s(){n.off(e,s),o.apply(this,arguments)}return this.on(e,a,s),this},t.releaseGroup=function(e){var t,r,n,i;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(r=0,n=(i=this.callbacks[t]).length;r<n;r++)i[r]._groupName===e&&(i.splice(r,1),r--,n--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var r,n=this.callbacks[e];return n?1===arguments.length?(delete this.callbacks[e],this):(r=n.indexOf(t),n.splice(r,1),0===n.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,r,n,i=[].slice.call(arguments,1),a=this.callbacks[e],o=this.getWildcardCallbacks(e);if(a)for(t=0,r=(n=a.slice()).length;t<r&&n[t];++t)n[t].apply(this,i);if(o)for(r=o.length,t=0,r=(n=o.slice()).length;t<r&&n[t];++t)n[t].apply(this,[e].concat(i));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,r,n=[];for(t in this.callbacks)r=t.split("*"),("*"===t||2===r.length&&e.slice(0,r[0].length)===r[0])&&(n=n.concat(this.callbacks[t]));return n}},n.mixin(n)},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return E}));var n=r(91),i=r.n(n),a=(r(85),r(42),r(43),r(8)),o=r.n(a),s=(r(82),r(20)),c=r.n(s),u=(r(18),r(19),r(6)),l=r.n(u),p=r(7),f=r.n(p),h=r(3),d=r(64),g=r(21),y=r(22),v=r(0),m=r(92),E=(r(49),function(){function t(e,r,n,i){l()(this,t),d.a.mixin(this),this.pkfp=e,this.name=r,this.privateKey=n,this.comment=i,this.handlers={},this.messageQueue,this.arrivalHub,this.currentMetadata,this.participants={},this.messages=[],this.settings={},this.invites={},this.getPrivateKey=function(){return n},this.isBootstrapped=!1,this.metadataLoaded=!1,this.isInitLoaded=!1,this.allMessagesLoaded=!1,this.awaitingMessages=!1}var r;return f()(t,[{key:"bootstrap",value:function(e,t,r){var n=this;this.messageQueue=e,this.arrivalHub=t,this.arrivalHub.on(this.pkfp,(function(e){n.processIncomingMessage(e,n)})),this.version=r,this.setHandlers(),this.bootstrapped=!0}},{key:"loadMetadata",value:function(e){var t=JSON.parse(y.a.decryptStandardMessage(e.body.settings,this.privateKey));this._metadata=e,this._metadata.body.settings=t,this.settings=t,this.participants={};for(var r=0,n=Object.keys(e.body.participants);r<n.length;r++){var i=n[r];this.participants[i]={},this.participants[i].key=e.body.participants[i].key,this.participants[i].pkfp=e.body.participants[i].pkfp,this.participants[i].publicKey=e.body.participants[i].publicKey,this.participants[i].residence=e.body.participants[i].residence,this.participants[i].rights=e.body.participants[i].rights,e.body.settings.membersData&&(this.participants[i].nickname=e.body.settings.membersData[i]?e.body.settings.membersData[i].nickname:"",this.participants[i].joined=e.body.settings.membersData[i]?e.body.settings.membersData[i].joined:"")}this.topicAuthority=e.body.topicAuthority,e.body.settings.invites||(e.body.settings.invites={}),this.invites=e.body.settings.invites,this.metadataLoaded=!0}},{key:"initLoad",value:(r=c()(o.a.mark((function e(){var t,r,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:25,n.length>1&&void 0!==n[1]&&n[1],(r=this).ensureBootstrapped(),setTimeout((function(){r._loadMessages(r,t),r.awaitingMessages=!0}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"processInitLoad",value:function(e){}},{key:"setHandlers",value:function(){var e=this;this.handlers[h.Internal.LOAD_MESSAGES_SUCCESS]=this.processMessagesLoaded,this.handlers[h.Internal.INVITE_REQUEST_TIMEOUT]=function(){console.log("Invite request timeout")},this.handlers[h.Events.INVITE_CREATED]=function(t){console.log("Invite created event"),e.processInviteCreated(e,t)},this.handlers[h.Internal.SETTINGS_UPDATED]=function(t){console.log("Settings updated"),e.processSettingsUpdated(t)}}},{key:"getMessages",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1];this.initLoaded?this.emit(h.Events.MESSAGES_LOADED,this.messages):(console.log("Messages has not been loaded. Loading...."),this.initLoad())}},{key:"shout",value:function(t,r){var n=this,i=this;this.ensureBootstrapped(),e(c()(o.a.mark((function e(){var a,s,c,u,l,p,f,h,d,y,v,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=i.session.metadata.id,e.next=4,i.prepareMessage(n.version,t);case 4:if(c=e.sent,!(r&&r.length>0)){e.next=28;break}return e.next=8,i.uploadAttachments(r,c.header.id,s);case 8:for(a=e.sent,u=!0,l=!1,p=void 0,e.prev=12,f=a[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)d=h.value,c.addAttachmentInfo(d);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),l=!0,p=e.t0;case 20:e.prev=20,e.prev=21,u||null==f.return||f.return();case 23:if(e.prev=23,!l){e.next=26;break}throw p;case 26:return e.finish(23);case 27:return e.finish(20);case 28:c.encryptMessage(n.session.metadata.sharedKey),c.sign(n.session.privateKey),(y=new g.a(i.version)).headers.pkfpSource=n.session.publicKeyFingerprint,y.headers.command="broadcast_message",y.body.message=c.toBlob(),v=(new Date).getTime(),y.travelLog={},y.travelLog[v]="Outgoing processed on client.",m=n.session.privateKey,y.signMessage(m),n.chatSocket.emit("request",y),e.next=46;break;case 42:throw e.prev=42,e.t1=e.catch(0),console.error("Error sending message: ".concat(e.t1.message)),e.t1;case 46:case"end":return e.stop()}}),e,null,[[0,42],[12,16,20,28],[21,,23,27]])}))))}},{key:"whisper",value:function(e,t){}},{key:"processIncomingMessage",value:function(e,t){if(console.log("Incoming message on ".concat(this.pkfp," received!")),!t.handlers.hasOwnProperty(e.headers.command)){var r="No handler found for command: ".concat(e.headers.command);throw new Error(r)}t.handlers[e.headers.command](e,t)}},{key:"prepareMessage",value:function(e,t,r){if(void 0===e||""===e)throw new Error("Chat message initialization error: Version is required");console.log("Preparing message: "+t);var n=new m.a;return n.version=e,n.header.metadataID=this.session.metadata.id,n.header.author=this.session.publicKeyFingerprint,n.header.recipient=r||"ALL",n.header.private=!!r,n.header.nickname=this.session.settings.nickname,n.body=t,n}},{key:"_loadMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,r=arguments.length>2?arguments[2]:void 0,n=new g.a(e.version);n.headers.command=h.Internal.LOAD_MESSAGES,n.headers.pkfpSource=e.pkfp,n.body.quantity=t,r&&(n.body.lastMessageId=r),n.addNonce(),n.signMessage(e.privateKey),e.messageQueue.enqueue(n)}},{key:"requestInvite",value:function(){var e=this;if(!e.metadataLoaded)throw new Error("Metadata has not been loading yet.");setTimeout((function(){var t=new g.a(e.version),r=e.topicAuthority.publicKey,n=y.a.encryptStandardMessage(e.participants[e.pkfp].nickname,r),i=y.a.encryptStandardMessage(e.name,r);t.setCommand(h.Internal.REQUEST_INVITE),t.setSource(e.pkfp),t.setDest(e.topicAuthority.pkfp),t.body.nickname=n,t.body.topicName=i,t.signMessage(e.privateKey),e.messageQueue.enqueue(t)}),100)}},{key:"syncInvites",value:function(){var e=new g.a(self.version);e.headers.command="sync_invites",e.headers.pkfpSource=this.session.publicKeyFingerprint,e.headers.pkfpDest=this.session.metadata.topicAuthority.pkfp,e.headers.nonce=ic.get("nhex"),e.signMessage(this.session.privateKey),this.chatSocket.emit("request",e)}},{key:"updateInvite",value:function(){this.session.settings.invites[inviteID].name=name,this.saveClientSettings(this.session.settings,this.session.privateKey)}},{key:"deleteInvite",value:function(){console.log("About to delete invite: "+id);var e=new g.a(self.version);e.headers.command="del_invite",e.headers.pkfpSource=this.session.publicKeyFingerprint,e.headers.pkfpDest=this.session.metadata.topicAuthority.pkfp;var t={invite:id};e.set("body",t),e.signMessage(this.session.privateKey),this.chatSocket.emit("request",e)}},{key:"updatePendingInvites",value:function(e){var t=!0,r=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.session.settings.invites.hasOwnProperty(o)||(this.session.settings.invites[o]={})}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}for(var s=0,c=Object.keys(this.session.settings.invites);s<c.length;s++){var u=c[s];e.includes(u)||delete this.session.settings.invites[u]}this.saveClientSettings(this.session.settings,this.session.privateKey)}},{key:"saveClientSettings",value:function(e,t){e||(e=this.settings),t||(t=this.privateKey);var r=new v.a;r.asym.setKey("privk",t,"private").publicFromPrivate("privk","pub");var n=r.get("pub");"object"==typeof e&&(e=JSON.stringify(e));var i=y.a.encryptStandardMessage(e,n);r.addBlob("cipher",i).privateKeySign("cipher","privk","sign");var a={settings:i,signature:r.get("sign")},o=new g.a(this.version);o.setSource(this.pkfp),o.setCommand(h.Internal.UPDATE_SETTINGS),o.set("body",a),o.signMessage(t),console.log("Sending update settings request"),this.messageQueue.enqueue(o)}},{key:"processMessagesLoaded",value:function(e,t){console.log("Messages loaded. Processing...");for(var r=e.body.lastMessages,n=r.keys,a=Object.keys(n),o=0;o<a.length;++o){var s=new v.a;s.addBlob("k",n[a[o]]).hexToBytes("k","kraw").setRSAKey("priv",t.privateKey,"private").privateKeyDecrypt("kraw","priv","kdec"),n[a[o]]=s.get("kdec")}for(var c=r.messages,u=[],l=0;l<c.length;++l){var p=new m.a(c[l]);p.header.service?p.body=y.a.decryptStandardMessage(p.body,t.privateKey):p.header.private?p.decryptPrivateMessage(t.privateKey):p.decryptMessage(n[p.header.metadataID]),u.push(p)}if(t.initLoaded&&0!==t.messages.length){var f=u[0].header.id,d=t.messages.findIndex((function(e){return e.header.id===f}));t.messages=[].concat(d?i()(t.messages.slice(0,d)):i()(t.messages),u)}else t.messages=u;t.initLoaded=!0,t.allMessagesLoaded=r.allLoaded,t.emit(h.Events.MESSAGES_LOADED,t.messages)}},{key:"processSettingsUpdated",value:function(e){var t=e.body.settings,r=e.body.signature,n=new v.a;if(n.addBlob("settings",t).addBlob("sign",r).setRSAKey("pub",this.getPublicKey(),"public").publicKeyVerify("settings","sign","pub","res"),!n.get("res"))throw new Error("Settings blob signature verification failed");var i=JSON.parse(y.a.decryptStandardMessage(t,this.privateKey));this.settings=i,console.log("Settings updated successfully!")}},{key:"bootPraticipant",value:function(){}},{key:"processMetadataUpdate",value:function(){}},{key:"processNicknameRequest",value:function(){}},{key:"processNicknameResponse",value:function(){}},{key:"processNicknameChangeNote",value:function(){}},{key:"processInviteCreated",value:function(e,t){console.log("New invite: ".concat(t.body.inviteCode));var r=t.body.userInvites;e.settings.invites||(e.settings.invites={});var n=!0,i=!1,a=void 0;try{for(var o,s=r[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;e.settings.invites.hasOwnProperty(c)||(e.settings.invites[c]={})}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}for(var u=0,l=Object.keys(e.settings.invites);u<l.length;u++){var p=l[u];r.includes(p)||delete e.settings.invites[p]}e.saveClientSettings(e.settings,e.privateKey)}},{key:"getParticipantAlias",value:function(e){if(this.isBootstrapped&&e){var t=this.participants[e];return t&&t.alias?t.alias:e.substring(0,8)}}},{key:"getParticipantRepr",value:function(e){if(this.participants[e])return this.participants[e].alias||this.participants[e].nickname||"Unknown"}},{key:"getPublicKey",value:function(){if(!this.privateKey)throw new Error("No private key found");if(!this.publicKey){var e=new v.a;e.setRSAKey("priv",this.privateKey,"private").publicFromPrivate("priv","pub"),this.publicKey=e.get("pub")}return this.publicKey}},{key:"ensureInitLoaded",value:function(){if(!this.initLoaded||!this.currentMetadata)throw new Error("Topic has no metadata")}},{key:"ensureBootstrapped",value:function(){if(!this.bootstrapped||!this.messageQueue||!this.arrivalHub)throw new Error("Topic is not bootstrapped!")}},{key:"setName",value:function(e){this.name=e}}]),t}())}).call(this,r(111).setImmediate)},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(11),i=r(5).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(31),i=r(14),a=r(56);e.exports=function(e){return function(t,r,o){var s,c=n(t),u=i(c.length),l=a(o,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(57)("keys"),i=r(34);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";var n=r(5),i=r(13),a=r(12),o=r(4)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(10),i=r(52),a=r(4)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},function(e,t,r){"use strict";var n,i,a=r(58),o=RegExp.prototype.exec,s=String.prototype.replace,c=o,u=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,r,n,i,c=this;return l&&(r=new RegExp("^"+c.source+"$(?!\\s)",a.call(c))),u&&(t=c.lastIndex),n=o.call(c,e),u&&n&&(c.lastIndex=c.global?n.index+n[0].length:t),l&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=c},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(10),i=r(144),a=r(70),o=r(69)("IE_PROTO"),s=function(){},c=function(){var e,t=r(67)("iframe"),n=a.length;for(t.style.display="none",r(103).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[a[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){"use strict";var n,i,a,o,s=r(33),c=r(5),u=r(26),l=r(47),p=r(28),f=r(11),h=r(52),d=r(77),g=r(146),y=r(72),v=r(105).set,m=r(148)(),E=r(106),b=r(149),w=r(150),C=r(151),S=c.TypeError,T=c.process,A=T&&T.versions,I=A&&A.v8||"",B=c.Promise,k="process"==l(T),_=function(){},R=i=E.f,N=!!function(){try{var e=B.resolve(1),t=(e.constructor={})[r(4)("species")]=function(e){e(_,_)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(_)instanceof t&&0!==I.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},x=function(e,t){if(!e._n){e._n=!0;var r=e._c;m((function(){for(var n=e._v,i=1==e._s,a=0,o=function(t){var r,a,o,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(i||(2==e._h&&U(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),o=!0)),r===t.promise?u(S("Promise-chain cycle")):(a=L(r))?a.call(r,c,u):c(r)):u(n)}catch(e){l&&!o&&l.exit(),u(e)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&O(e)}))}},O=function(e){v.call(c,(function(){var t,r,n,i=e._v,a=P(e);if(a&&(t=b((function(){k?T.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)})),e._h=k||P(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){v.call(c,(function(){var t;k?T.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),x(t,!0))},M=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=L(e))?m((function(){var n={_w:r,_d:!1};try{t.call(e,u(M,n,1),u(D,n,1))}catch(e){D.call(n,e)}})):(r._v=e,r._s=1,x(r,!1))}catch(e){D.call({_w:r,_d:!1},e)}}};N||(B=function(e){d(this,B,"Promise","_h"),h(e),n.call(this);try{e(u(M,this,1),u(D,this,1))}catch(e){D.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(80)(B.prototype,{then:function(e,t){var r=R(y(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=k?T.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&x(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=u(M,e,1),this.reject=u(D,e,1)},E.f=R=function(e){return e===B||e===o?new a(e):i(e)}),p(p.G+p.W+p.F*!N,{Promise:B}),r(48)(B,"Promise"),r(71)("Promise"),o=r(40).Promise,p(p.S+p.F*!N,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!N),"Promise",{resolve:function(e){return C(s&&this===o?B:this,e)}}),p(p.S+p.F*!(N&&r(81)((function(e){B.all(e).catch(_)}))),"Promise",{all:function(e){var t=this,r=R(t),n=r.resolve,i=r.reject,a=b((function(){var r=[],a=0,o=1;g(e,!1,(function(e){var s=a++,c=!1;r.push(void 0),o++,t.resolve(e).then((function(e){c||(c=!0,r[s]=e,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,i=b((function(){g(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(44),i=r(4)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){var n=r(47),i=r(4)("iterator"),a=r(44);e.exports=r(40).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){var n=r(23);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){var n=r(4)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},e(a)}catch(e){}return r}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=b;var p="suspendedStart",f="suspendedYield",h="executing",d="completed",g={},y={};y[o]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(N([])));m&&m!==n&&i.call(m,o)&&(y=m);var E=T.prototype=C.prototype=Object.create(y);S.prototype=E.constructor=T,T.constructor=S,T[c]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(E),e},l.awrap=function(e){return{__await:e}},A(I.prototype),I.prototype[s]=function(){return this},l.AsyncIterator=I,l.async=function(e,t,r,n){var i=new I(b(e,t,r,n));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(E),E[c]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=N,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),g}}}function b(e,t,r,n){var i=t&&t.prototype instanceof C?t:C,a=Object.create(i.prototype),o=new R(n||[]);return a._invoke=function(e,t,r){var n=p;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw a;return L()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=B(o,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=w(e,t,r);if("normal"===c.type){if(n=r.done?d:f,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function C(){}function S(){}function T(){}function A(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function I(e){var t;this._invoke=function(r,n){function a(){return new Promise((function(t,a){!function t(r,n,a,o){var s=w(e[r],e,n);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(u).then((function(e){c.value=e,a(c)}),o)}o(s.arg)}(r,n,t,a)}))}return t=t?t.then(a,a):a()}}function B(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,B(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=w(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,g;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(o=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(a).concat([i]).join("\n")}var o;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(n[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){var n,i,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},c=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,p=[],f=r(158);function h(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=a[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(E(n.parts[o],t))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(E(n.parts[o],t));a[n.id]={id:n.id,refs:1,parts:s}}}}function d(e,t){for(var r=[],n={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(s):r.push(n[o]={id:o,parts:[s]})}return r}function g(e,t){var r=c(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=p[p.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),p.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=c(e.insertAt.before,r);r.insertBefore(t,i)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return m(t,e.attrs),g(e,t),t}function m(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function E(e,t){var r,n,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=l++;r=u||(u=v(t)),n=C.bind(null,r,o,!1),i=C.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),g(e,t),t}(t),n=T.bind(null,r,t),i=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(t),n=S.bind(null,r),i=function(){y(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=d(e,t);return h(r,t),function(e){for(var n=[],i=0;i<r.length;i++){var o=r[i];(s=a[o.id]).refs--,n.push(s)}e&&h(d(e,t),t);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function C(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function S(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function T(e,t,r){var n=r.css,i=r.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(n=f(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},function(e,t,r){"use strict";var n=r(28),i=r(68)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(108)("includes")},function(e,t,r){var n=r(1);r(2),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){var n=r(1);r(25),r(2);var i=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){u||function(){a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var e=0;e<64;++e)c[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));u=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var s=a.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(a),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-s));for(var c,u=0,p=i.fullMessageLength.length-1;p>=0;--p)u=(c=8*i.fullMessageLength[p]+u)/4294967296>>>0,o.putInt32Le(c>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(f,r,o);var h=n.util.createBuffer();return h.putInt32Le(f.h0),h.putInt32Le(f.h1),h.putInt32Le(f.h2),h.putInt32Le(f.h3),h},i};var a=null,o=null,s=null,c=null,u=!1;function l(e,t,r){for(var n,i,a,u,l,p,f,h=r.length();h>=64;){for(i=e.h0,a=e.h1,u=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),n=i+(l^a&(u^l))+c[f]+t[f],i=l,l=u,u=a,a+=n<<(p=s[f])|n>>>32-p;for(;f<32;++f)n=i+(u^l&(a^u))+c[f]+t[o[f]],i=l,l=u,u=a,a+=n<<(p=s[f])|n>>>32-p;for(;f<48;++f)n=i+(a^u^l)+c[f]+t[o[f]],i=l,l=u,u=a,a+=n<<(p=s[f])|n>>>32-p;for(;f<64;++f)n=i+(u^(a|~l))+c[f]+t[o[f]],i=l,l=u,u=a,a+=n<<(p=s[f])|n>>>32-p;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+u|0,e.h3=e.h3+l|0,h-=64}}},function(e,t,r){(function(t){var n=r(1);r(50),r(25),r(2);var i,a=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(122)),e.exports=n.pbkdf2=a.pbkdf2=function(e,r,a,o,s,c){if("function"==typeof s&&(c=s,s=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===s||"object"!=typeof s)&&(i.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=new t(e,"binary"),r=new t(r,"binary"),c?4===i.pbkdf2Sync.length?i.pbkdf2(e,r,a,o,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):i.pbkdf2(e,r,a,o,s,(function(e,t){if(e)return c(e);c(null,t.toString("binary"))})):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,r,a,o).toString("binary"):i.pbkdf2Sync(e,r,a,o,s).toString("binary");if(null==s&&(s="sha1"),"string"==typeof s){if(!(s in n.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=n.md[s].create()}var u=s.digestLength;if(o>4294967295*u){var l=new Error("Derived key is too long.");if(c)return c(l);throw l}var p=Math.ceil(o/u),f=o-(p-1)*u,h=n.hmac.create();h.start(s,e);var d,g,y,v="";if(!c){for(var m=1;m<=p;++m){h.start(null,null),h.update(r),h.update(n.util.int32ToBytes(m)),d=y=h.digest().getBytes();for(var E=2;E<=a;++E)h.start(null,null),h.update(y),g=h.digest().getBytes(),d=n.util.xorBytes(d,g,u),y=g;v+=m<p?d:d.substr(0,f)}return v}m=1;function b(){if(m>p)return c(null,v);h.start(null,null),h.update(r),h.update(n.util.int32ToBytes(m)),d=y=h.digest().getBytes(),E=2,w()}function w(){if(E<=a)return h.start(null,null),h.update(y),g=h.digest().getBytes(),d=n.util.xorBytes(d,g,u),y=g,++E,n.util.setImmediate(w);v+=m<p?d:d.substr(0,f),++m,b()}b()}}).call(this,r(49).Buffer)},function(e,t,r){var n=r(1);r(35),r(24),r(61),r(25),r(187),r(36),r(46),r(90),r(62),r(2);var i=n.asn1,a=e.exports=n.pki=n.pki||{},o=a.oids,s={};s.CN=o.commonName,s.commonName="CN",s.C=o.countryName,s.countryName="C",s.L=o.localityName,s.localityName="L",s.ST=o.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=o.organizationName,s.organizationName="O",s.OU=o.organizationalUnitName,s.organizationalUnitName="OU",s.E=o.emailAddress,s.emailAddress="E";var c=n.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},c,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},p={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},c,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},f={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[p,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}a.RDNAttributesAsArray=function(e,t){for(var r,n,a,c=[],u=0;u<e.value.length;++u){r=e.value[u];for(var l=0;l<r.value.length;++l)a={},n=r.value[l],a.type=i.derToOid(n.value[0].value),a.value=n.value[1].value,a.valueTagClass=n.value[1].type,a.type in o&&(a.name=o[a.type],a.name in s&&(a.shortName=s[a.name])),t&&(t.update(a.type),t.update(a.value)),c.push(a)}return c},a.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],c=i.derToOid(n.value[0].value),u=n.value[1].value,l=0;l<u.length;++l){var p={};if(p.type=c,p.value=u[l].value,p.valueTagClass=u[l].type,p.type in o&&(p.name=o[p.type],p.name in s&&(p.shortName=s[p.name])),p.type===o.extensionRequest){p.extensions=[];for(var f=0;f<p.value.length;++f)p.extensions.push(a.certificateExtensionFromAsn1(p.value[f]))}t.push(p)}return t};var d=function(e,t,r){var n={};if(e!==o["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:o.sha1},mgf:{algorithmOid:o.mgf1,hash:{algorithmOid:o.sha1}},saltLength:20});var a={},s=[];if(!i.validate(t,l,a,s)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=s,c}return void 0!==a.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(a.hashOid)),void 0!==a.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(a.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(a.maskGenHashOid)),void 0!==a.saltLength&&(n.saltLength=a.saltLength.charCodeAt(0)),n};function g(e){for(var t,r,a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),o=e.attributes,s=0;s<o.length;++s){var c=(t=o[s]).value,u=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(u=t.valueTagClass)===i.Type.UTF8&&(c=n.util.encodeUtf8(c)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,u,!1,c)])]),a.value.push(r)}return a}function y(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in a.oids?t.name=a.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=a.oids[s[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in a.oids))throw(c=new Error("Attribute type not specified.")).attribute=t,c;t.type=a.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===o.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(a.certificateExtensionToAsn1(v(t.extensions[n])))}var c;if(void 0===t.value)throw(c=new Error("Attribute value not specified.")).attribute=t,c}}function v(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in a.oids&&(e.name=a.oids[e.id]),void 0===e.id){if(!(e.name&&e.name in a.oids))throw(w=new Error("Extension ID not specified.")).extension=e,w;e.id=a.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,s=0,c=0;e.digitalSignature&&(s|=128,r=7),e.nonRepudiation&&(s|=64,r=6),e.keyEncipherment&&(s|=32,r=5),e.dataEncipherment&&(s|=16,r=4),e.keyAgreement&&(s|=8,r=3),e.keyCertSign&&(s|=4,r=2),e.cRLSign&&(s|=2,r=1),e.encipherOnly&&(s|=1,r=0),e.decipherOnly&&(c|=128,r=7);var u=String.fromCharCode(r);0!==c?u+=String.fromCharCode(s)+String.fromCharCode(c):0!==s&&(u+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var p in e)!0===e[p]&&(p in o?l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o[p]).getBytes())):-1!==p.indexOf(".")&&l.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(p).getBytes())))}else if("nsCertType"===e.name){r=0,s=0;e.client&&(s|=128,r=7),e.server&&(s|=64,r=6),e.email&&(s|=32,r=5),e.objsign&&(s|=16,r=4),e.reserved&&(s|=8,r=3),e.sslCA&&(s|=4,r=2),e.emailCA&&(s|=2,r=1),e.objCA&&(s|=1,r=0);u=String.fromCharCode(r);0!==s&&(u+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var f=0;f<e.altNames.length;++f){u=(m=e.altNames[f]).value;if(7===m.type&&m.ip){if(null===(u=n.util.bytesFromIP(m.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,w}else 8===m.type&&(u=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(u));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,u))}}else if("subjectKeyIdentifier"===e.name&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,h.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;if(e.keyIdentifier){var d=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(e.authorityCertIssuer){var y=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[g(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];l.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var v=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);l.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);l=e.value.value;var m,E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),b=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(f=0;f<e.altNames.length;++f){u=(m=e.altNames[f]).value;if(7===m.type&&m.ip){if(null===(u=n.util.bytesFromIP(m.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,w}else 8===m.type&&(u=m.oid?i.oidToDer(i.oidToDer(m.oid)):i.oidToDer(u));b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,m.type,!1,u))}E.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[b])),l.push(E)}var w;if(void 0===e.value)throw(w=new Error("Extension value not specified.")).extension=e,w;return e}function m(e,t){switch(e){case o["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function E(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,a=0;a<r.length;++a){var o=r[a],s=o.value,c=i.Type.UTF8;"valueTagClass"in o&&(c=o.valueTagClass),c===i.Type.UTF8&&(s=n.util.encodeUtf8(s));var u=!1;"valueConstructed"in o&&(u=o.valueConstructed);var l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,c,u,s)])]);t.value.push(l)}return t}a.certificateFromPem=function(e,t,r){var o=n.pem.decode(e)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=o.type,s}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=i.fromDer(o.body,r);return a.certificateFromAsn1(c,t)},a.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:i.toDer(a.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},a.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return a.publicKeyFromAsn1(o)},a.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:i.toDer(a.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},a.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:i.toDer(a.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},a.getPublicKeyFingerprint=function(e,t){var r,o=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(a.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(a.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}o.start(),o.update(r);var s=o.digest();if("hex"===t.encoding){var c=s.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s},a.certificationRequestFromPem=function(e,t,r){var o=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==o.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=o.type,s}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var c=i.fromDer(o.body,r);return a.certificationRequestFromAsn1(c,t)},a.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:i.toDer(a.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},a.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h(e.issuer,t)},e.issuer.addField=function(t){y([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){y(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){y(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)v(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],t.id&&r.id===t.id?n=r:t.name&&r.name===t.name&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=o[e.md.algorithm+"WithRSAEncryption"];if(!s){var c=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=a.getTBSCertificate(e);var u=i.toDer(e.tbsCertificate);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var s=t.issuer,c=e.subject;throw(g=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=s.attributes,g.actualIssuer=c.attributes,g}var u=t.md;if(null===u){if(t.signatureOid in o)switch(o[t.signatureOid]){case"sha1WithRSAEncryption":u=n.md.sha1.create();break;case"md5WithRSAEncryption":u=n.md.md5.create();break;case"sha256WithRSAEncryption":u=n.md.sha256.create();break;case"sha384WithRSAEncryption":u=n.md.sha384.create();break;case"sha512WithRSAEncryption":u=n.md.sha512.create();break;case"RSASSA-PSS":u=n.md.sha256.create()}if(null===u)throw(g=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,g;var l=t.tbsCertificate||a.getTBSCertificate(t),p=i.toDer(l);u.update(p.getBytes())}if(null!==u){var f;switch(t.signatureOid){case o.sha1WithRSAEncryption:f=void 0;break;case o["RSASSA-PSS"]:var h,d,g;if(void 0===(h=o[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[h])throw(g=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,g.name=h,g;if(void 0===(d=o[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(g=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,g.name=d,g;if(d=n.mgf[d].create(n.md[h].create()),void 0===(h=o[t.signatureParameters.hash.algorithmOid])||void 0===n.md[h])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:h};f=n.pss.create(n.md[h].create(),d,t.signatureParameters.saltLength)}r=e.publicKey.verify(u.digest().getBytes(),t.signature,f)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var a,o;r=!0;for(var s=0;r&&s<n.attributes.length;++s)a=n.attributes[s],o=i.attributes[s],a.type===o.type&&a.value===o.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=o.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var a=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===a}}return!1},e},a.certificateFromAsn1=function(e,t){var r={},s=[];if(!i.validate(e,u,r,s))throw(f=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,f;if(i.derToOid(r.publicKeyOid)!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=a.createCertificate();c.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=n.util.createBuffer(r.certSerialNumber);c.serialNumber=l.toHex(),c.signatureOid=n.asn1.derToOid(r.certSignatureOid),c.signatureParameters=d(c.signatureOid,r.certSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,r.certinfoSignatureParams,!1),c.signature=r.certSignature;var p=[];if(void 0!==r.certValidity1UTCTime&&p.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&p.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&p.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&p.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),p.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(p.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=p[0],c.validity.notAfter=p[1],c.tbsCertificate=r.tbsCertificate,t){var f;if(c.md=null,c.signatureOid in o)switch(o[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(f=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,f;var g=i.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var v=n.md.sha1.create();c.issuer.getField=function(e){return h(c.issuer,e)},c.issuer.addField=function(e){y([e]),c.issuer.attributes.push(e)},c.issuer.attributes=a.RDNAttributesAsArray(r.certIssuer,v),r.certIssuerUniqueId&&(c.issuer.uniqueId=r.certIssuerUniqueId),c.issuer.hash=v.digest().toHex();var m=n.md.sha1.create();return c.subject.getField=function(e){return h(c.subject,e)},c.subject.addField=function(e){y([e]),c.subject.attributes.push(e)},c.subject.attributes=a.RDNAttributesAsArray(r.certSubject,m),r.certSubjectUniqueId&&(c.subject.uniqueId=r.certSubjectUniqueId),c.subject.hash=m.digest().toHex(),r.certExtensions?c.extensions=a.certificateExtensionsFromAsn1(r.certExtensions):c.extensions=[],c.publicKey=a.publicKeyFromAsn1(r.subjectPublicKeyInfo),c},a.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(a.certificateExtensionFromAsn1(n.value[i]));return t},a.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in o)if(t.name=o[t.id],"keyUsage"===t.name){var r=0,a=0;(c=i.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1),a=c.value.length>2?c.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&a)}else if("basicConstraints"===t.name){(c=i.fromDer(t.value)).value.length>0&&c.value[0].type===i.Type.BOOLEAN?t.cA=0!==c.value[0].value.charCodeAt(0):t.cA=!1;var s=null;c.value.length>0&&c.value[0].type===i.Type.INTEGER?s=c.value[0].value:c.value.length>1&&(s=c.value[1].value),null!==s&&(t.pathLenConstraint=i.derToInteger(s))}else if("extKeyUsage"===t.name)for(var c=i.fromDer(t.value),u=0;u<c.value.length;++u){var l=i.derToOid(c.value[u].value);l in o?t[o[l]]=!0:t[l]=!0}else if("nsCertType"===t.name){r=0;(c=i.fromDer(t.value)).value.length>1&&(r=c.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var p;t.altNames=[];c=i.fromDer(t.value);for(var f=0;f<c.value.length;++f){var h={type:(p=c.value[f]).type,value:p.value};switch(t.altNames.push(h),p.type){case 1:case 2:case 6:break;case 7:h.ip=n.util.bytesToIP(p.value);break;case 8:h.oid=i.derToOid(p.value)}}}else if("subjectKeyIdentifier"===t.name){c=i.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(c.value)}return t},a.certificationRequestFromAsn1=function(e,t){var r={},s=[];if(!i.validate(e,f,r,s))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=s,u;if(i.derToOid(r.publicKeyOid)!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=a.createCertificationRequest();if(c.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,c.signatureOid=n.asn1.derToOid(r.csrSignatureOid),c.signatureParameters=d(c.signatureOid,r.csrSignatureParams,!0),c.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),c.siginfo.parameters=d(c.siginfo.algorithmOid,r.csrSignatureParams,!1),c.signature=r.csrSignature,c.certificationRequestInfo=r.certificationRequestInfo,t){var u;if(c.md=null,c.signatureOid in o)switch(o[c.signatureOid]){case"sha1WithRSAEncryption":c.md=n.md.sha1.create();break;case"md5WithRSAEncryption":c.md=n.md.md5.create();break;case"sha256WithRSAEncryption":c.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=n.md.sha512.create();break;case"RSASSA-PSS":c.md=n.md.sha256.create()}if(null===c.md)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=c.signatureOid,u;var l=i.toDer(c.certificationRequestInfo);c.md.update(l.getBytes())}var p=n.md.sha1.create();return c.subject.getField=function(e){return h(c.subject,e)},c.subject.addField=function(e){y([e]),c.subject.attributes.push(e)},c.subject.attributes=a.RDNAttributesAsArray(r.certificationRequestInfoSubject,p),c.subject.hash=p.digest().toHex(),c.publicKey=a.publicKeyFromAsn1(r.subjectPublicKeyInfo),c.getAttribute=function(e){return h(c,e)},c.addAttribute=function(e){y([e]),c.attributes.push(e)},c.attributes=a.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),c},a.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h(e,t)},e.addAttribute=function(t){y([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){y(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){y(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=o[e.md.algorithm+"WithRSAEncryption"];if(!s){var c=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw c.algorithm=e.md.algorithm,c}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=a.getCertificationRequestInfo(e);var u=i.toDer(e.certificationRequestInfo);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in o)switch(o[e.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,f;var s=e.certificationRequestInfo||a.getCertificationRequestInfo(e),c=i.toDer(s);r.update(c.getBytes())}if(null!==r){var u;switch(e.signatureOid){case o.sha1WithRSAEncryption:break;case o["RSASSA-PSS"]:var l,p,f;if(void 0===(l=o[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[l])throw(f=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,f.name=l,f;if(void 0===(p=o[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[p])throw(f=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,f.name=p,f;if(p=n.mgf[p].create(n.md[l].create()),void 0===(l=o[e.signatureParameters.hash.algorithmOid])||void 0===n.md[l])throw(f=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,f.name=l,f;u=n.pss.create(n.md[l].create(),p,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,u)}return t},e},a.getTBSCertificate=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),m(e.siginfo.algorithmOid,e.siginfo.parameters)]),g(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notAfter))]),g(e.subject),a.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(a.certificateExtensionsToAsn1(e.extensions)),t},a.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),g(e.subject),a.publicKeyToAsn1(e.publicKey),E(e)])},a.distinguishedNameToAsn1=function(e){return g(e)},a.certificateToAsn1=function(e){var t=e.tbsCertificate||a.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),m(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},a.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(a.certificateExtensionToAsn1(e[n]));return t},a.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=i.toDer(r).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),t},a.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||a.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),m(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},a.createCaStore=function(e){var t={certs:{}};function r(e){return o(e),t.certs[e.hash]||null}function o(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=a.RDNAttributesAsArray(g(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var o=i.toDer(a.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s){if(o===i.toDer(a.certificateToAsn1(t[s])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var i=t.certs[r];if(n.util.isArray(i))for(var a=0;a<i.length;++a)e.push(i[a]);else e.push(i)}return e},t.removeCertificate=function(e){var s;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),o(e.subject),!t.hasCertificate(e))return null;var c=r(e.subject);if(!n.util.isArray(c))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var u=i.toDer(a.certificateToAsn1(e)).getBytes(),l=0;l<c.length;++l){u===i.toDer(a.certificateToAsn1(c[l])).getBytes()&&(s=c[l],c.splice(l,1))}return 0===c.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var c=e[s];t.addCertificate(c)}return t},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(e,t,r){var i=(t=t.slice(0)).slice(0),o=new Date,s=!0,c=null,u=0;do{var l=t.shift(),p=null,f=!1;if((o<l.validity.notBefore||o>l.validity.notAfter)&&(c={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:o}),null===c){if(null===(p=t[0]||e.getIssuer(l))&&l.isIssuer(l)&&(f=!0,p=l),p){var h=p;n.util.isArray(h)||(h=[h]);for(var d=!1;!d&&h.length>0;){p=h.shift();try{d=p.verify(l)}catch(e){}}d||(c={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}null!==c||p&&!f||e.hasCertificate(l)||(c={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(null===c&&p&&!l.isIssuer(p)&&(c={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),null===c)for(var g={keyUsage:!0,basicConstraints:!0},y=0;null===c&&y<l.extensions.length;++y){var v=l.extensions[y];!v.critical||v.name in g||(c={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(null===c&&(!s||0===t.length&&(!p||f))){var m=l.getExtension("basicConstraints"),E=l.getExtension("keyUsage");if(null!==E&&(E.keyCertSign&&null!==m||(c={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate})),null!==c||null===m||m.cA||(c={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),null===c&&null!==E&&"pathLenConstraint"in m)u-1>m.pathLenConstraint&&(c={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}var b=null===c||c.error,w=r?r(b,u,i):b;if(!0!==w)throw!0===b&&(c={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(w||0===w)&&("object"!=typeof w||n.util.isArray(w)?"string"==typeof w&&(c.error=w):(w.message&&(c.message=w.message),w.error&&(c.error=w.error))),c;c=null,s=!1,++u}while(t.length>0);return!0}},function(e,t,r){var n=r(1);r(16),r(2),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,i=e.mgf,a=r.digestLength,o=e.salt||null;if("string"==typeof o&&(o=n.util.createBuffer(o)),"saltLength"in e)t=e.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");t=o.length()}if(null!==o&&o.length()!==t)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||n.random,c={encode:function(e,c){var u,l,p=c-1,f=Math.ceil(p/8),h=e.digest().getBytes();if(f<a+t+2)throw new Error("Message is too long to encrypt.");l=null===o?s.getBytesSync(t):o.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(h),d.putBytes(l),r.start(),r.update(d.getBytes());var g=r.digest().getBytes(),y=new n.util.ByteBuffer;y.fillWithByte(0,f-t-a-2),y.putByte(1),y.putBytes(l);var v=y.getBytes(),m=f-a-1,E=i.generate(g,m),b="";for(u=0;u<m;u++)b+=String.fromCharCode(v.charCodeAt(u)^E.charCodeAt(u));var w=65280>>8*f-p&255;return(b=String.fromCharCode(b.charCodeAt(0)&~w)+b.substr(1))+g+String.fromCharCode(188)},verify:function(e,o,s){var c,u=s-1,l=Math.ceil(u/8);if(o=o.substr(-l),l<a+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(l-1))throw new Error("Encoded message does not end in 0xBC.");var p=l-a-1,f=o.substr(0,p),h=o.substr(p,a),d=65280>>8*l-u&255;if(0!=(f.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var g=i.generate(h,p),y="";for(c=0;c<p;c++)y+=String.fromCharCode(f.charCodeAt(c)^g.charCodeAt(c));y=String.fromCharCode(y.charCodeAt(0)&~d)+y.substr(1);var v=l-a-t-2;for(c=0;c<v;c++)if(0!==y.charCodeAt(c))throw new Error("Leftmost octets not zero as expected");if(1!==y.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=y.substr(-t),E=new n.util.ByteBuffer;return E.fillWithByte(0,8),E.putBytes(e),E.putBytes(m),r.start(),r.update(E.getBytes()),h===r.digest().getBytes()}};return c}},function(e,t,r){var n=r(170),i=r(171),a=r(172);e.exports=function(e){return n(e)||i(e)||a()}},function(e,t,r){"use strict";r(42),r(43),r(18),r(19);var n=r(6),i=r.n(n),a=r(7),o=r.n(a),s=(r(41),r(0)),c=function(){function e(t,r,n,a,o,s,c,u){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"sha256";i()(this,e);this.name=t.name,this.size=t.size,this.type=t.type,this.lastModified=t.lastModified,this.pkfp=n,this.metaID=a,this.hashAlgorithm=l,this.messageID=s,this.hashEncrypted=c,this.hashUnencrypted=u,this.link=this.buildLink(r,n,this.hashUnencrypted),this.signHashes(o)}return o()(e,[{key:"get",value:function(){return{name:this.name,size:this.size,type:this.type,lastModified:this.lastModified,pkfp:this.pkfp,hashEncrypted:this.hashEncrypted,hashUnencrypted:this.hashUnencrypted,signEncrypted:this.signEncrypted,signUnencrypted:this.signUnencrypted,metaID:this.metaID,messageID:this.messageID,link:this.link,hashAlgorithm:this.hashAlgorithm}}},{key:"getLink",value:function(){return this.link}},{key:"buildLink",value:function(e,t,r){if(!e||!t||!r)throw new Error("Attachment buildLink: missing required parameters");var n=e+"/"+t+"/"+r,i=new s.a;return i.addBlob("l",n).base64Encode("l","l64"),i.get("l64")}},{key:"signHashes",value:function(e){if(!e)throw new Error("Attachment signAttachmentHash: privKey is undefined");var t=new s.a;t.addBlob("hu",this.hashUnencrypted).addBlob("he",this.hashEncrypted).asym.setKey("pk",e,"private").asym.sign("hu","pk","sign_u").asym.sign("he","pk","sign_e"),this.signUnencrypted=t.get("sign_u"),this.signEncrypted=t.get("sign_e")}}],[{key:"verifyFileInfo",value:function(e){for(var t=0,r=["name","size","pkfp","hashUnencrypted","hashEncrypted","signUnencrypted","signEncrypted","link","metaID","messageID","hashAlgorithm"];t<r.length;t++){var n=r[t];if(!e.hasOwnProperty(n))throw new Error("Attachment verifyFileInfo: Missing required property: "+n)}}},{key:"parseLink",value:function(e){var t=new s.a;t.addBlob("l",e).base64Decode("l","lres");var r=t.get("lres").split("/");return{residence:r[0],pkfp:r[1],name:r[2]}}}]),e}();c.properties=["name","size","type","lastModified","hashUnencrypted","signUnencrypted","hashEncrytped","signEncrypted","link","metaID","messageID","hashAlgorithm"],r.d(t,"a",(function(){return u}));var u=function(){function e(t){i()(this,e),"string"==typeof t&&(t=JSON.parse(t)),this.signature=t?t.signature:"",this.header=t?t.header:{id:this.generateNewID(),timestamp:new Date,metadataID:"",author:"",nickname:"",recipient:"all"},this.body=t?t.body:"",this.attachments=t?t.attachments:void 0}return o()(e,[{key:"encryptMessage",value:function(e){var t=new s.a;t.setSYMKey("k",e).addBlob("body",this.body).AESEncrypt("body","k","bodycip",!0,"CBC","utf8"),this.attachments&&(t.addBlob("attachments",JSON.stringify(this.attachments)).AESEncrypt("attachments","k","attachmentscip",!0,void 0,"utf8"),this.attachments=t.get("attachmentscip")),this.header.nickname&&(t.addBlob("nname",this.header.nickname).AESEncrypt("nname","k","nnamecip",!0,"CBC","utf8"),this.header.nickname=t.get("nnamecip")),this.body=t.get("bodycip")}},{key:"encryptPrivateMessage",value:function(e){var t=new s.a;t.sym.createKey("sym").addBlob("body",this.body).AESEncrypt("body","sym","bodycip",!0,"CBC","utf8"),this.header.nickname&&(t.addBlob("nname",this.header.nickname).AESEncrypt("nname","sym","nnamecip",!0,"CBC","utf8"),this.header.nickname=t.get("nnamecip")),this.body=t.get("bodycip"),this.header.keys={},this.header.private=!0;var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var c=a.value,u=new s.a;u.asym.setKey("pubk",c,"public").addBlob("sym",t.get("sym")).asym.encrypt("sym","pubk","symcip","hex").getPublicKeyFingerprint("pubk","pkfp"),this.header.keys[u.get("pkfp")]=u.get("symcip")}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"decryptPrivateMessage",value:function(e){try{var t=new s.a;t.asym.setKey("priv",e,"private").publicFromPrivate("priv","pub").getPublicKeyFingerprint("pub","pkfp").addBlob("symcip",this.header.keys[t.get("pkfp")]).asym.decrypt("symcip","priv","sym","hex").addBlob("bodycip",this.body).sym.decrypt("bodycip","sym","body",!0,"CBC","utf8"),this.body=t.get("body"),this.header.nickname&&(t.addBlob("nnamecip",this.header.nickname).AESDecrypt("nnamecip","sym","nname",!0,"CBC","utf8"),this.header.nickname=t.get("nname"))}catch(e){console.log("Error decrypting private message: "+e)}}},{key:"decryptMessage",value:function(e){try{var t=new s.a;t.sym.setKey("k",e).addBlob("bodycip",this.body).sym.decrypt("bodycip","k","body",!0),this.body=t.get("body"),this.attachments&&(t.addBlob("attachmentscip",this.attachments).AESDecrypt("attachmentscip","k","attachments",!0,"CBC","utf8"),this.attachments=JSON.parse(t.get("attachments"))),this.header.nickname&&(t.addBlob("nnamecip",this.header.nickname).AESDecrypt("nnamecip","k","nname",!0,"CBC","utf8"),this.header.nickname=t.get("nname"))}catch(e){console.log("Error decrypting message: "+e)}}},{key:"addAttachmentInfo",value:function(e){this.attachments||(this.attachments=[]),c.verifyFileInfo(e),this.attachments.push(e)}},{key:"sign",value:function(e){var t=new s.a,r=JSON.stringify(this.header)+JSON.stringify(this.body);this.attachments&&(r+=JSON.stringify(this.attachments)),t.addBlob("body",r).setRSAKey("priv",e,"private").privateKeySign("body","priv","sign"),this.signature=t.get("sign")}},{key:"verify",value:function(e){var t=new s.a,r=JSON.stringify(this.header)+JSON.stringify(this.body);return this.attachments&&(r+=JSON.stringify(this.attachments)),t.setRSAKey("pubk",e,"public").addBlob("sign",this.signature).addBlob("b",r).publicKeyVerify("b","sign","pubk","v"),t.get("v")}},{key:"getNonce",value:function(e){var t=new s.a;return t.createNonce("n",e?parseInt(e):8).bytesToHex("n","nh"),t.get("nh")}},{key:"generateNewID",value:function(){return this.getNonce(8)}},{key:"toBlob",value:function(){return JSON.stringify(this)}}]),e}()},function(e,t,r){var n=r(38);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){e.exports=!r(12)&&!r(17)((function(){return 7!=Object.defineProperty(r(67)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(27),i=r(31),a=r(68)(!1),o=r(69)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)r!=o&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~a(u,r)||u.push(r));return u}},function(e,t,r){var n=r(11),i=r(38),a=r(4)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,r){"use strict";var n=r(140)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){"use strict";var n=r(47),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,r){"use strict";r(141);var n=r(23),i=r(15),a=r(17),o=r(54),s=r(4),c=r(73),u=s("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var f=s(e),h=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),d=h?!a((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[f](""),!t})):void 0;if(!h||!d||"replace"===e&&!l||"split"===e&&!p){var g=/./[f],y=r(o,f,""[e],(function(e,t,r,n,i){return t.exec===c?h&&!i?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),v=y[0],m=y[1];n(String.prototype,e,v),i(RegExp.prototype,f,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t,r){var n=r(5),i=r(40),a=r(33),o=r(101),s=r(13).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){t.f=r(4)},function(e,t,r){var n=r(38);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(5).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(10);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,r){var n,i,a,o=r(26),s=r(147),c=r(103),u=r(67),l=r(5),p=l.process,f=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,y=0,v={},m=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},E=function(e){m.call(e.data)};f&&h||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},h=function(e){delete v[e]},"process"==r(38)(p)?n=function(e){p.nextTick(o(m,e,1))}:g&&g.now?n=function(e){g.now(o(m,e,1))}:d?(a=(i=new d).port2,i.port1.onmessage=E,n=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",E,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),m.call(e)}}:function(e){setTimeout(o(m,e,1),0)}),e.exports={set:f,clear:h}},function(e,t,r){"use strict";var n=r(52);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";var n=r(108),i=r(153),a=r(44),o=r(31);e.exports=r(154)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(4)("unscopables"),i=Array.prototype;null==i[n]&&r(15)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(27),i=r(29),a=r(69)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){"use strict";var n=r(13),i=r(37);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(169),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(60))},function(e,t,r){"use strict";if(r(12)){var n=r(33),i=r(5),a=r(17),o=r(28),s=r(113),c=r(174),u=r(26),l=r(77),p=r(37),f=r(15),h=r(80),d=r(32),g=r(14),y=r(114),v=r(56),m=r(55),E=r(27),b=r(47),w=r(11),C=r(29),S=r(78),T=r(75),A=r(109),I=r(39).f,B=r(79),k=r(34),_=r(4),R=r(175),N=r(68),L=r(72),x=r(107),O=r(44),P=r(81),U=r(71),D=r(115),M=r(178),K=r(13),V=r(53),j=K.f,F=V.f,q=i.RangeError,G=i.TypeError,H=i.Uint8Array,z=Array.prototype,Y=c.ArrayBuffer,Q=c.DataView,W=R(0),X=R(2),J=R(3),$=R(4),Z=R(5),ee=R(6),te=N(!0),re=N(!1),ne=x.values,ie=x.keys,ae=x.entries,oe=z.lastIndexOf,se=z.reduce,ce=z.reduceRight,ue=z.join,le=z.sort,pe=z.slice,fe=z.toString,he=z.toLocaleString,de=_("iterator"),ge=_("toStringTag"),ye=k("typed_constructor"),ve=k("def_constructor"),me=s.CONSTR,Ee=s.TYPED,be=s.VIEW,we=R(1,(function(e,t){return Ie(L(e,e[ve]),t)})),Ce=a((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),Se=!!H&&!!H.prototype.set&&a((function(){new H(1).set({})})),Te=function(e,t){var r=d(e);if(r<0||r%t)throw q("Wrong offset!");return r},Ae=function(e){if(w(e)&&Ee in e)return e;throw G(e+" is not a typed array!")},Ie=function(e,t){if(!(w(e)&&ye in e))throw G("It is not a typed array constructor!");return new e(t)},Be=function(e,t){return ke(L(e,e[ve]),t)},ke=function(e,t){for(var r=0,n=t.length,i=Ie(e,n);n>r;)i[r]=t[r++];return i},_e=function(e,t,r){j(e,t,{get:function(){return this._d[r]}})},Re=function(e){var t,r,n,i,a,o,s=C(e),c=arguments.length,l=c>1?arguments[1]:void 0,p=void 0!==l,f=B(s);if(null!=f&&!S(f)){for(o=f.call(s),n=[],t=0;!(a=o.next()).done;t++)n.push(a.value);s=n}for(p&&c>2&&(l=u(l,arguments[2],2)),t=0,r=g(s.length),i=Ie(this,r);r>t;t++)i[t]=p?l(s[t],t):s[t];return i},Ne=function(){for(var e=0,t=arguments.length,r=Ie(this,t);t>e;)r[e]=arguments[e++];return r},Le=!!H&&a((function(){he.call(new H(1))})),xe=function(){return he.apply(Le?pe.call(Ae(this)):Ae(this),arguments)},Oe={copyWithin:function(e,t){return M.call(Ae(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(Ae(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return D.apply(Ae(this),arguments)},filter:function(e){return Be(this,X(Ae(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ae(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){W(Ae(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Ae(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ae(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Ae(this),arguments)},lastIndexOf:function(e){return oe.apply(Ae(this),arguments)},map:function(e){return we(Ae(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ae(this),arguments)},reduceRight:function(e){return ce.apply(Ae(this),arguments)},reverse:function(){for(var e,t=Ae(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return J(Ae(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Ae(this),e)},subarray:function(e,t){var r=Ae(this),n=r.length,i=v(e,n);return new(L(r,r[ve]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((void 0===t?n:v(t,n))-i))}},Pe=function(e,t){return Be(this,pe.call(Ae(this),e,t))},Ue=function(e){Ae(this);var t=Te(arguments[1],1),r=this.length,n=C(e),i=g(n.length),a=0;if(i+t>r)throw q("Wrong length!");for(;a<i;)this[t+a]=n[a++]},De={entries:function(){return ae.call(Ae(this))},keys:function(){return ie.call(Ae(this))},values:function(){return ne.call(Ae(this))}},Me=function(e,t){return w(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ke=function(e,t){return Me(e,t=m(t,!0))?p(2,e[t]):F(e,t)},Ve=function(e,t,r){return!(Me(e,t=m(t,!0))&&w(r)&&E(r,"value"))||E(r,"get")||E(r,"set")||r.configurable||E(r,"writable")&&!r.writable||E(r,"enumerable")&&!r.enumerable?j(e,t,r):(e[t]=r.value,e)};me||(V.f=Ke,K.f=Ve),o(o.S+o.F*!me,"Object",{getOwnPropertyDescriptor:Ke,defineProperty:Ve}),a((function(){fe.call({})}))&&(fe=he=function(){return ue.call(this)});var je=h({},Oe);h(je,De),f(je,de,De.values),h(je,{slice:Pe,set:Ue,constructor:function(){},toString:fe,toLocaleString:xe}),_e(je,"buffer","b"),_e(je,"byteOffset","o"),_e(je,"byteLength","l"),_e(je,"length","e"),j(je,ge,{get:function(){return this[Ee]}}),e.exports=function(e,t,r,c){var u=e+((c=!!c)?"Clamped":"")+"Array",p="get"+e,h="set"+e,d=i[u],v=d||{},m=d&&A(d),E=!d||!s.ABV,C={},S=d&&d.prototype,B=function(e,r){j(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[p](r*t+n.o,Ce)}(this,r)},set:function(e){return function(e,r,n){var i=e._d;c&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[h](r*t+i.o,n,Ce)}(this,r,e)},enumerable:!0})};E?(d=r((function(e,r,n,i){l(e,d,u,"_d");var a,o,s,c,p=0,h=0;if(w(r)){if(!(r instanceof Y||"ArrayBuffer"==(c=b(r))||"SharedArrayBuffer"==c))return Ee in r?ke(d,r):Re.call(d,r);a=r,h=Te(n,t);var v=r.byteLength;if(void 0===i){if(v%t)throw q("Wrong length!");if((o=v-h)<0)throw q("Wrong length!")}else if((o=g(i)*t)+h>v)throw q("Wrong length!");s=o/t}else s=y(r),a=new Y(o=s*t);for(f(e,"_d",{b:a,o:h,l:o,e:s,v:new Q(a)});p<s;)B(e,p++)})),S=d.prototype=T(je),f(S,"constructor",d)):a((function(){d(1)}))&&a((function(){new d(-1)}))&&P((function(e){new d,new d(null),new d(1.5),new d(e)}),!0)||(d=r((function(e,r,n,i){var a;return l(e,d,u),w(r)?r instanceof Y||"ArrayBuffer"==(a=b(r))||"SharedArrayBuffer"==a?void 0!==i?new v(r,Te(n,t),i):void 0!==n?new v(r,Te(n,t)):new v(r):Ee in r?ke(d,r):Re.call(d,r):new v(y(r))})),W(m!==Function.prototype?I(v).concat(I(m)):I(v),(function(e){e in d||f(d,e,v[e])})),d.prototype=S,n||(S.constructor=d));var k=S[de],_=!!k&&("values"==k.name||null==k.name),R=De.values;f(d,ye,!0),f(S,Ee,u),f(S,be,!0),f(S,ve,d),(c?new d(1)[ge]==u:ge in S)||j(S,ge,{get:function(){return u}}),C[u]=d,o(o.G+o.W+o.F*(d!=v),C),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a((function(){v.of.call(d,1)})),u,{from:Re,of:Ne}),"BYTES_PER_ELEMENT"in S||f(S,"BYTES_PER_ELEMENT",t),o(o.P,u,Oe),U(u),o(o.P+o.F*Se,u,{set:Ue}),o(o.P+o.F*!_,u,De),n||S.toString==fe||(S.toString=fe),o(o.P+o.F*a((function(){new d(1).slice()})),u,{slice:Pe}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!a((function(){S.toLocaleString.call([1,2])}))),u,{toLocaleString:xe}),O[u]=_?k:R,n||_||f(S,de,R)}}else e.exports=function(){}},function(e,t,r){for(var n,i=r(5),a=r(15),o=r(34),s=o("typed_array"),c=o("view"),u=!(!i.ArrayBuffer||!i.DataView),l=u,p=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(n=i[f[p++]])?(a(n.prototype,s,!0),a(n.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,r){var n=r(32),i=r(14);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){"use strict";var n=r(29),i=r(56),a=r(14);e.exports=function(e){for(var t=n(this),r=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(10),i=r(29),a=r(14),o=r(32),s=r(97),c=r(98),u=Math.max,l=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;r(99)("replace",2,(function(e,t,r,d){return[function(n,i){var a=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(e,t){var i=d(r,e,this,t);if(i.done)return i.value;var p=n(e),f=String(this),h="function"==typeof t;h||(t=String(t));var y=p.global;if(y){var v=p.unicode;p.lastIndex=0}for(var m=[];;){var E=c(p,f);if(null===E)break;if(m.push(E),!y)break;""===String(E[0])&&(p.lastIndex=s(f,a(p.lastIndex),v))}for(var b,w="",C=0,S=0;S<m.length;S++){E=m[S];for(var T=String(E[0]),A=u(l(o(E.index),f.length),0),I=[],B=1;B<E.length;B++)I.push(void 0===(b=E[B])?b:String(b));var k=E.groups;if(h){var _=[T].concat(I,A,f);void 0!==k&&_.push(k);var R=String(t.apply(void 0,_))}else R=g(T,f,A,I,k,t);A>=C&&(w+=f.slice(C,A)+R,C=A+T.length)}return w+f.slice(C)}];function g(e,t,n,a,o,s){var c=n+e.length,u=a.length,l=h;return void 0!==o&&(o=i(o),l=f),r.call(s,l,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return r;if(l>u){var f=p(l/10);return 0===f?r:f<=u?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):r}s=a[l-1]}return void 0===s?"":s}))}}))},function(e,t,r){r(112)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){var n=r(1);r(2),n.cipher=n.cipher||{};var i=e.exports=n.cipher.modes=n.cipher.modes||{};function a(e){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var t=e;e=n.util.createBuffer();for(var r=0;r<t.length;++r)e.putByte(t[r])}return n.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function o(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=a(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}o(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),o(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=s(8*t.length());var a=t.length()%this.blockSize;for(a&&t.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0===a||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),o(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),o(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var a=[];this.cipher.encrypt(this._j0,a);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^a[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),o=0;o<i;++o){var s=[0,0,0,0],c=(n-1-o%n)*t;s[o/n|0]=1<<t-1<<c,a[o]=this.generateSubHashTable(this.multiply(s,e),t)}return a},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var o=1;o<a;++o){var s=i[a],c=i[o];i[a+o]=[s[0]^c[0],s[1]^c[1],s[2]^c[2],s[3]^c[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var u=i[a^n];i[a]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}},function(e,t,r){var n=r(1);r(24),r(50),r(87),r(46),r(120),r(16),r(51),r(2);var i=function(e,t,r,i){var a=n.util.createBuffer(),o=e.length>>1,s=o+(1&e.length),c=e.substr(0,s),u=e.substr(o,s),l=n.util.createBuffer(),p=n.hmac.create();r=t+r;var f=Math.ceil(i/16),h=Math.ceil(i/20);p.start("MD5",c);var d=n.util.createBuffer();l.putBytes(r);for(var g=0;g<f;++g)p.start(null,null),p.update(l.getBytes()),l.putBuffer(p.digest()),p.start(null,null),p.update(l.bytes()+r),d.putBuffer(p.digest());p.start("SHA1",u);var y=n.util.createBuffer();l.clear(),l.putBytes(r);for(g=0;g<h;++g)p.start(null,null),p.update(l.getBytes()),l.putBuffer(p.digest()),p.start(null,null),p.update(l.bytes()+r),y.putBuffer(p.digest());return a.putBytes(n.util.xorBytes(d.getBytes(),y.getBytes(),i)),a},a=function(e,t,r){var i=!1;try{var a=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(a),t.length=a.length,i=!0}catch(e){}return i},o=function(e,t,r){var i=!1;try{var a=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(a),t.length=a.length,i=!0}catch(e){}return i},s=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},c=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},u={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};u.SupportedVersions=[u.Versions.TLS_1_1,u.Versions.TLS_1_0],u.Version=u.SupportedVersions[0],u.MaxFragment=15360,u.ConnectionEnd={server:0,client:1},u.PRFAlgorithm={tls_prf_sha256:0},u.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},u.CipherType={stream:0,block:1,aead:2},u.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},u.CompressionMethod={none:0,deflate:1},u.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},u.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},u.Alert={},u.Alert.Level={warning:1,fatal:2},u.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},u.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},u.CipherSuites={},u.getCipherSuite=function(e){var t=null;for(var r in u.CipherSuites){var n=u.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},u.handleUnexpected=function(e,t){!e.open&&e.entity===u.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})},u.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(u.queue(e,u.createAlert(e,{level:u.Alert.Level.warning,description:u.Alert.Description.no_renegotiation})),u.flush(e)),e.process()},u.parseHelloMessage=function(e,t,r){var i=null,a=e.entity===u.ConnectionEnd.client;if(r<38)e.error(e,{message:a?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});else{var o=t.fragment,c=o.length();if(i={version:{major:o.getByte(),minor:o.getByte()},random:n.util.createBuffer(o.getBytes(32)),session_id:s(o,1),extensions:[]},a?(i.cipher_suite=o.getBytes(2),i.compression_method=o.getByte()):(i.cipher_suites=s(o,2),i.compression_methods=s(o,1)),(c=r-(c-o.length()))>0){for(var l=s(o,2);l.length()>0;)i.extensions.push({type:[l.getByte(),l.getByte()],data:s(l,2)});if(!a)for(var p=0;p<i.extensions.length;++p){var f=i.extensions[p];if(0===f.type[0]&&0===f.type[1])for(var h=s(f.data,2);h.length()>0;){if(0!==h.getByte())break;e.session.extensions.server_name.serverNameList.push(s(h,2).getBytes())}}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});if(a)e.session.cipherSuite=u.getCipherSuite(i.cipher_suite);else for(var d=n.util.createBuffer(i.cipher_suites.bytes());d.length()>0&&(e.session.cipherSuite=u.getCipherSuite(d.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=a?i.compression_method:u.CompressionMethod.none}return i},u.createSecurityParameters=function(e,t){var r=e.entity===u.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:u.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:u.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}},u.handleServerHello=function(e,t,r){var n=u.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=d,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=l,e.session.resuming=!1,u.createSecurityParameters(e,n)),e.session.id=i,e.process()}},u.handleClientHello=function(e,t,r){var i=u.parseHelloMessage(e,t,r);if(!e.fail){var a=i.session_id.bytes(),o=null;if(e.sessionCache&&(null===(o=e.sessionCache.getSession(a))?a="":(o.version.major!==i.version.major||o.version.minor>i.version.minor)&&(o=null,a="")),0===a.length&&(a=n.random.getBytes(32)),e.session.id=a,e.session.clientHelloVersion=i.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var s,c=1;c<u.SupportedVersions.length&&!((s=u.SupportedVersions[c]).minor<=i.version.minor);++c);e.version={major:s.major,minor:s.minor},e.session.version=e.version}null!==o?(e.expect=w,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?m:E,e.session.resuming=!1,u.createSecurityParameters(e,i)),e.open=!0,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHello(e)})),e.session.resuming?(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))):(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)})),e.fail||(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerKeyExchange(e)})),!1!==e.verifyClient&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateRequest(e)})),u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHelloDone(e)})))),u.flush(e),e.process()}},u.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i,a,o=t.fragment,c={certificate_list:s(o,3)},l=[];try{for(;c.certificate_list.length()>0;)i=s(c.certificate_list,3),a=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(a,!0),l.push(i)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var f=e.entity===u.ConnectionEnd.client;!f&&!0!==e.verifyClient||0!==l.length?0===l.length?e.expect=f?p:E:(f?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],u.verifyCertificateChain(e,l)&&(e.expect=f?p:E)):e.error(e,{message:f?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}}),e.process()},u.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});e.expect=f,e.process()},u.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});var i=t.fragment,a={enc_pre_master_secret:s(i,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=n.pki.privateKeyFromPem(o)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}if(null===o)return e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});try{var c=e.session.sp;c.pre_master_secret=o.decrypt(a.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==c.pre_master_secret.charCodeAt(0)||l.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){c.pre_master_secret=n.random.getBytes(48)}e.expect=w,null!==e.session.clientCertificate&&(e.expect=b),e.process()},u.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:s(n,1),certificate_authorities:s(n,2)};e.session.certificateRequest=i,e.expect=h,e.process()},u.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var a=i.bytes();i.read+=4;var o={signature:s(i,2).getBytes()},c=n.util.createBuffer();c.putBuffer(e.session.md5.digest()),c.putBuffer(e.session.sha1.digest()),c=c.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(c,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(a),e.session.sha1.update(a)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure}})}e.expect=w,e.process()},u.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.insufficient_security}},a=e.verify(e,i.alert.description,0,[]);if(!0!==a)return(a||0===a)&&("object"!=typeof a||n.util.isArray(a)?"number"==typeof a&&(i.alert.description=a):(a.message&&(i.message=a.message),a.alert&&(i.alert.description=a.alert))),e.error(e,i)}null!==e.session.certificateRequest&&(t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)}),u.queue(e,t)),t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createClientKeyExchange(e)}),u.queue(e,t),e.expect=v;var o=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateVerify(e,t)})),u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)})),e.expect=d,u.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return o(e,null);u.getClientSignature(e,o)},u.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var r=e.entity===u.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=u.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:C,e.process()},u.handleFinished=function(e,t,r){var a=t.fragment;a.read-=4;var o=a.bytes();a.read+=4;var s=t.fragment.getBytes();(a=n.util.createBuffer()).putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest());var c=e.entity===u.ConnectionEnd.client,l=c?"server finished":"client finished",p=e.session.sp;if((a=i(p.master_secret,l,a.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decrypt_error}});e.session.md5.update(o),e.session.sha1.update(o),(e.session.resuming&&c||!e.session.resuming&&!c)&&(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))),e.expect=c?y:S,e.handshaking=!1,++e.handshakes,e.peerCertificate=c?e.session.serverCertificate:e.session.clientCertificate,u.flush(e),e.isConnected=!0,e.connected(e),e.process()},u.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case u.Alert.Description.close_notify:r="Connection closed.";break;case u.Alert.Description.unexpected_message:r="Unexpected message.";break;case u.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case u.Alert.Description.decryption_failed:r="Decryption failed.";break;case u.Alert.Description.record_overflow:r="Record overflow.";break;case u.Alert.Description.decompression_failure:r="Decompression failed.";break;case u.Alert.Description.handshake_failure:r="Handshake failure.";break;case u.Alert.Description.bad_certificate:r="Bad certificate.";break;case u.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case u.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case u.Alert.Description.certificate_expired:r="Certificate expired.";break;case u.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case u.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case u.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case u.Alert.Description.access_denied:r="Access denied.";break;case u.Alert.Description.decode_error:r="Decode error.";break;case u.Alert.Description.decrypt_error:r="Decrypt error.";break;case u.Alert.Description.export_restriction:r="Export restriction.";break;case u.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case u.Alert.Description.insufficient_security:r="Insufficient security.";break;case u.Alert.Description.internal_error:r="Internal error.";break;case u.Alert.Description.user_canceled:r="User canceled.";break;case u.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===u.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===u.ConnectionEnd.client?"server":"client",alert:i}),e.process()},u.handleHandshake=function(e,t){var r=t.fragment,i=r.getByte(),a=r.getInt24();if(a>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(a+4);r.read+=4,i in M[e.entity][e.expect]?(e.entity!==u.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==u.HandshakeType.hello_request&&i!==u.HandshakeType.certificate_verify&&i!==u.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),M[e.entity][e.expect][i](e,t,a)):u.handleUnexpected(e,t)},u.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},u.handleHeartbeat=function(e,t){var r=t.fragment,i=r.getByte(),a=r.getInt16(),o=r.getBytes(a);if(i===u.HeartbeatMessageType.heartbeat_request){if(e.handshaking||a>o.length)return e.process();u.queue(e,u.createRecord(e,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_response,o)})),u.flush(e)}else if(i===u.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(o))}e.process()};var l=1,p=2,f=3,h=4,d=5,g=6,y=7,v=8,m=1,E=2,b=3,w=4,C=5,S=6,T=u.handleUnexpected,A=u.handleChangeCipherSpec,I=u.handleAlert,B=u.handleHandshake,k=u.handleApplicationData,_=u.handleHeartbeat,R=[];R[u.ConnectionEnd.client]=[[T,I,B,T,_],[T,I,B,T,_],[T,I,B,T,_],[T,I,B,T,_],[T,I,B,T,_],[A,I,T,T,_],[T,I,B,T,_],[T,I,B,k,_],[T,I,B,T,_]],R[u.ConnectionEnd.server]=[[T,I,B,T,_],[T,I,B,T,_],[T,I,B,T,_],[T,I,B,T,_],[A,I,T,T,_],[T,I,B,T,_],[T,I,B,k,_],[T,I,B,T,_]];var N=u.handleHelloRequest,L=u.handleServerHello,x=u.handleCertificate,O=u.handleServerKeyExchange,P=u.handleCertificateRequest,U=u.handleServerHelloDone,D=u.handleFinished,M=[];M[u.ConnectionEnd.client]=[[T,T,L,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,x,O,P,U,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,O,P,U,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,P,U,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,U,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,D],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[N,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]];var K=u.handleClientHello,V=u.handleClientKeyExchange,j=u.handleCertificateVerify;M[u.ConnectionEnd.server]=[[T,K,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,x,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,V,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,j,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,D],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]],u.generateKeys=function(e,t){var r=i,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var a=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===u.Versions.TLS_1_0.major&&e.version.minor===u.Versions.TLS_1_0.minor;o&&(a+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,a),c={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return o&&(c.client_write_IV=s.getBytes(t.fixed_iv_length),c.server_write_IV=s.getBytes(t.fixed_iv_length)),c},u.createConnectionState=function(e){var t=e.entity===u.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=u.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case u.CompressionMethod.none:break;case u.CompressionMethod.deflate:n.read.compressFunction=o,n.write.compressFunction=a;break;default:throw new Error("Unsupported compression algorithm.")}}return n},u.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},u.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},u.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),u.createRecord(e,{type:u.ContentType.alert,data:r})},u.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var i=e.cipherSuites[r];t.putByte(i.id[0]),t.putByte(i.id[1])}var a=t.length(),o=n.util.createBuffer();o.putByte(u.CompressionMethod.none);var s=o.length(),l=n.util.createBuffer();if(e.virtualHost){var p=n.util.createBuffer();p.putByte(0),p.putByte(0);var f=n.util.createBuffer();f.putByte(0),c(f,2,n.util.createBuffer(e.virtualHost));var h=n.util.createBuffer();c(h,2,f),c(p,2,h),l.putBuffer(p)}var d=l.length();d>0&&(d+=2);var g=e.session.id,y=g.length+1+2+4+28+2+a+1+s+d,v=n.util.createBuffer();return v.putByte(u.HandshakeType.client_hello),v.putInt24(y),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),c(v,1,n.util.createBuffer(g)),c(v,2,t),c(v,1,o),d>0&&c(v,2,l),v},u.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(u.HandshakeType.server_hello),i.putInt24(r),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.server_random),c(i,1,n.util.createBuffer(t)),i.putByte(e.session.cipherSuite.id[0]),i.putByte(e.session.cipherSuite.id[1]),i.putByte(e.session.compressionMethod),i},u.createCertificate=function(e){var t,r=e.entity===u.ConnectionEnd.client,i=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,i=e.getCertificate(e,t));var a=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var o=null,s=0;s<i.length;++s){var l=n.pem.decode(i[s])[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type){var p=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw p.headerType=l.type,p}if(l.procType&&"ENCRYPTED"===l.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=n.util.createBuffer(l.body);null===o&&(o=n.asn1.fromDer(f.bytes(),!1));var h=n.util.createBuffer();c(h,3,f),a.putBuffer(h)}i=n.pki.certificateFromAsn1(o),r?e.session.clientCertificate=i:e.session.serverCertificate=i}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var d=3+a.length(),g=n.util.createBuffer();return g.putByte(u.HandshakeType.certificate),g.putInt24(d),c(g,3,a),g},u.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,a=n.util.createBuffer();return a.putByte(u.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(t.length),a.putBytes(t),a},u.createServerKeyExchange=function(e){var t=n.util.createBuffer();return t},u.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):t=i.sign(t,null),r(e,t)},e.getSignature(e,r,t)},u.createCertificateVerify=function(e,t){var r=t.length+2,i=n.util.createBuffer();return i.putByte(u.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(t.length),i.putBytes(t),i},u.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var i in e.caStore.certs){var a=e.caStore.certs[i],o=n.pki.distinguishedNameToAsn1(a.subject),s=n.asn1.toDer(o);r.putInt16(s.length()),r.putBuffer(s)}var l=1+t.length()+2+r.length(),p=n.util.createBuffer();return p.putByte(u.HandshakeType.certificate_request),p.putInt24(l),c(p,1,t),c(p,2,r),p},u.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(u.HandshakeType.server_hello_done),t.putInt24(0),t},u.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},u.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===u.ConnectionEnd.client,a=e.session.sp,o=r?"client finished":"server finished";t=i(a.master_secret,o,t.getBytes(),12);var s=n.util.createBuffer();return s.putByte(u.HandshakeType.finished),s.putInt24(t.length()),s.putBuffer(t),s},u.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var i=n.util.createBuffer();i.putByte(e),i.putInt16(r),i.putBytes(t);var a=i.length(),o=Math.max(16,a-r-3);return i.putBytes(n.random.getBytes(o)),i},u.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==u.ContentType.handshake&&t.type!==u.ContentType.alert&&t.type!==u.ContentType.change_cipher_spec)){if(t.type===u.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var i;if(t.fragment.length()<=u.MaxFragment)i=[t];else{i=[];for(var a=t.fragment.bytes();a.length>u.MaxFragment;)i.push(u.createRecord(e,{type:t.type,data:n.util.createBuffer(a.slice(0,u.MaxFragment))})),a=a.slice(u.MaxFragment);a.length>0&&i.push(u.createRecord(e,{type:t.type,data:n.util.createBuffer(a)}))}for(var o=0;o<i.length&&!e.fail;++o){var s=i[o];e.state.current.write.update(e,s)&&e.records.push(s)}}},u.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var F=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return u.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return u.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return u.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return u.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return u.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return u.Alert.Description.unknown_ca;default:return u.Alert.Description.bad_certificate}};for(var q in u.verifyCertificateChain=function(e,t){try{n.pki.verifyCertificateChain(e.caStore,t,(function(t,r,i){F(t);var a=e.verify(e,t,r,i);if(!0!==a){if("object"==typeof a&&!n.util.isArray(a)){var o=new Error("The application rejected the certificate.");throw o.send=!0,o.alert={level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate},a.message&&(o.message=a.message),a.alert&&(o.alert.description=a.alert),o}a!==t&&(a=function(e){switch(e){case!0:return!0;case u.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case u.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case u.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case u.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case u.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case u.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(a))}return a}))}catch(t){var r=t;("object"!=typeof r||n.util.isArray(r))&&(r={send:!0,alert:{level:u.Alert.Level.fatal,description:F(t)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:u.Alert.Level.fatal,description:F(r.error)}),e.error(e,r)}return!e.fail},u.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var i in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(i):delete e[i];r.getSession=function(e){var t=null,i=null;if(e?i=n.util.bytesToHex(e):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var a in t=r.cache[i],delete r.cache[i],r.order)if(r.order[a]===i){r.order.splice(a,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(e);r.order.push(i),r.cache[i]=t}}return r},u.createConnection=function(e){var t=null;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var i in r=[],u.CipherSuites)r.push(u.CipherSuites[i]);var a=e.server?u.ConnectionEnd.server:u.ConnectionEnd.client,o=e.sessionCache?u.createSessionCache(e.sessionCache):null,s={version:{major:u.Version.major,minor:u.Version.minor},entity:a,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===u.ConnectionEnd.client?"client":"server"),r.send&&(u.queue(t,u.createAlert(t,r.alert)),u.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){s.version={major:u.Version.major,minor:u.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=(s.entity,u.ConnectionEnd.client,0),s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=u.createConnectionState(s)}};s.reset();return s.handshake=function(e){if(s.entity!==u.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=u.createRandom().getBytes(),s.open=!0,u.queue(s,u.createRecord(s,{type:u.ContentType.handshake,data:u.createClientHello(s)})),u.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=function(e){var t=0,r=e.input,i=r.length();if(i<5)t=5-i;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var a=e.record.version.major===e.version.major;a&&e.session&&e.session.version&&(a=e.record.version.minor===e.version.minor),a||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}})}return t}(s)),s.fail||null===s.record||s.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})),e.record.ready=!0));return t}(s)),!s.fail&&null!==s.record&&s.record.ready&&function(e,t){var r=t.type-u.ContentType.change_cipher_spec,n=R[e.entity][e.expect];r in n?n[r](e,t):u.handleUnexpected(e,t)}(s,s.record)),t},s.prepare=function(e){return u.queue(s,u.createRecord(s,{type:u.ContentType.application_data,data:n.util.createBuffer(e)})),u.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,u.queue(s,u.createRecord(s,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_request,e,t)})),u.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,u.queue(s,u.createAlert(s,{level:u.Alert.Level.warning,description:u.Alert.Description.close_notify})),u.flush(s)),s.closed(s)),s.reset(e)},s},e.exports=n.tls=n.tls||{},u)"function"!=typeof u[q]&&(n.tls[q]=u[q]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(e,t,r){var i=n.hmac.create();i.start("SHA1",e);var a=n.util.createBuffer();return a.putInt32(t[0]),a.putInt32(t[1]),a.putByte(r.type),a.putByte(r.version.major),a.putByte(r.version.minor),a.putInt16(r.length),a.putBytes(r.fragment.bytes()),i.update(a.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=u.createSessionCache,n.tls.createConnection=u.createConnection},function(e,t,r){var n=r(1);r(24),r(36),r(121),r(46),r(88),r(128),r(90),r(62),r(2),r(89);var i=n.asn1,a=e.exports=n.pki=n.pki||{};a.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},a.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return a.privateKeyFromAsn1(o)},a.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:i.toDer(a.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},a.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},function(e,t,r){var n=r(1);if(r(35),r(24),r(61),r(25),r(36),r(88),r(46),r(16),r(125),r(62),r(2),void 0===i)var i=n.jsbn.BigInteger;var a=n.asn1,o=n.pki=n.pki||{};e.exports=o.pbe=n.pbe=n.pbe||{};var s=o.oids,c={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};function p(e,t){return e.start().update(t).digest().getBytes()}function f(e){var t;if(e){if(!(t=o.oids[a.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return h(t)}function h(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(t&&e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,c,u,l=n.random.getBytesSync(r.saltSize),p=r.count,f=a.integerToDer(p);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,g,y;switch(r.algorithm){case"aes128":i=16,d=16,g=s["aes128-CBC"],y=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,g=s["aes192-CBC"],y=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,g=s["aes256-CBC"],y=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,g=s.desCBC,y=n.des.createEncryptionCipher;break;default:throw(C=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,C}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),m=h(v),E=n.pkcs5.pbkdf2(t,l,p,i,m),b=n.random.getBytesSync(d);(S=y(E)).start(b),S.update(a.toDer(e)),S.finish(),u=S.output.getBytes();var w=function(e,t,r,i){var s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&s.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(o.oids[i]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return s}(l,f,i,v);c=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.pkcs5PBES2).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.pkcs5PBKDF2).getBytes()),w]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(g).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,b)])])])}else{var C;if("3des"!==r.algorithm)throw(C=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,C;i=24;var S,T=new n.util.ByteBuffer(l);E=o.pbe.generatePkcs12Key(t,T,1,p,i),b=o.pbe.generatePkcs12Key(t,T,2,p,i);(S=n.des.createEncryptionCipher(E)).start(b),S.update(a.toDer(e)),S.finish(),u=S.output.getBytes(),c=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,l),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,f.getBytes())])])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[c,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,u)])},o.decryptPrivateKeyInfo=function(e,t){var r=null,i={},s=[];if(!a.validate(e,c,i,s)){var u=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=s,u}var l=a.derToOid(i.encryptionOid),p=o.pbe.getCipher(l,i.encryptionParams,t),f=n.util.createBuffer(i.encryptedData);return p.update(f),p.finish()&&(r=a.fromDer(p.output)),r},o.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},o.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(t.body)},o.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var i=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));return i=o.encryptPrivateKeyInfo(i,t,r),o.encryptedPrivateKeyToPem(i)}var s,c,u,l;switch(r.algorithm){case"aes128":s="AES-128-CBC",u=16,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",u=24,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",u=32,c=n.random.getBytesSync(16),l=n.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",u=24,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;case"des":s="DES-CBC",u=8,c=n.random.getBytesSync(8),l=n.des.createEncryptionCipher;break;default:var p=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw p.algorithm=r.algorithm,p}var f=l(n.pbe.opensslDeriveBytes(t,c.substr(0,8),u));f.start(c),f.update(a.toDer(o.privateKeyToAsn1(e))),f.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:n.util.bytesToHex(c).toUpperCase()},body:f.output.getBytes()};return n.pem.encode(h)},o.decryptRsaPrivateKey=function(e,t){var r=null,i=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(u=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=u,u;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,c;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,c=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,c=n.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,c=n.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,c=n.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,c=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,c=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":s=8,c=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":s=16,c=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var u;throw(u=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,u}var l=n.util.hexToBytes(i.dekInfo.parameters),p=c(n.pbe.opensslDeriveBytes(t,l.substr(0,8),s));if(p.start(l),p.update(n.util.createBuffer(i.body)),!p.finish())return r;r=p.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?o.decryptPrivateKeyInfo(a.fromDer(r),t):a.fromDer(r))&&(r=o.privateKeyFromAsn1(r)),r},o.pbe.generatePkcs12Key=function(e,t,r,i,a,o){var s,c;if(null==o){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');o=n.md.sha1.create()}var u=o.digestLength,l=o.blockLength,p=new n.util.ByteBuffer,f=new n.util.ByteBuffer;if(null!=e){for(c=0;c<e.length;c++)f.putInt16(e.charCodeAt(c));f.putInt16(0)}var h=f.length(),d=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,l);var y=l*Math.ceil(d/l),v=new n.util.ByteBuffer;for(c=0;c<y;c++)v.putByte(t.at(c%d));var m=l*Math.ceil(h/l),E=new n.util.ByteBuffer;for(c=0;c<m;c++)E.putByte(f.at(c%h));var b=v;b.putBuffer(E);for(var w=Math.ceil(a/u),C=1;C<=w;C++){var S=new n.util.ByteBuffer;S.putBytes(g.bytes()),S.putBytes(b.bytes());for(var T=0;T<i;T++)o.start(),o.update(S.getBytes()),S=o.digest();var A=new n.util.ByteBuffer;for(c=0;c<l;c++)A.putByte(S.at(c%u));var I=Math.ceil(d/l)+Math.ceil(h/l),B=new n.util.ByteBuffer;for(s=0;s<I;s++){var k=new n.util.ByteBuffer(b.getBytes(l)),_=511;for(c=A.length()-1;c>=0;c--)_>>=8,_+=A.at(c)+k.at(c),k.setAt(c,255&_);B.putBuffer(k)}b=B,p.putBuffer(S)}return p.truncate(p.length()-a),p},o.pbe.getCipher=function(e,t,r){switch(e){case o.oids.pkcs5PBES2:return o.pbe.getCipherForPBES2(e,t,r);case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case o.oids["pbewithSHAAnd40BitRC2-CBC"]:return o.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},o.pbe.getCipherForPBES2=function(e,t,r){var i,s={},c=[];if(!a.validate(t,u,s,c))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=c,i;if((e=a.derToOid(s.kdfOid))!==o.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=a.derToOid(s.encOid))!==o.oids["aes128-CBC"]&&e!==o.oids["aes192-CBC"]&&e!==o.oids["aes256-CBC"]&&e!==o.oids["des-EDE3-CBC"]&&e!==o.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var l,p,h=s.kdfSalt,d=n.util.createBuffer(s.kdfIterationCount);switch(d=d.getInt(d.length()<<3),o.oids[e]){case"aes128-CBC":l=16,p=n.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,p=n.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,p=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,p=n.des.createDecryptionCipher;break;case"desCBC":l=8,p=n.des.createDecryptionCipher}var g=f(s.prfOid),y=n.pkcs5.pbkdf2(r,h,d,l,g),v=s.encIv,m=p(y);return m.start(v),m},o.pbe.getCipherForPKCS12PBE=function(e,t,r){var i={},s=[];if(!a.validate(t,l,i,s))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,g;var c,u,p,h=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),e){case o.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,p=n.des.startDecrypting;break;case o.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,p=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var y=f(i.prfOid),v=o.pbe.generatePkcs12Key(r,h,1,d,c,y);return y.start(),p(v,o.pbe.generatePkcs12Key(r,h,2,d,u,y))},o.pbe.opensslDeriveBytes=function(e,t,r,i){if(null==i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===t&&(t="");for(var a=[p(i,e+t)],o=16,s=1;o<r;++s,o+=16)a.push(p(i,a[s-1]+e+t));return a.join("").substr(0,r)}},function(e,t){},function(e,t,r){var n=r(1);r(25),r(2);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var s=a.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=s[1],s[1]=s[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(a),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o=n.util.createBuffer();o.putBytes(t.bytes());var s,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;o.putBytes(a.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],p=0;p<i.fullMessageLength.length-1;++p)l+=(s=8*i.fullMessageLength[p+1])/4294967296>>>0,o.putInt32(l>>>0),l=s>>>0;o.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};c(f,r,o);var h=n.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h.putInt32(f.h5),h.putInt32(f.h6),h.putInt32(f.h7),h},i};var a=null,o=!1,s=null;function c(e,t,r){for(var n,i,a,o,c,u,l,p,f,h,d,g,y,v=r.length();v>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[c-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,l=e.h1,p=e.h2,f=e.h3,h=e.h4,d=e.h5,g=e.h6,y=e.h7,c=0;c<64;++c)a=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),o=u&l|p&(u^l),n=y+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(g^h&(d^g))+s[c]+t[c],y=g,g=d,d=h,h=f+n>>>0,f=p,p=l,l=u,u=n+(i=a+o)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+p|0,e.h3=e.h3+f|0,e.h4=e.h4+h|0,e.h5=e.h5+d|0,e.h6=e.h6+g|0,e.h7=e.h7+y|0,v-=64}}},function(e,t,r){(function(t){var n=r(1);r(2);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||t.versions["node-webkit"]||(i=r(122)),(e.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,a=new Array(32),o=0;o<32;++o)a[o]=r.create();function s(){if(t.pools[0].messageLength>=32)return c();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),c()}function c(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function u(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var i=n.util.createBuffer();if(t)for(;i.length()<e;){var a=Math.max(1,Math.min(e-i.length(),65536)/4),o=new Uint32Array(Math.floor(a));try{t(o);for(var s=0;s<o.length;++s)i.putInt32(o[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var c,u,l,p=Math.floor(65536*Math.random());i.length()<e;){u=16807*(65535&p),u+=(32767&(c=16807*(p>>16)))<<16,p=4294967295&(u=(2147483647&(u+=c>>15))+(u>>31));for(s=0;s<3;++s)l=p>>>(s<<3),l^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&l))}return i.getBytes(e)}return t.pools=a,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,a=t.plugin.increment,o=t.plugin.formatKey,s=t.plugin.formatSeed,u=n.util.createBuffer();t.key=null,function l(p){if(p)return r(p);if(u.length()>=e)return r(null,u.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return c(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),c(),e()}))}(l)}));var f=i(t.key,t.seed);t.generated+=f.length;u.putBytes(f);t.key=o(i(t.key,a(t.seed)));t.seed=s(i(t.key,t.seed));n.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,a=t.plugin.formatKey,o=t.plugin.formatSeed;t.key=null;for(var c=n.util.createBuffer();c.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&s();var u=r(t.key,t.seed);t.generated+=u.length,c.putBytes(u),t.key=a(r(t.key,i(t.seed))),t.seed=o(r(t.key,t.seed))}return c.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,u(e))}catch(e){t(e)}},t.seedFileSync=u),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}}).call(this,r(45))},function(e,t,r){var n=r(1);r(2);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],o=function(e,t){return e<<t&65535|(65535&e)>>16-t},s=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,a=e,o=e.length(),s=t,c=Math.ceil(s/8),u=255>>(7&s);for(r=o;r<128;r++)a.putByte(i[a.at(r-1)+a.at(r-o)&255]);for(a.setAt(128-c,i[a.at(128-c)&u]),r=127-c;r>=0;r--)a.setAt(r,i[a.at(r+1)^a.at(r+c)]);return a};var c=function(e,t,r){var i,c,u,l,p=!1,f=null,h=null,d=null,g=[];for(e=n.rc2.expandKey(e,t),u=0;u<64;u++)g.push(e.getInt16Le());r?(i=function(e){for(u=0;u<4;u++)e[u]+=g[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),e[u]=o(e[u],a[u]),l++},c=function(e){for(u=0;u<4;u++)e[u]+=g[63&e[(u+3)%4]]}):(i=function(e){for(u=3;u>=0;u--)e[u]=s(e[u],a[u]),e[u]-=g[l]+(e[(u+3)%4]&e[(u+2)%4])+(~e[(u+3)%4]&e[(u+1)%4]),l--},c=function(e){for(u=3;u>=0;u--)e[u]-=g[63&e[(u+3)%4]]});var y=function(e){var t=[];for(u=0;u<4;u++){var n=f.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var i=0;i<e.length;i++)for(var a=0;a<e[i][0];a++)e[i][1](t);for(u=0;u<4;u++)null!==d&&(r?d.putInt16Le(t[u]):t[u]^=d.getInt16Le()),h.putInt16Le(t[u])},v=null;return v={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),p=!1,f=n.util.createBuffer(),h=t||new n.util.createBuffer,d=e,v.output=h},update:function(e){for(p||f.putBuffer(e);f.length()>=8;)y([[5,i],[1,c],[6,i],[1,c],[5,i]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,f,!r);else{var n=8===f.length()?8:8-f.length();f.fillWithByte(n,n)}if(t&&(p=!0,v.update()),!r&&(t=0===f.length()))if(e)t=e(8,h,!r);else{var i=h.length(),a=h.at(i-1);a>i?t=!1:h.truncate(a)}return t}}};n.rc2.startEncrypting=function(e,t,r){var i=n.rc2.createEncryptionCipher(e,128);return i.start(t,r),i},n.rc2.createEncryptionCipher=function(e,t){return c(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var i=n.rc2.createDecryptionCipher(e,128);return i.start(t,r),i},n.rc2.createDecryptionCipher=function(e,t){return c(e,t,!1)}},function(e,t,r){var n=r(1);r(2),r(16),r(51);var i=e.exports=n.pkcs1=n.pkcs1||{};function a(e,t,r){r||(r=n.md.sha1.create());for(var i="",a=Math.ceil(t/r.digestLength),o=0;o<a;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(e+s),i+=r.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,r){var i,o,s,c;"string"==typeof r?(i=r,o=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,o=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(c=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),c||(c=s);var u=Math.ceil(e.n.bitLength()/8),l=u-2*s.digestLength-2;if(t.length>l)throw(y=new Error("RSAES-OAEP input message length is too long.")).length=t.length,y.maxLength=l,y;i||(i=""),s.update(i,"raw");for(var p=s.digest(),f="",h=l-t.length,d=0;d<h;d++)f+="\0";var g=p.getBytes()+f+""+t;if(o){if(o.length!==s.digestLength){var y;throw(y=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,y.digestLength=s.digestLength,y}}else o=n.random.getBytes(s.digestLength);var v=a(o,u-s.digestLength-1,c),m=n.util.xorBytes(g,v,g.length),E=a(m,s.digestLength,c),b=n.util.xorBytes(o,E,o.length);return"\0"+b+m},i.decode_rsa_oaep=function(e,t,r){var i,o,s;"string"==typeof r?(i=r,o=arguments[3]||void 0):r&&(i=r.label||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var c=Math.ceil(e.n.bitLength()/8);if(t.length!==c)throw(m=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,m.expectedLength=c,m;if(void 0===o?o=n.md.sha1.create():o.start(),s||(s=o),c<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var u=o.digest().getBytes(),l=t.charAt(0),p=t.substring(1,o.digestLength+1),f=t.substring(1+o.digestLength),h=a(f,o.digestLength,s),d=n.util.xorBytes(p,h,p.length),g=a(d,c-o.digestLength-1,s),y=n.util.xorBytes(f,g,f.length),v=y.substring(0,o.digestLength),m="\0"!==l,E=0;E<o.digestLength;++E)m|=u.charAt(E)!==v.charAt(E);for(var b=1,w=o.digestLength,C=o.digestLength;C<y.length;C++){var S=y.charCodeAt(C),T=1&S^1,A=b?65534:0;m|=S&A,w+=b&=T}if(m||1!==y.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(w+1)}},function(e,t,r){var n=r(1);r(2),r(63),r(16),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],a=new r(null);a.fromInt(30);var o=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var a=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof a&&(a={name:a}),a.options=a.options||{};var o=t.prng||n.random,u={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===a.name)return function(e,t,i,a){if("workers"in i)return function(e,t,i,a){if("undefined"==typeof Worker)return s(e,t,i,a);var o=c(e,t),u=i.workers,l=i.workLoad||100,p=30*l/8,f=i.workerScript||"forge/prime.worker.js";if(-1===u)return n.util.estimateCores((function(e,t){e&&(t=2),u=t-1,h()}));function h(){u=Math.max(1,u);for(var n=[],i=0;i<u;++i)n[i]=new Worker(f);for(i=0;i<u;++i)n[i].addEventListener("message",h);var s=!1;function h(i){if(!s){0;var u=i.data;if(u.found){for(var f=0;f<n.length;++f)n[f].terminate();return s=!0,a(null,new r(u.prime,16))}o.bitLength()>e&&(o=c(e,t));var h=o.toString(16);i.target.postMessage({hex:h,workLoad:l}),o.dAddOffset(p,0)}}}h()}(e,t,i,a);return s(e,t,i,a)}(e,u,a.options,i);throw new Error("Invalid prime generation algorithm: "+a.name)}}function s(e,t,r,a){var o=c(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(o.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var u=10;"maxBlockTime"in r&&(u=r.maxBlockTime),function e(t,r,a,o,s,u,l){var p=+new Date;do{if(t.bitLength()>r&&(t=c(r,a)),t.isProbablePrime(s))return l(null,t);t.dAddOffset(i[o++%8],0)}while(u<0||+new Date-p<u);n.util.setImmediate((function(){e(t,r,a,o,s,u,l)}))}(o,e,t,0,s,u,a)}function c(e,t){var n=new r(e,t),i=e-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),o,n),n.dAddOffset(31-n.mod(a).byteValue(),0),n}}()},function(e,t,r){var n=r(1);r(24),r(50),r(36),r(129),r(121),r(16),r(62),r(51),r(2),r(89);var i=n.asn1,a=n.pki,o=e.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},c={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},p={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function f(e,t,r,n){for(var i=[],a=0;a<e.length;a++)for(var o=0;o<e[a].safeBags.length;o++){var s=e[a].safeBags[o];void 0!==n&&s.type!==n||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function h(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function d(e,t){var r={},o=[];if(!i.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,o))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=o,s;var s,c=i.derToOid(r.contentType);if(c!==a.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=c,s;c=i.derToOid(r.encAlgorithm);var u=a.pbe.getCipher(c,r.encParameter,t),l=h(r.encryptedContentAsn1),p=n.util.createBuffer(l.value);if(u.update(p),!u.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],o=0;o<e.value.length;o++){var s=e.value[o],c={},l=[];if(!i.validate(s,u,c,l))throw(v=new Error("Cannot read SafeBag.")).errors=l,v;var f,h,d={type:i.derToOid(c.bagId),attributes:y(c.bagAttributes)};n.push(d);var g=c.bagValue.value[0];switch(d.type){case a.oids.pkcs8ShroudedKeyBag:if(null===(g=a.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{d.key=a.privateKeyFromAsn1(g)}catch(e){d.key=null,d.asn1=g}continue;case a.oids.certBag:f=p,h=function(){if(i.derToOid(c.certId)!==a.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(c.certId),e}var r=i.fromDer(c.cert,t);try{d.cert=a.certificateFromAsn1(r,!0)}catch(e){d.cert=null,d.asn1=r}};break;default:var v;throw(v=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,v}if(void 0!==f&&!i.validate(g,f,c,l))throw(v=new Error("Cannot read PKCS#12 "+f.name)).errors=l,v;h()}return n}function y(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},o=[];if(!i.validate(e[r],l,n,o)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=o,s}var c=i.derToOid(n.oid);if(void 0!==a.oids[c]){t[a.oids[c]]=[];for(var u=0;u<n.values.length;++u)t[a.oids[c]].push(n.values[u].value)}}return t}o.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var u={};if(!i.validate(e,c,u,[]))throw(l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=l,l;var l,p={version:u.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=f(p.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=f(p.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=f(p.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return f(p.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return f(p.safeContents,"localKeyId",e,t)}};if(3!==u.version.charCodeAt(0))throw(l=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=u.version.charCodeAt(0),l;if(i.derToOid(u.contentType)!==a.oids.data)throw(l=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(u.contentType),l;var y=u.content.value[0];if(y.tagClass!==i.Class.UNIVERSAL||y.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(y=h(y),u.mac){var v=null,m=0,E=i.derToOid(u.macAlgorithm);switch(E){case a.oids.sha1:v=n.md.sha1.create(),m=20;break;case a.oids.sha256:v=n.md.sha256.create(),m=32;break;case a.oids.sha384:v=n.md.sha384.create(),m=48;break;case a.oids.sha512:v=n.md.sha512.create(),m=64;break;case a.oids.md5:v=n.md.md5.create(),m=16}if(null===v)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+E);var b=new n.util.ByteBuffer(u.macSalt),w="macIterations"in u?parseInt(n.util.bytesToHex(u.macIterations),16):1,C=o.generateKey(r,b,3,w,m,v),S=n.hmac.create();if(S.start(v,C),S.update(y.value),S.getMac().getBytes()!==u.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=i.fromDer(t,r)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var o=0;o<t.value.length;o++){var c=t.value[o],u={},l=[];if(!i.validate(c,s,u,l))throw(v=new Error("Cannot read ContentInfo.")).errors=l,v;var p={encrypted:!1},f=null,y=u.content.value[0];switch(i.derToOid(u.contentType)){case a.oids.data:if(y.tagClass!==i.Class.UNIVERSAL||y.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=h(y).value;break;case a.oids.encryptedData:f=d(y,n),p.encrypted=!0;break;default:var v;throw(v=new Error("Unsupported PKCS#12 contentType.")).contentType=i.derToOid(u.contentType),v}p.safeBags=g(f,r,n),e.safeContents.push(p)}}(p,y.value,t,r),p},o.toPkcs12Asn1=function(e,t,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var c,u=s.localKeyId;if(null!==u)u=n.util.hexToBytes(u);else if(s.generateLocalKeyId)if(t){var l=n.util.isArray(t)?t[0]:t;"string"==typeof l&&(l=a.certificateFromPem(l)),(B=n.md.sha1.create()).update(i.toDer(a.certificateToAsn1(l)).getBytes()),u=B.digest().getBytes()}else u=n.random.getBytes(20);var p=[];null!==u&&p.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,u)])])),"friendlyName"in s&&p.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),p.length>0&&(c=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,p));var f=[],h=[];null!==t&&(h=n.util.isArray(t)?t:[t]);for(var d=[],g=0;g<h.length;++g){"string"==typeof(t=h[g])&&(t=a.certificateFromPem(t));var y=0===g?c:void 0,v=a.certificateToAsn1(t),m=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])])]),y]);d.push(m)}if(d.length>0){var E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(E).getBytes())])]);f.push(b)}var w=null;if(null!==e){var C=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));w=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[C]),c]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(C,r,s)]),c]);var S=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[w]),T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(S).getBytes())])]);f.push(T)}var A,I=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,f);if(s.useMac){var B=n.md.sha1.create(),k=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),_=s.count,R=(e=o.generateKey(r,k,3,_,20),n.hmac.create());R.start(B,e),R.update(i.toDer(I).getBytes());var N=R.getMac();A=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,N.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,k.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(_).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(I).getBytes())])]),A])},o.generateKey=n.pbe.generatePkcs12Key},function(e,t,r){var n=r(1);r(24),r(2);var i=n.asn1,a=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=a;var o={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=o;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},a.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var c={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},o,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[c]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,r){var n=r(1);r(2),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var i=new n.util.ByteBuffer,a=Math.ceil(r/e.digestLength),o=0;o<a;o++){var s=new n.util.ByteBuffer;s.putInt32(o),e.start(),e.update(t+s.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(e,t,r){var n=r(1);e.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(e,t){var r;return void 0===e?r=n.debug.storage:e in n.debug.storage&&(r=void 0===t?n.debug.storage[e]:n.debug.storage[e][t]),r},n.debug.set=function(e,t,r){e in n.debug.storage||(n.debug.storage[e]={}),n.debug.storage[e][t]=r},n.debug.clear=function(e,t){void 0===e?n.debug.storage={}:e in n.debug.storage&&(void 0===t?delete n.debug.storage[e]:delete n.debug.storage[e][t])}},function(e,t,r){var n=r(1);r(25),r(2);var i=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var a=n.sha384=n.sha512.sha384=n.sha512.sha384||{};a.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=a,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(e){if(s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(u={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in u))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=u[e],r=null,i=n.util.createBuffer(),a=new Array(80),p=0;p<80;++p)a[p]=new Array(2);var f=64;switch(e){case"SHA-384":f=48;break;case"SHA-512/256":f=32;break;case"SHA-512/224":f=28}var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:f,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){h.messageLength=0,h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,a=0;a<e;++a)h.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(t.length);for(a=0;a<t.length;++a)r[a]=t[a].slice(0);return h}};return h.start(),h.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var o=e.length;h.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=h.fullMessageLength.length-1;s>=0;--s)h.fullMessageLength[s]+=o[1],o[1]=o[0]+(h.fullMessageLength[s]/4294967296>>>0),h.fullMessageLength[s]=h.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return i.putBytes(e),l(r,a,i),(i.read>2048||0===i.length())&&i.compact(),h},h.digest=function(){var t=n.util.createBuffer();t.putBytes(i.bytes());var s,c=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1;t.putBytes(o.substr(0,h.blockLength-c));for(var u=8*h.fullMessageLength[0],p=0;p<h.fullMessageLength.length-1;++p)u+=(s=8*h.fullMessageLength[p+1])/4294967296>>>0,t.putInt32(u>>>0),u=s>>>0;t.putInt32(u);var f=new Array(r.length);for(p=0;p<r.length;++p)f[p]=r[p].slice(0);l(f,a,t);var d,g=n.util.createBuffer();d="SHA-512"===e?f.length:"SHA-384"===e?f.length-2:f.length-4;for(p=0;p<d;++p)g.putInt32(f[p][0]),p===d-1&&"SHA-512/224"===e||g.putInt32(f[p][1]);return g},h};var o=null,s=!1,c=null,u=null;function l(e,t,r){for(var n,i,a,o,s,u,l,p,f,h,d,g,y,v,m,E,b,w,C,S,T,A,I,B,k,_,R,N,L,x,O,P,U,D=r.length();D>=128;){for(R=0;R<16;++R)t[R][0]=r.getInt32()>>>0,t[R][1]=r.getInt32()>>>0;for(;R<80;++R)n=(((N=(x=t[R-2])[0])>>>19|(L=x[1])<<13)^(L>>>29|N<<3)^N>>>6)>>>0,i=((N<<13|L>>>19)^(L<<3|N>>>29)^(N<<26|L>>>6))>>>0,a=(((N=(P=t[R-15])[0])>>>1|(L=P[1])<<31)^(N>>>8|L<<24)^N>>>7)>>>0,o=((N<<31|L>>>1)^(N<<24|L>>>8)^(N<<25|L>>>7))>>>0,O=t[R-7],U=t[R-16],L=i+O[1]+o+U[1],t[R][0]=n+O[0]+a+U[0]+(L/4294967296>>>0)>>>0,t[R][1]=L>>>0;for(d=e[0][0],g=e[0][1],y=e[1][0],v=e[1][1],m=e[2][0],E=e[2][1],b=e[3][0],w=e[3][1],C=e[4][0],S=e[4][1],T=e[5][0],A=e[5][1],I=e[6][0],B=e[6][1],k=e[7][0],_=e[7][1],R=0;R<80;++R)l=((C>>>14|S<<18)^(C>>>18|S<<14)^(S>>>9|C<<23))>>>0,p=(I^C&(T^I))>>>0,s=((d>>>28|g<<4)^(g>>>2|d<<30)^(g>>>7|d<<25))>>>0,u=((d<<4|g>>>28)^(g<<30|d>>>2)^(g<<25|d>>>7))>>>0,f=(d&y|m&(d^y))>>>0,h=(g&v|E&(g^v))>>>0,L=_+(((C<<18|S>>>14)^(C<<14|S>>>18)^(S<<23|C>>>9))>>>0)+((B^S&(A^B))>>>0)+c[R][1]+t[R][1],n=k+l+p+c[R][0]+t[R][0]+(L/4294967296>>>0)>>>0,i=L>>>0,a=s+f+((L=u+h)/4294967296>>>0)>>>0,o=L>>>0,k=I,_=B,I=T,B=A,T=C,A=S,C=b+n+((L=w+i)/4294967296>>>0)>>>0,S=L>>>0,b=m,w=E,m=y,E=v,y=d,v=g,d=n+a+((L=i+o)/4294967296>>>0)>>>0,g=L>>>0;L=e[0][1]+g,e[0][0]=e[0][0]+d+(L/4294967296>>>0)>>>0,e[0][1]=L>>>0,L=e[1][1]+v,e[1][0]=e[1][0]+y+(L/4294967296>>>0)>>>0,e[1][1]=L>>>0,L=e[2][1]+E,e[2][0]=e[2][0]+m+(L/4294967296>>>0)>>>0,e[2][1]=L>>>0,L=e[3][1]+w,e[3][0]=e[3][0]+b+(L/4294967296>>>0)>>>0,e[3][1]=L>>>0,L=e[4][1]+S,e[4][0]=e[4][0]+C+(L/4294967296>>>0)>>>0,e[4][1]=L>>>0,L=e[5][1]+A,e[5][0]=e[5][0]+T+(L/4294967296>>>0)>>>0,e[5][1]=L>>>0,L=e[6][1]+B,e[6][0]=e[6][0]+I+(L/4294967296>>>0)>>>0,e[6][1]=L>>>0,L=e[7][1]+_,e[7][0]=e[7][0]+k+(L/4294967296>>>0)>>>0,e[7][1]=L>>>0,D-=128}}},function(e,t,r){var n=r(1);r(2),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},a=[],o=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var s=0;s<n.log.levels.length;++s){var c=n.log.levels[s];i[c]={index:s,name:c.toUpperCase()}}n.log.logMessage=function(e){for(var t=i[e.level].index,r=0;r<a.length;++r){var o=a[r];if(o.flags&n.log.NO_LEVEL_CHECK)o.f(e);else t<=i[o.level].index&&o.f(o,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||!1),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var u=["error","warning","info","debug","verbose"];for(s=0;s<u.length;++s)!function(e){n.log[e]=function(t,r){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:t,message:r,arguments:i};n.log.logMessage(a)}}(u[s]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i){if(t==n.log.levels[i]){e.level=t,r=!0;break}}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){a.push(e)},"undefined"!=typeof console&&"log"in console){var l;if(console.error&&console.warn&&console.info&&console.debug){var p={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(e,t){n.log.prepareStandard(t);var r=p[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),r.apply(console,i)};l=n.log.makeLogger(f)}else{f=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)};l=n.log.makeLogger(f)}n.log.setLevel(l,"debug"),n.log.addLogger(l),o=l}else console={log:function(){}};if(null!==o){var h=n.util.getQueryVariables();if("console.level"in h&&n.log.setLevel(o,h["console.level"].slice(-1)[0]),"console.lock"in h)"true"==h["console.lock"].slice(-1)[0]&&n.log.lock(o)}n.log.consoleLogger=o},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){(function(r){var n;t=e.exports=h,n="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=256,a=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],s=t.src=[],c=t.tokens={},u=0;function l(e){c[e]=u++}l("NUMERICIDENTIFIER"),s[c.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),s[c.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),s[c.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),s[c.MAINVERSION]="("+s[c.NUMERICIDENTIFIER]+")\\.("+s[c.NUMERICIDENTIFIER]+")\\.("+s[c.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),s[c.MAINVERSIONLOOSE]="("+s[c.NUMERICIDENTIFIERLOOSE]+")\\.("+s[c.NUMERICIDENTIFIERLOOSE]+")\\.("+s[c.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),s[c.PRERELEASEIDENTIFIER]="(?:"+s[c.NUMERICIDENTIFIER]+"|"+s[c.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),s[c.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[c.NUMERICIDENTIFIERLOOSE]+"|"+s[c.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),s[c.PRERELEASE]="(?:-("+s[c.PRERELEASEIDENTIFIER]+"(?:\\."+s[c.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),s[c.PRERELEASELOOSE]="(?:-?("+s[c.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[c.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),s[c.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),s[c.BUILD]="(?:\\+("+s[c.BUILDIDENTIFIER]+"(?:\\."+s[c.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),s[c.FULLPLAIN]="v?"+s[c.MAINVERSION]+s[c.PRERELEASE]+"?"+s[c.BUILD]+"?",s[c.FULL]="^"+s[c.FULLPLAIN]+"$",l("LOOSEPLAIN"),s[c.LOOSEPLAIN]="[v=\\s]*"+s[c.MAINVERSIONLOOSE]+s[c.PRERELEASELOOSE]+"?"+s[c.BUILD]+"?",l("LOOSE"),s[c.LOOSE]="^"+s[c.LOOSEPLAIN]+"$",l("GTLT"),s[c.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),s[c.XRANGEIDENTIFIERLOOSE]=s[c.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),s[c.XRANGEIDENTIFIER]=s[c.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),s[c.XRANGEPLAIN]="[v=\\s]*("+s[c.XRANGEIDENTIFIER]+")(?:\\.("+s[c.XRANGEIDENTIFIER]+")(?:\\.("+s[c.XRANGEIDENTIFIER]+")(?:"+s[c.PRERELEASE]+")?"+s[c.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),s[c.XRANGEPLAINLOOSE]="[v=\\s]*("+s[c.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[c.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[c.XRANGEIDENTIFIERLOOSE]+")(?:"+s[c.PRERELEASELOOSE]+")?"+s[c.BUILD]+"?)?)?",l("XRANGE"),s[c.XRANGE]="^"+s[c.GTLT]+"\\s*"+s[c.XRANGEPLAIN]+"$",l("XRANGELOOSE"),s[c.XRANGELOOSE]="^"+s[c.GTLT]+"\\s*"+s[c.XRANGEPLAINLOOSE]+"$",l("COERCE"),s[c.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),o[c.COERCERTL]=new RegExp(s[c.COERCE],"g"),l("LONETILDE"),s[c.LONETILDE]="(?:~>?)",l("TILDETRIM"),s[c.TILDETRIM]="(\\s*)"+s[c.LONETILDE]+"\\s+",o[c.TILDETRIM]=new RegExp(s[c.TILDETRIM],"g");l("TILDE"),s[c.TILDE]="^"+s[c.LONETILDE]+s[c.XRANGEPLAIN]+"$",l("TILDELOOSE"),s[c.TILDELOOSE]="^"+s[c.LONETILDE]+s[c.XRANGEPLAINLOOSE]+"$",l("LONECARET"),s[c.LONECARET]="(?:\\^)",l("CARETTRIM"),s[c.CARETTRIM]="(\\s*)"+s[c.LONECARET]+"\\s+",o[c.CARETTRIM]=new RegExp(s[c.CARETTRIM],"g");l("CARET"),s[c.CARET]="^"+s[c.LONECARET]+s[c.XRANGEPLAIN]+"$",l("CARETLOOSE"),s[c.CARETLOOSE]="^"+s[c.LONECARET]+s[c.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),s[c.COMPARATORLOOSE]="^"+s[c.GTLT]+"\\s*("+s[c.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),s[c.COMPARATOR]="^"+s[c.GTLT]+"\\s*("+s[c.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),s[c.COMPARATORTRIM]="(\\s*)"+s[c.GTLT]+"\\s*("+s[c.LOOSEPLAIN]+"|"+s[c.XRANGEPLAIN]+")",o[c.COMPARATORTRIM]=new RegExp(s[c.COMPARATORTRIM],"g");l("HYPHENRANGE"),s[c.HYPHENRANGE]="^\\s*("+s[c.XRANGEPLAIN]+")\\s+-\\s+("+s[c.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),s[c.HYPHENRANGELOOSE]="^\\s*("+s[c.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[c.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),s[c.STAR]="(<|>)?=?\\s*\\*";for(var p=0;p<u;p++)n(p,s[p]),o[p]||(o[p]=new RegExp(s[p]));function f(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h)return e;if("string"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?o[c.LOOSE]:o[c.FULL]).test(e))return null;try{return new h(e,t)}catch(e){return null}}function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof h))return new h(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?o[c.LOOSE]:o[c.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=f,t.valid=function(e,t){var r=f(e,t);return r?r.version:null},t.clean=function(e,t){var r=f(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=h,h.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},h.prototype.toString=function(){return this.version},h.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof h||(e=new h(e,this.options)),this.compareMain(e)||this.comparePre(e)},h.prototype.compareMain=function(e){return e instanceof h||(e=new h(e,this.options)),g(this.major,e.major)||g(this.minor,e.minor)||g(this.patch,e.patch)},h.prototype.comparePre=function(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return g(r,i)}while(++t)},h.prototype.compareBuild=function(e){e instanceof h||(e=new h(e,this.options));var t=0;do{var r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return g(r,i)}while(++t)},h.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new h(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(E(e,t))return null;var r=f(e),n=f(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var a="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return i+o;return a},t.compareIdentifiers=g;var d=/^[0-9]+$/;function g(e,t){var r=d.test(e),n=d.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function y(e,t,r){return new h(e,r).compare(new h(t,r))}function v(e,t,r){return y(e,t,r)>0}function m(e,t,r){return y(e,t,r)<0}function E(e,t,r){return 0===y(e,t,r)}function b(e,t,r){return 0!==y(e,t,r)}function w(e,t,r){return y(e,t,r)>=0}function C(e,t,r){return y(e,t,r)<=0}function S(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return E(e,r,n);case"!=":return b(e,r,n);case">":return v(e,r,n);case">=":return w(e,r,n);case"<":return m(e,r,n);case"<=":return C(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function T(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof T){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof T))return new T(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===A?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return g(t,e)},t.major=function(e,t){return new h(e,t).major},t.minor=function(e,t){return new h(e,t).minor},t.patch=function(e,t){return new h(e,t).patch},t.compare=y,t.compareLoose=function(e,t){return y(e,t,!0)},t.compareBuild=function(e,t,r){var n=new h(e,r),i=new h(t,r);return n.compare(i)||n.compareBuild(i)},t.rcompare=function(e,t,r){return y(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compareBuild(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.compareBuild(n,e,r)}))},t.gt=v,t.lt=m,t.eq=E,t.neq=b,t.gte=w,t.lte=C,t.cmp=S,t.Comparator=T;var A={};function I(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof I)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new I(e.raw,t);if(e instanceof T)return new I(e.value,t);if(!(this instanceof I))return new I(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function B(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every((function(e){return i.intersects(e,t)})),i=n.pop();return r}function k(e){return!e||"x"===e.toLowerCase()||"*"===e}function _(e,t,r,n,i,a,o,s,c,u,l,p,f){return((t=k(r)?"":k(n)?">="+r+".0.0":k(i)?">="+r+"."+n+".0":">="+t)+" "+(s=k(c)?"":k(u)?"<"+(+c+1)+".0.0":k(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+s)).trim()}function R(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==A&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}function N(e,t,r){try{t=new I(t,r)}catch(e){return!1}return t.test(e)}function L(e,t,r,n){var i,a,o,s,c;switch(e=new h(e,n),t=new I(t,n),r){case">":i=v,a=C,o=m,s=">",c=">=";break;case"<":i=m,a=w,o=v,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(N(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,f=null;if(l.forEach((function(e){e.semver===A&&(e=new T(">=0.0.0")),p=p||e,f=f||e,i(e.semver,p.semver,n)?p=e:o(e.semver,f.semver,n)&&(f=e)})),p.operator===s||p.operator===c)return!1;if((!f.operator||f.operator===s)&&a(e,f.semver))return!1;if(f.operator===c&&o(e,f.semver))return!1}return!0}T.prototype.parse=function(e){var t=this.options.loose?o[c.COMPARATORLOOSE]:o[c.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new h(r[2],this.options.loose):this.semver=A},T.prototype.toString=function(){return this.value},T.prototype.test=function(e){if(n("Comparator.test",e,this.options.loose),this.semver===A||e===A)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return S(e,this.operator,this.semver,this.options)},T.prototype.intersects=function(e,t){if(!(e instanceof T))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new I(e.value,t),N(this.value,r,t));if(""===e.operator)return""===e.value||(r=new I(this.value,t),N(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=S(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=S(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||a&&o||s||c},t.Range=I,I.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},I.prototype.toString=function(){return this.range},I.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[c.HYPHENRANGELOOSE]:o[c.HYPHENRANGE];e=e.replace(r,_),n("hyphen replace",e),e=e.replace(o[c.COMPARATORTRIM],"$1$2$3"),n("comparator trim",e,o[c.COMPARATORTRIM]),e=(e=(e=e.replace(o[c.TILDETRIM],"$1~")).replace(o[c.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?o[c.COMPARATORLOOSE]:o[c.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[c.CARETLOOSE]:o[c.CARET];return e.replace(r,(function(t,r,i,a,o){var s;return n("caret",e,t,r,i,a,o),k(r)?s="":k(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":k(a)?s="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":o?(n("replaceCaret pr",o),s="0"===r?"0"===i?">="+r+"."+i+"."+a+"-"+o+" <"+r+"."+i+"."+(+a+1):">="+r+"."+i+"."+a+"-"+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+a+"-"+o+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===i?">="+r+"."+i+"."+a+" <"+r+"."+i+"."+(+a+1):">="+r+"."+i+"."+a+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+a+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[c.TILDELOOSE]:o[c.TILDE];return e.replace(r,(function(t,r,i,a,o){var s;return n("tilde",e,t,r,i,a,o),k(r)?s="":k(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":k(a)?s=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":o?(n("replaceTilde pr",o),s=">="+r+"."+i+"."+a+"-"+o+" <"+r+"."+(+i+1)+".0"):s=">="+r+"."+i+"."+a+" <"+r+"."+(+i+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[c.XRANGELOOSE]:o[c.XRANGE];return e.replace(r,(function(r,i,a,o,s,c){n("xRange",e,r,i,a,o,s,c);var u=k(a),l=u||k(o),p=l||k(s),f=p;return"="===i&&f&&(i=""),c=t.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&f?(l&&(o=0),s=0,">"===i?(i=">=",l?(a=+a+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",l?a=+a+1:o=+o+1),r=i+a+"."+o+"."+s+c):l?r=">="+a+".0.0"+c+" <"+(+a+1)+".0.0"+c:p&&(r=">="+a+"."+o+".0"+c+" <"+a+"."+(+o+1)+".0"+c),n("xRange return",r),r}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[c.STAR],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a=a.map((function(e){return new T(e,this.options)}),this)},I.prototype.intersects=function(e,t){if(!(e instanceof I))throw new TypeError("a Range is required");return this.set.some((function(r){return B(r,t)&&e.set.some((function(e){return B(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new I(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},I.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1},t.satisfies=N,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var a=new I(t,r)}catch(e){return null}return e.forEach((function(e){a.test(e)&&(n&&-1!==i.compare(e)||(i=new h(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var a=new I(t,r)}catch(e){return null}return e.forEach((function(e){a.test(e)&&(n&&1!==i.compare(e)||(i=new h(n=e,r)))})),n},t.minVersion=function(e,t){e=new I(e,t);var r=new h("0.0.0");if(e.test(r))return r;if(r=new h("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new h(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!v(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new I(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return L(e,t,"<",r)},t.gtr=function(e,t,r){return L(e,t,">",r)},t.outside=L,t.prerelease=function(e,t){var r=f(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new I(e,r),t=new I(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof h)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=o[c.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),o[c.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;o[c.COERCERTL].lastIndex=-1}else r=e.match(o[c.COERCE]);if(null===r)return null;return f(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}}).call(this,r(45))},function(e,t,r){var n=r(5),i=r(137),a=r(13).f,o=r(39).f,s=r(96),c=r(58),u=n.RegExp,l=u,p=u.prototype,f=/a/g,h=/a/g,d=new u(f)!==f;if(r(12)&&(!d||r(17)((function(){return h[r(4)("match")]=!1,u(f)!=f||u(h)==h||"/a/i"!=u(f,"i")})))){u=function(e,t){var r=this instanceof u,n=s(e),a=void 0===t;return!r&&n&&e.constructor===u&&a?e:i(d?new l(n&&!a?e.source:e,t):l((n=e instanceof u)?e.source:e,n&&a?c.call(e):t),r?this:p,u)};for(var g=function(e){e in u||a(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},y=o(l),v=0;y.length>v;)g(y[v++]);p.constructor=u,u.prototype=p,r(23)(n,"RegExp",u)}r(71)("RegExp")},function(e,t,r){var n=r(11),i=r(138).set;e.exports=function(e,t,r){var a,o=t.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(e,a),e}},function(e,t,r){var n=r(11),i=r(10),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(26)(Function.call,r(53).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){e.exports=r(57)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(32),i=r(54);e.exports=function(e){return function(t,r){var a,o,s=String(i(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(73);r(28)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){var n=r(34)("meta"),i=r(11),a=r(27),o=r(13).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(17)((function(){return c(Object.preventExtensions({}))})),l=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return u&&p.NEED&&c(e)&&!a(e,n)&&l(e),e}}},function(e,t,r){var n=r(59),i=r(74),a=r(66);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var o,s=r(e),c=a.f,u=0;s.length>u;)c.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,r){var n=r(13),i=r(10),a=r(59);e.exports=r(12)?Object.defineProperties:function(e,t){i(e);for(var r,o=a(t),s=o.length,c=0;s>c;)n.f(e,r=o[c++],t[r]);return e}},function(e,t,r){var n=r(31),i=r(39).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},function(e,t,r){var n=r(26),i=r(104),a=r(78),o=r(10),s=r(14),c=r(79),u={},l={};(t=e.exports=function(e,t,r,p,f){var h,d,g,y,v=f?function(){return e}:c(e),m=n(r,p,t?2:1),E=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(h=s(e.length);h>E;E++)if((y=t?m(o(d=e[E])[0],d[1]):m(e[E]))===u||y===l)return y}else for(g=v.call(e);!(d=g.next()).done;)if((y=i(g,m,d.value,t))===u||y===l)return y}).BREAK=u,t.RETURN=l},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(5),i=r(105).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,c="process"==r(38)(o);e.exports=function(){var e,t,r,u=function(){var n,i;for(c&&(n=o.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){o.nextTick(u)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(u)}}else r=function(){i.call(n,u)};else{var p=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),r=function(){f.data=p=!p}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(5).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(10),i=r(11),a=r(106);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new B(n||[]);return a._invoke=function(e,t,r){var n=l;return function(i,a){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw a;return _()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=T(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=u(e,t,r);if("normal"===c.type){if(n=r.done?h:p,c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",p="suspendedYield",f="executing",h="completed",d={};function g(){}function y(){}function v(){}var m={};m[a]=function(){return this};var E=Object.getPrototypeOf,b=E&&E(E(k([])));b&&b!==r&&n.call(b,a)&&(m=b);var w=v.prototype=g.prototype=Object.create(m);function C(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){var t;this._invoke=function(r,i){function a(){return new Promise((function(t,a){!function t(r,i,a,o){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,o)}))}o(s.arg)}(r,i,t,a)}))}return t=t?t.then(a,a):a()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function k(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:_}}function _(){return{value:t,done:!0}}return y.prototype=w.constructor=v,v.constructor=y,v[s]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,r,n,i){var a=new S(c(t,r,n,i));return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(w),w[s]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(33),i=r(28),a=r(23),o=r(15),s=r(44),c=r(155),u=r(48),l=r(109),p=r(4)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,d,g,y,v){c(r,t,d);var m,E,b,w=function(e){if(!f&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},C=t+" Iterator",S="values"==g,T=!1,A=e.prototype,I=A[p]||A["@@iterator"]||g&&A[g],B=I||w(g),k=g?S?w("entries"):B:void 0,_="Array"==t&&A.entries||I;if(_&&(b=l(_.call(new e)))!==Object.prototype&&b.next&&(u(b,C,!0),n||"function"==typeof b[p]||o(b,p,h)),S&&I&&"values"!==I.name&&(T=!0,B=function(){return I.call(this)}),n&&!v||!f&&!T&&A[p]||o(A,p,B),s[t]=B,s[C]=h,g)if(m={values:S?B:w("values"),keys:y?B:w("keys"),entries:k},v)for(E in m)E in A||a(A,E,m[E]);else i(i.P+i.F*(f||T),t,m);return m}},function(e,t,r){"use strict";var n=r(75),i=r(37),a=r(48),o={};r(15)(o,r(4)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(157);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(84)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(83)(!1)).push([e.i,"*,*::before,*::after{padding:0;margin:0;box-sizing:border-box}html{font-size:62.5%;font-family:sans-serif;height:100%}body{font-size:1.5rem;height:100vh;display:flex;flex-direction:column}main{flex:1;min-width:50rem}footer{display:flex;flex-direction:column;min-height:3rem;height:3rem;min-width:55rem}input{margin:1rem 0 1rem 0;height:4rem;font-size:1.9rem;padding:0.6rem;border-radius:0.5rem;border:0.1rem solid #b5b5b5;outline:none}textarea{border:0.1rem solid #b5b5b5;border-radius:0.5rem;outline:none;height:10rem;width:25rem;margin:1rem 0 1rem 0}header{background-color:#1a2435;color:#f2f2f2;min-width:55rem;height:8rem;min-height:8rem}h1{font-size:4rem}h3{font-size:2rem}select{outline:none;padding:.3rem}button{outline:none !important}button::-moz-focus-inner{border:0}button:focus{outline:none !important}.header_wrap{display:flex;flex-direction:row;justify-content:space-between;height:100%}.heading{padding:2rem 0 1rem 0}.heading .heading__main{font-weight:100;color:whitesmoke;text-transform:uppercase;font-family:monospace;font-size:3.5rem}.online__heading-icon i.fa{margin-right:1.8rem;color:green}.right-align{display:block;text-align:right}.left-align{display:block;text-align:left}.form-border{padding:3rem;border:1px solid #b5b5b5;border-radius:.5rem}.flex-column{display:flex;flex-direction:column}#help-link{margin-right:.5rem}.btn{outline:0;background:#fff;font-size:2rem;border:1px solid #b5b5b5;border-radius:0.5rem;padding:1rem;color:#585858}.btn:hover{transition:.2s;background-color:#daecf7;border:1px solid #daecf7;cursor:pointer}.btn:active{transition:.2s;background-color:#b0d6ee;border:1px solid #b0d6ee}.btn.disabled{opacity:0.65;cursor:not-allowed;background-color:#9da3ad;border:none;pointer-events:none}.btn.disabled:hover{cursor:not-allowed}.waitMe_container:not(body){transform:translateZ(0);backface-visibility:hidden}body.waitMe_container .waitMe{position:fixed;height:100vh;transform:translateZ(0);backface-visibility:hidden}body.waitMe_container .waitMe .waitMe_content{top:50% !important;transform:none !important}.waitMe_container .waitMe{position:absolute;top:0;left:0;right:0;bottom:0;z-index:9989;text-align:center;overflow:hidden;cursor:wait}.waitMe_container .waitMe *{font-family:inherit;font-size:inherit;font-weight:initial;font-style:initial;line-height:initial;color:initial;text-decoration:initial;text-transform:initial;padding:initial;margin:initial}.waitMe_container .waitMe .waitMe_content{position:absolute;left:0;right:0;top:50%;backface-visibility:hidden}.waitMe_container .waitMe .waitMe_content .waitMe_progress{display:inline-block;vertical-align:middle}.waitMe_container .waitMe .waitMe_content .waitMe_progress .waitMe_text{display:inline-block;margin:0 0 0 20px;vertical-align:middle}.waitMe_container .waitMe .waitMe_progress{position:relative;font-size:0;line-height:0}.waitMe_container .waitMe .waitMe_progress>div{animation-fill-mode:both;display:inline-block;transform:translateZ(0);backface-visibility:hidden}.waitMe_container .waitMe .waitMe_text{position:relative;margin:20px 0 0}body.waitMe_body{overflow:hidden;height:100%}body.waitMe_body.hideMe{transition:opacity .2s ease-in-out;opacity:0}body.waitMe_body .waitMe_container:not([data-waitme_id]){position:fixed;z-index:9989;top:0;bottom:0;left:0;right:0;background:#fff}body.waitMe_body .waitMe_container:not([data-waitme_id])>div{animation-fill-mode:both;position:absolute}body.waitMe_body .waitMe_container.progress>div{width:0;height:3px;top:0;left:0;background:#000;box-shadow:-5px 0 5px 2px rgba(0,0,0,0.2);animation:progress_body 7s infinite ease-out}body.waitMe_body .waitMe_container.working>div{width:10%;height:3px;top:0;left:-10%;background:#000;box-shadow:-5px 0 5px 2px rgba(0,0,0,0.2);animation:working_body 2s infinite linear}body.waitMe_body .waitMe_container.progress>div:after{content:'';position:absolute;top:0;bottom:60%;right:0;width:60px;border-radius:50%;opacity:.5;transform:rotate(3deg);box-shadow:#000 1px 0 6px 1px}body.waitMe_body .waitMe_container.img>div{width:100%;height:100%;text-align:center;background-position:center !important;background-repeat:no-repeat !important}body.waitMe_body .waitMe_container.text>div{width:100%;top:45%;text-align:center}@keyframes progress_body{0%{width:0}100%{width:100%}}@keyframes working_body{0%{left:-10%}100%{left:100%}}.waitMe_container .waitMe_progress.bounce>div{width:20px;height:20px;border-radius:50%;animation:bounce 1.4s infinite ease-in-out}.waitMe_container .waitMe_progress.bounce .waitMe_progress_elem1{animation-delay:-.32s}.waitMe_container .waitMe_progress.bounce .waitMe_progress_elem2{animation-delay:-.16s}.waitMe_container .waitMe_progress.rotateplane>div{width:30px;height:30px;animation:rotateplane 1.2s infinite ease-in-out;backface-visibility:visible}.waitMe_container .waitMe_progress.stretch{height:60px}.waitMe_container .waitMe_progress.stretch>div{width:1px;height:100%;margin:0 4px;animation:stretch 1.2s infinite ease-in-out}.waitMe_container .waitMe_progress.stretch .waitMe_progress_elem2{animation-delay:-1.1s}.waitMe_container .waitMe_progress.stretch .waitMe_progress_elem3{animation-delay:-1s}.waitMe_container .waitMe_progress.stretch .waitMe_progress_elem4{animation-delay:-.9s}.waitMe_container .waitMe_progress.stretch .waitMe_progress_elem5{animation-delay:-.8s}.waitMe_container .waitMe_progress.orbit{width:40px;height:40px;margin:auto;position:relative}.waitMe_container .waitMe_progress.orbit>div{width:100%;height:100%;margin:auto;top:0;left:0;position:absolute;animation:orbit_rotate 2s infinite linear}.waitMe_container .waitMe_progress.orbit>div>div{width:50%;height:50%;border-radius:50%;top:10%;left:10%;position:absolute;animation:orbit 2s infinite ease-in-out}.waitMe_container .waitMe_progress.orbit .waitMe_progress_elem2>div{top:auto;bottom:10%;left:auto;right:10%;animation-delay:-1s}.waitMe_container .waitMe_progress.roundBounce{width:60px;height:60px;margin:auto}.waitMe_container .waitMe_progress.roundBounce>div{width:24%;height:24%;border-radius:50%;position:absolute;animation:roundBounce 1.2s infinite ease-in-out}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem1{top:0;left:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem2{top:0;right:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem3{bottom:0;right:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem4{bottom:0;left:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem5{top:-3%;left:50%;margin-top:-12%;margin-left:-12%}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem6{top:50%;right:-3%;margin-top:-12%;margin-right:-12%}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem7{bottom:-3%;left:50%;margin-bottom:-12%;margin-left:-12%}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem8{top:50%;left:-3%;margin-top:-12%;margin-left:-12%}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem9{top:0;right:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem10{bottom:0;right:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem11{bottom:0;left:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem12{top:0;left:0}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem5{animation-delay:-1.1s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem9{animation-delay:-1s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem2{animation-delay:-.9s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem6{animation-delay:-.8s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem10{animation-delay:-.7s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem3{animation-delay:-.6s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem7{animation-delay:-.5s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem11{animation-delay:-.4s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem4{animation-delay:-.3s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem8{animation-delay:-.2s}.waitMe_container .waitMe_progress.roundBounce .waitMe_progress_elem12{animation-delay:-.1s}.waitMe_container .waitMe_progress.win8{width:40px;height:40px;margin:auto}.waitMe_container .waitMe_progress.win8>div{width:100%;height:100%;opacity:0;position:absolute;margin:auto;left:0;right:0;transform:rotate(225deg);animation:win8 5.5s infinite}.waitMe_container .waitMe_progress.win8>div>div{width:15%;height:15%;border-radius:50%;position:absolute}.waitMe_container .waitMe_progress.win8 .waitMe_progress_elem2{animation-delay:.24s}.waitMe_container .waitMe_progress.win8 .waitMe_progress_elem3{animation-delay:.48s}.waitMe_container .waitMe_progress.win8 .waitMe_progress_elem4{animation-delay:.72s}.waitMe_container .waitMe_progress.win8 .waitMe_progress_elem5{animation-delay:.96s}.waitMe_container .waitMe_progress.win8_linear{margin:auto;width:150px;height:6px}.waitMe_container .waitMe_progress.win8_linear>div{width:100%;height:100%;left:0;opacity:0;position:absolute;animation:win8_linear 3s infinite}.waitMe_container .waitMe_progress.win8_linear>div>div{width:4%;height:100%;border-radius:50%}.waitMe_container .waitMe_progress.win8_linear .waitMe_progress_elem2{animation-delay:.3s}.waitMe_container .waitMe_progress.win8_linear .waitMe_progress_elem3{animation-delay:.6s}.waitMe_container .waitMe_progress.win8_linear .waitMe_progress_elem4{animation-delay:.9s}.waitMe_container .waitMe_progress.win8_linear .waitMe_progress_elem5{animation-delay:1.2s}.waitMe_container .waitMe_progress.ios{margin:auto;width:40px;height:40px}.waitMe_container .waitMe_progress.ios>div{width:10%;height:26%;position:absolute;left:44.5%;top:37%;opacity:0;border-radius:50px;box-shadow:0 0 3px rgba(0,0,0,0.2);animation:ios 1s infinite linear}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem1{transform:rotate(0deg) translate(0, -142%);animation-delay:0s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem2{transform:rotate(30deg) translate(0, -142%);animation-delay:-.9167s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem3{transform:rotate(60deg) translate(0, -142%);animation-delay:-.833s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem4{transform:rotate(90deg) translate(0, -142%);animation-delay:-.75s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem5{transform:rotate(120deg) translate(0, -142%);animation-delay:-.667s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem6{transform:rotate(150deg) translate(0, -142%);animation-delay:-.5833s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem7{transform:rotate(180deg) translate(0, -142%);animation-delay:-.5s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem8{transform:rotate(210deg) translate(0, -142%);animation-delay:-.41667s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem9{transform:rotate(240deg) translate(0, -142%);animation-delay:-.333s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem10{transform:rotate(270deg) translate(0, -142%);animation-delay:-.25s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem11{transform:rotate(300deg) translate(0, -142%);animation-delay:-.1667s}.waitMe_container .waitMe_progress.ios .waitMe_progress_elem12{transform:rotate(330deg) translate(0, -142%);animation-delay:-.0833s}.waitMe_container .waitMe_progress.facebook{margin:auto}.waitMe_container .waitMe_progress.facebook div{width:6px;height:25px;margin-left:3px;border-radius:20px;transform:scaleY(0.7);opacity:.1;animation:facebook 1.3s infinite ease-in-out}.waitMe_container .waitMe_progress.facebook div .waitMe_progress_elem1{animation-delay:.2s;transform:scaleY(0.7)}.waitMe_container .waitMe_progress.facebook div .waitMe_progress_elem2{animation-delay:.4s;transform:scaleY(0.85)}.waitMe_container .waitMe_progress.facebook div .waitMe_progress_elem3{animation-delay:.6s;transform:scaleY(1)}.waitMe_container .waitMe_progress.rotation>div{width:60px;height:60px;margin:auto;border-radius:100%;border-width:6px;border-style:solid;border-left-color:transparent !important;border-right-color:transparent !important;border-bottom-color:transparent !important;animation:rotation 1s infinite linear}.waitMe_container .waitMe_progress.timer{width:40px;height:40px;margin:auto;border-width:2px;border-style:solid;border-radius:50%;box-sizing:border-box;position:relative;text-indent:-9999px}.waitMe_container .waitMe_progress.timer .waitMe_progress_elem1{border-radius:3px;position:absolute;width:2px;height:48%;left:50%;top:50%;margin-left:-1px;margin-top:-1px;animation:timer 1.25s infinite linear;transform-origin:1px 1px}.waitMe_container .waitMe_progress.timer .waitMe_progress_elem1 .waitMe_progress_elem2{border-radius:3px;position:absolute;width:2px;height:48%;left:50%;top:50%;margin-left:-1px;margin-top:-1px;animation:timer 1.25s infinite linear;transform-origin:1px 1px;height:40%;animation:timer 15s infinite linear}.waitMe_container .waitMe_progress.pulse{width:30px;height:30px;margin:auto;position:relative}.waitMe_container .waitMe_progress.pulse>div{margin:auto;top:0;left:0;right:0;bottom:0;border-width:3px;border-style:solid;border-radius:50%;position:absolute;opacity:0;animation:pulsate 1s infinite ease-out}.waitMe_container .waitMe_progress.progressBar{width:200px;height:20px;margin:auto;background:rgba(0,0,0,0.1);padding:5px;border-radius:20px;line-height:0;max-width:100%}.waitMe_container .waitMe_progress.progressBar>div{width:100%;height:100%;overflow:hidden;border-radius:20px;background-size:50px 50px;box-shadow:inset 0 2px 9px rgba(255,255,255,0.3),inset 0 -2px 6px rgba(0,0,0,0.4);background-image:linear-gradient(-45deg, rgba(240,240,240,0.4) 26%, transparent 25%, transparent 51%, rgba(240,240,240,0.4) 50%, rgba(240,240,240,0.4) 76%, transparent 75%, transparent);animation:progressBar 2s linear infinite}.waitMe_container .waitMe_progress div{width:20px;height:20px;margin-right:1px;display:inline-block;border-radius:50%;transform:scale(0.5);animation:bouncePulse 1.4s infinite ease-in-out}.waitMe_container .waitMe_progress div .waitMe_progress_elem1,.waitMe_container .waitMe_progress div .waitMe_progress_elem3{animation-delay:.1s}.waitMe_container .waitMe_progress div .waitMe_progress_elem2{animation-delay:.4s}@keyframes bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}@keyframes rotateplane{0%{transform:perspective(120px)}50%{transform:perspective(120px) rotateY(180deg)}100%{transform:perspective(120px) rotateY(180deg) rotateX(180deg)}}@keyframes stretch{0%,40%,100%{transform:scaleY(0.4)}20%{transform:scaleY(1)}}@keyframes orbit_rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes orbit{0%,100%{transform:scale(0)}50%{transform:scale(1)}}@keyframes roundBounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}@keyframes win8{0%{transform:rotate(225deg);animation-timing-function:ease-out}7%{opacity:1;transform:rotate(345deg);animation-timing-function:linear}30%{transform:rotate(455deg);animation-timing-function:ease-in-out}39%{transform:rotate(690deg);animation-timing-function:linear}70%{opacity:1;transform:rotate(815deg);animation-timing-function:ease-out}75%{transform:rotate(945deg);animation-timing-function:ease-out}76%{opacity:0;transform:rotate(945deg)}100%{opacity:0;transform:rotate(945deg)}}@keyframes win8_linear{0%,100%{transform:translateX(0);animation-timing-function:ease-out}10%{opacity:1;transform:translateX(33.333%);animation-timing-function:linear}50%{opacity:1;transform:translateX(53.333%);animation-timing-function:ease-in-out}60%{opacity:0;transform:translateX(86.666%)}}@keyframes ios{0%{opacity:1}100%{opacity:.25}}@keyframes facebook{0%{transform:scaleY(0.7);opacity:.1}50%{transform:scaleY(1);opacity:1}100%{transform:scaleY(0.7);opacity:.1}}@keyframes rotation{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes timer{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes pulsate{0%{transform:scale(0.1);opacity:0}50%{opacity:1}100%{transform:scale(1.2);opacity:0}}@keyframes progressBar{0%{background-position:0 0}100%{background-position:50px 50px}}@keyframes bouncePulse{0%,80%,100%{transform:scale(0.5)}40%{transform:scale(1)}}.hljs{display:block;overflow-x:auto;padding:0.5em;background:#F0F0F0;color:#444}.hljs-subst{color:#444}.hljs-comment{color:#888888}.hljs-keyword,.hljs-attribute,.hljs-selector-tag,.hljs-meta-keyword,.hljs-doctag,.hljs-name{font-weight:bold}.hljs-type,.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-quote,.hljs-template-tag,.hljs-deletion{color:#880000}.hljs-title,.hljs-section{color:#880000;font-weight:bold}.hljs-regexp,.hljs-symbol,.hljs-variable,.hljs-template-variable,.hljs-link,.hljs-selector-attr,.hljs-selector-pseudo{color:#BC6060}.hljs-literal{color:#78A960}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}@keyframes spin{0%{transform:translateZ(0) rotate(0deg)}100%{transform:translateZ(0) rotate(360deg)}}.freeze-ui{position:fixed;top:0;left:0;width:100%;height:100%;z-index:999999999;background-color:#fff;opacity:.8;transition:opacity .25s}.freeze-ui:after{content:attr(data-text);display:block;max-width:125px;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:20px;font-family:sans-serif;color:#343a40;text-align:center;text-transform:uppercase}.freeze-ui:before{content:\"\";display:block;width:150px;height:150px;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent #228ae6 #228ae6 #228ae6;position:absolute;top:calc(50% - 75px);left:calc(50% - 75px);will-change:transform;animation:spin .75s infinite ease-in-out}.freeze-ui.is-unfreezing{opacity:0}.container{width:90%;height:100%;margin:0 auto}.flex-container{display:flex;width:100%;justify-content:space-around}.flex-container.vertical{flex-direction:column}.flex-container.vertical-reverse{flex-direction:column-reverse}.flex-container.horizontal{flex-direction:row}.flex-container.horizontal-reverse{flex-direction:row-reverse}.wrap{width:100%;height:100%;flex-wrap:nowrap}table{table-layout:fixed}table tr{height:3rem;width:100%}table tr td.id{display:none}table tr td.circle{text-align:center;width:5rem}table tr td.circle i.fa{color:green}table tr td.username{font-size:1.9rem;width:70%}table tr:hover{background-color:#f1f4fd;cursor:pointer}.landing-heading{color:white}.landing-wrapper{display:flex;flex-direction:column;justify-content:center}.create-room-wrapper{display:flex;align-items:center;flex-direction:column}.create-room-wrapper #create{margin:0 45rem 0 45rem;color:red}.landing-divider{color:white;align-self:center}.join-room-wrapper{display:flex;align-items:center;flex-direction:column}.body-landing:before{content:'';z-index:-1;position:absolute;left:0;right:0;top:0;bottom:0;height:100vh;background-size:cover;filter:blur(2rem)}.main-admin{height:auto;min-height:auto}.login-setup--wrapper{display:flex;flex-direction:column;height:50%;width:100%;margin-top:2.5rem}#admin-login--wrapper{display:flex;flex-direction:row;margin:5% auto;justify-content:center}#admin-login--wrapper div{display:flex;flex-direction:column}#admin-login--wrapper a{width:fit-content;width:-moz-fit-content;margin:3rem auto}#hidden-services-empty{color:#b5b5b5;margin-top:1rem;font-size:1.5rem;font-weight:100;font-style:italic}#setup--wrapper{display:none;flex-direction:column;margin:10% auto;width:30%;border:1px #bb99d1 solid;border-radius:.7rem;padding:3rem}#setup--wrapper .not-secured--text{display:block;text-align:center}#setup--wrapper .not-secured--text p{margin:1rem 0 1rem 0}#setup--wrapper #island-setup{margin-top:2rem;display:block;width:100%}#registration-complete--wrapper{display:flex;margin:0 auto}#registration-complete--wrapper h1{font-weight:100;color:green;margin-bottom:2rem}.updates-wrapper{display:flex;flex-direction:column;margin-left:5rem}#admin-content-wrapper{display:none;margin-top:4rem;flex-direction:column}.update-mode{display:flex;flex-direction:column;margin:1rem 0 3rem 0}.update-mode.update-mode-options{display:flex;flex-direction:row}.update-option{padding:1rem;text-decoration:none;text-transform:capitalize;cursor:pointer}.update-option.active{background-color:#ffd1fe}.update-option.active:hover{background-color:#ffd1fe}.update-option:hover{background-color:#e2e2e2}#update-from-git--wrapper{diplay:none}#admin-content-wrapper{margin:1rem;display:none}.updates-heading{margin-bottom:3rem}.updates-heading h2{font-size:2rem;font-weight:100}.control-wrapper{margin-top:5rem}#run-update{color:white;margin:1rem 0 0 0;padding:2rem;text-transform:capitalize;background-color:#4d9c41;cursor:pointer}#run-update:hover{background-color:#326432}.inputfile{width:0.1px;height:0.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.visible-inputfile{color:white;padding:1rem;background-color:#ff5d65;cursor:pointer}.visible-inputfile:hover{background-color:rgba(188,0,14,0.69)}#update-file--wrapper{margin:1rem 0 2rem 0}.btn-loading{disabled:disabled}.btn-loading:hover{cursor:progress}.divider{border-bottom:1px solid #bcbcbc}.admin-content--row{display:flex;flex-direction:row;width:100%}.hidden-service-setup-wrap{display:flex;flex-direction:column}.hidden-service-control-wrap{display:flex;flex-direction:row;margin:1rem 0 5rem 0}.hidden-service-control-wrap .hs-table-title{font-size:2rem;font-weight:100;margin-bottom:1rem}#add-admin-service{display:flex;flex-direction:row;padding:1rem;margin-right:1rem;background-color:#4D9C41;border-radius:.3rem;color:whitesmoke;cursor:pointer}#add-admin-service:hover{background-color:#326432;transition-duration:.5s}#add-guest-service{display:flex;padding:1rem;background-color:#4f869c;border-radius:.3rem;margin-right:1rem;color:whitesmoke;cursor:pointer}#add-guest-service:hover{background-color:#3c4a64;transition-duration:.5s}.hs-status-enabled{color:#73B969}.hs-status-disabled{color:#b94747}thead.hs-table tr{height:4rem}.hs-table{width:70%}.hs-table tr{height:7rem;color:#555555}.hs-table tr:hover{background-color:white}.hs-enum{width:3rem;text-align:center}.hs-link{width:auto;padding-left:1rem}.hs-link:hover{color:#cf8b00;transition-duration:.2s}.hs-desc{width:30%;padding:1rem}.hs-type{min-width:10rem;text-align:center}.hs-status{min-width:10rem;text-align:center}.hs-actions{min-width:5rem;text-align:center;padding:0 .5rem 0 .5rem}.hs-head{color:whitesmoke;background-color:#6d96a9}.active-hidden-services-container{margin-bottom:10rem}.admin-content-wrap{display:flex;flex-direction:row}.menu-wrap{display:flex;flex-direction:column;width:10%;margin:0 2.5rem 0 0;min-width:12rem}.menu-wrap .menu-item{display:flex;flex-direction:column;text-transform:uppercase;font-size:1rem;font-weight:bold;margin:0 0 1rem 0;height:3.7rem;border:none;border-radius:.5rem;background-color:#e2e2e2;color:#404040;cursor:pointer}.menu-wrap .menu-item.active{color:#f5f5f5;background-color:#4d9c41}.menu-wrap .menu-item.active:hover{background-color:#4d9c41}.menu-wrap .menu-item:hover{transition:.3s;background-color:#9c9c9c}.pages-wrap{display:flex;margin:0 0 0 2.5rem;border-left:#9da3ad 1px solid;height:fit-content;width:90%}#admin-section-heading{width:100%;display:flex;color:#404040;padding:1.5rem 1.5rem 1.5rem 0;margin-bottom:2rem;text-transform:uppercase;font-size:1.6rem;font-weight:bold}.page{display:none;flex-direction:column;width:100%}.page.active{display:flex}.admin-page-content-wrap{margin-left:5rem;min-width:85rem}.logs-control-wrap{display:flex;flex-direction:row}.log-control-item{display:flex;flex-direction:column;margin:0 2rem 0 0}.log-control-item .log-control-button-row{display:flex;flex-direction:row}.log-control-item .log-control-button-row button{margin:0 2rem 2rem 0;outline:none;border:none;border-radius:.5rem;background-color:#839ead;padding:.5rem}.log-control-item .log-control-button-row button:hover{background-color:#c7eaf9;transition:.2s}.log-control-item h6{margin:0 0 .5rem 0}.log-content-wrap{width:100%;overflow:auto;margin-top:2rem;min-width:85rem}.log-content-wrap h6{font-size:1.5rem;color:#b5b5b5;font-style:italic;font-weight:100}#log-content{width:100%;table-layout:fixed;font-size:1.2rem;border-collapse:collapse}#log-content thead tr{background-color:#1e2937;color:white}#log-content thead td{color:white;border:1px solid white;cursor:default}#log-content tbody tr td{overflow-wrap:break-word;padding:.2rem;border:1px solid #777}#log-content tbody .error{background-color:#ffb5bc}#log-content tbody .error:hover{background-color:#ff9ca5}#log-content tbody .warn{background-color:#ffcdaf}#log-content tbody .warn:hover{background-color:#ffbd96}#log-content tbody .info{background-color:#c4ffdb}#log-content tbody .info:hover{background-color:#abffcb}#log-content tbody .verbose{background-color:#cfcfcf}#log-content tbody .verbose:hover{background-color:#c2c2c2}#log-content tbody .debug{background-color:#b0deff}#log-content tbody .debug:hover{background-color:#97d3ff}#log-content tbody .silly{background-color:#fff}#log-content tbody .silly:hover{background-color:#f2f2f2}#log-content tbody .log-row-hidden{display:none}.add-value-cell{width:30%}.add-value-cell .log-add-value{display:flex;flex-direction:column;border-bottom:#777777 1px solid;width:34%}.add-value-cell .log-add-value .log-key{height:100%;width:inherit;overflow:auto}.add-value-cell .log-add-value .log-val{width:inherit}.log-timestamp{width:10%}.log-level{width:6%}.log-msg{width:50%;overflow:auto}#github-update-options--wrap{display:none;margin:0 0 1rem 1rem}#log-filter{font-size:1.5rem;margin:0;height:3rem;width:12rem}.filter-wrap{display:flex;flex-direction:column}.filter-wrap .filter-field-selector-wrap{display:flex;flex-direction:column;font-size:1rem;margin-top:.5rem}#clear-logs{background-color:rgba(255,0,26,0.27)}#clear-logs:hover{background-color:rgba(204,0,21,0.27)}#setup-result--title{color:green;font-size:6rem;font-weight:400}#setup-result--wrapper{margin:0 auto;width:30%;min-width:26rem}#setup-result--wrapper .credentials-wrapper{margin-top:1rem;font-size:1.7rem}#setup-result--wrapper .credentials-wrapper table{margin-top:2rem}#setup-result--wrapper .credentials-wrapper table tr{margin:2rem 0 2rem 0}#setup-result--wrapper .info-wrapper{margin-top:5rem}#setup-result--wrapper .info-wrapper .warning{color:#f85e13;font-weight:bold}#setup-result--wrapper .info-wrapper p{margin-top:2rem}#setup-result--wrapper .login-redirect{margin-top:4rem;font-weight:bold;color:blue}.cred-title{font-weight:bold}.dropdown-wrap{position:relative;min-width:90px;width:100%}.dropdown-button{width:100%;font-size:17px;padding:10px 30px 10px 10px;background-color:white;border:1px solid #e2e2e2;border-radius:.3rem;color:#555555}.dropdown-button:hover,.dropdown-button:focus{border:1px solid rgba(153,0,255,0.43);color:black;outline:none;transition:all 0.3s ease-in-out}.dropdown-button:after{content:'';position:absolute;top:50%;left:80%;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #555555}.dropdown-wrap:focus .dropdown,.dropdown-wrap:focus-within .dropdown,.dropdown-wrap:hover .dropdown{visibility:visible;opacity:1;z-index:1;transform:translateY(0%);transition-delay:0s, 0s, 0s}.dr-red{color:#b94747}.dr-green{color:#73B969}.dropdown{list-style:none;background-color:#efefef;visibility:hidden;opacity:0;position:absolute;top:100%;left:0;padding:0;transform:translateY(-2em);display:flex;flex-direction:column;width:fit-content;z-index:-1;box-shadow:0 0.8rem 1.6rem 0 rgba(0,0,0,0.2);transition:all 0.1s ease-in-out 0s, visibility 0s linear 0.1s, z-index 0s linear 0.01s}.dropdown li{padding:.7rem;cursor:pointer;text-align:left;display:inline-block;white-space:nowrap}.dropdown li:hover{background-color:#e2e2e2;transition:all 0.2s}.editable-field{padding:1rem;width:100%;min-width:15rem}.editable-field-borderless{font-size:1.5rem;border:none;color:#555555}.editable-field-borderless:focus{border:#e2e2e2 1px solid;transition:all 0.2s}.editable-field-borderless::placeholder{color:#bfbfbf;font-style:italic}.editable-field-gray{font-size:1.5rem;border:#e2e2e2 1px solid;color:#555555}.editable-field-gray:focus{border:#a192d8 1px solid;transition:all 0.2s}.editable-field-gray::placeholder{color:#bfbfbf;font-style:italic}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,r){(function(e){class t{constructor(e){"string"!=typeof e&&"number"!=typeof e||(e=[e]),this._set=new Set(e),this[Symbol.iterator]=function*(){for(let e of this._set)yield e}}forEach(e){for(let t of this._set)e(t,t,this)}static _formatInput(e){return e instanceof t?e:new t(e)}static fromString(e,r=" ",n=!1){if(!e||" "===e)return new t;if("string"!=typeof e)throw"CuteSet error: input format is invalid, expecting string";return e=e.split(r),n&&(e=e.map(e=>parseFloat(e))),new t(e)}union(e){return e=t._formatInput(e),new t([...this.toArray(),...e.toArray()])}join(e){return this.union(e)}difference(e){return e=t._formatInput(e),new t(this.toArray().filter(t=>!e.has(t)))}complement(e){return(e=t._formatInput(e)).minus(this)}minus(e){return this.difference(e)}symmetricDifference(e){return e=t._formatInput(e),this.union(e).difference(this.intersection(e))}intersection(e){return e=t._formatInput(e),new t(this.toArray().filter(t=>e.has(t)))}equal(e){return e=t._formatInput(e),0===this.symmetricDifference(e).length()}subsetOf(e){return e=t._formatInput(e),this.intersection(e).equal(this)}sort(e){this._set=new Set(this.toArray().sort(e))}powerSet(){let e=this.toArray();if(e.length>21)throw"Maximum supported length for generating powerset is exceeded.";let r=parseInt(this._getStringOfSymbols(e.length,"1").split("").reverse().join(""),2)+1,n=[];for(let i=0;i<r;++i){let r=i.toString(2);r=this._padWithZeroes(r,e.length),n.push(new t(e.filter((e,t)=>1==r[t])))}return new t(n)}permutations(){if(this.size()>9)throw"Maximum supported length for generating permutations is exceeded.";let e=this.toArray(),r=e.length,n=new t,i=Array.apply(null,{length:r}).map(Function.call,()=>0),a=0;n.add(new t(e));let o=(e,t,r)=>{let n=r[e];r[e]=r[t],r[t]=n};for(;a<r;)i[a]<a?(o(a%2==0?0:i[a],a,e),n.add(new t(e)),i[a]+=1,a=0):(i[a]=0,a+=1);return n}has(e){return this._set.has(e)}length(){return this._set.size}size(){return this.length()}empty(){return 0===this._set.size}add(e){this._set.add(e)}remove(e){return this._set.delete(e)}delete(e){return this.remove(e)}toArray(){return Array.from(this._set)}toString(e=" "){return this.toArray().join(e)}print(e){console.log(this.toString(e)+"\n")}_padWithZeroes(e,t){return e.length<t?this._getStringOfSymbols(t-e.length,"0")+e:e}_getStringOfSymbols(e,t){return t.repeat(e)}}e.hasOwnProperty("exports")&&(e.exports=t)}).call(this,r(160)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),c=n[r];r<a;c=n[++r])g(c)||!b(c)?o+=" "+c:o+=" "+s(c);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),l(n,e,n.depth)}function c(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function u(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=l(e,i,n)),i}var a=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),C(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(r);if(0===o.length){if(S(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(C(r))return p(r)}var u,b="",T=!1,A=["{","}"];(h(r)&&(T=!0,A=["[","]"]),S(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return E(r)&&(b=" "+RegExp.prototype.toString.call(r)),w(r)&&(b=" "+Date.prototype.toUTCString.call(r)),C(r)&&(b=" "+p(r)),0!==o.length||T&&0!=r.length?n<0?E(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=T?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)k(t,String(o))?a.push(f(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(f(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return f(e,r,n,s,t,T)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,b,A)):A[0]+b+A[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(r)?l(e,c.value,null):l(e,c.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),m(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function m(e){return void 0===e}function E(e){return b(e)&&"[object RegExp]"===T(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===T(e)}function C(e){return b(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(m(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=E,t.isObject=b,t.isDate=w,t.isError=C,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(162);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",B(),t.format.apply(t,arguments))},t.inherits=r(163),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var _="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(_&&e[_]){var t;if("function"!=typeof(t=e[_]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,_,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),_&&Object.defineProperty(t,_,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=_,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(R,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(45))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){var n=r(28),i=r(165),a=r(31),o=r(53),s=r(110);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=a(e),c=o.f,u=i(n),l={},p=0;u.length>p;)void 0!==(r=c(n,t=u[p++]))&&s(l,t,r);return l}})},function(e,t,r){var n=r(39),i=r(74),a=r(10),o=r(5).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n=r(26),i=r(28),a=r(29),o=r(104),s=r(78),c=r(14),u=r(110),l=r(79);i(i.S+i.F*!r(81)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,p,f=a(e),h="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g,v=0,m=l(f);if(y&&(g=n(g,d>2?arguments[2]:void 0,2)),null==m||h==Array&&s(m))for(r=new h(t=c(f.length));t>v;v++)u(r,v,y?g(f[v],v):f[v]);else for(p=m.call(f),r=new h;!(i=p.next()).done;v++)u(r,v,y?o(p,g,[i.value,v],!0):i.value);return r.length=v,r}})},function(e,t,r){var n=r(168);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(84)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(83)(!1)).push([e.i,'.siiimpleToast{position:absolute;padding:14px 18px;min-width:250px;z-index:999999;border-radius:2px;color:#fff;font-weight:300;white-space:nowrap;user-select:none;opacity:0;box-shadow:0 3px 6px rgba(0,0,0,0.16),0 3px 6px rgba(0,0,0,0.23);box-sizing:border-box;transform:scale(0.5);transition:all 0.4s ease-out}.siiimpleToast[data-state="default"]{background-color:#323232}.siiimpleToast[data-state="success"]{background-color:#008002}.siiimpleToast[data-state="alert"]{background-color:#d93737}.siiimpleToast[data-state="warning"]{background-color:#ff8000}.siiimpleToast[data-state="info"]{background-color:#095399}\n',""])},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,a,o,s,c=1,u={},l=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){d(e.data)},n=function(e){a.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,n=function(e){var t=p.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(d,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return u[c]=i,n(c),c++},f.clearImmediate=h}function h(e){delete u[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(60),r(45))},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,r){r(112)("Uint16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n=r(5),i=r(12),a=r(33),o=r(113),s=r(15),c=r(80),u=r(17),l=r(77),p=r(32),f=r(14),h=r(114),d=r(39).f,g=r(13).f,y=r(115),v=r(48),m="prototype",E="Wrong index!",b=n.ArrayBuffer,w=n.DataView,C=n.Math,S=n.RangeError,T=n.Infinity,A=b,I=C.abs,B=C.pow,k=C.floor,_=C.log,R=C.LN2,N=i?"_b":"buffer",L=i?"_l":"byteLength",x=i?"_o":"byteOffset";function O(e,t,r){var n,i,a,o=new Array(r),s=8*r-t-1,c=(1<<s)-1,u=c>>1,l=23===t?B(2,-24)-B(2,-77):0,p=0,f=e<0||0===e&&1/e<0?1:0;for((e=I(e))!=e||e===T?(i=e!=e?1:0,n=c):(n=k(_(e)/R),e*(a=B(2,-n))<1&&(n--,a*=2),(e+=n+u>=1?l/a:l*B(2,1-u))*a>=2&&(n++,a/=2),n+u>=c?(i=0,n=c):n+u>=1?(i=(e*a-1)*B(2,t),n+=u):(i=e*B(2,u-1)*B(2,t),n=0));t>=8;o[p++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;o[p++]=255&n,n/=256,s-=8);return o[--p]|=128*f,o}function P(e,t,r){var n,i=8*r-t-1,a=(1<<i)-1,o=a>>1,s=i-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===l)l=1-o;else{if(l===a)return n?NaN:u?-T:T;n+=B(2,t),l-=o}return(u?-1:1)*n*B(2,l-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function D(e){return[255&e]}function M(e){return[255&e,e>>8&255]}function K(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return O(e,52,8)}function j(e){return O(e,23,4)}function F(e,t,r){g(e[m],t,{get:function(){return this[r]}})}function q(e,t,r,n){var i=h(+r);if(i+t>e[L])throw S(E);var a=e[N]._b,o=i+e[x],s=a.slice(o,o+t);return n?s:s.reverse()}function G(e,t,r,n,i,a){var o=h(+r);if(o+t>e[L])throw S(E);for(var s=e[N]._b,c=o+e[x],u=n(+i),l=0;l<t;l++)s[c+l]=u[a?l:t-l-1]}if(o.ABV){if(!u((function(){b(1)}))||!u((function(){new b(-1)}))||u((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var H,z=(b=function(e){return l(this,b),new A(h(e))})[m]=A[m],Y=d(A),Q=0;Y.length>Q;)(H=Y[Q++])in b||s(b,H,A[H]);a||(z.constructor=b)}var W=new w(new b(2)),X=w[m].setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||c(w[m],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else b=function(e){l(this,b,"ArrayBuffer");var t=h(e);this._b=y.call(new Array(t),0),this[L]=t},w=function(e,t,r){l(this,w,"DataView"),l(e,b,"DataView");var n=e[L],i=p(t);if(i<0||i>n)throw S("Wrong offset!");if(i+(r=void 0===r?n-i:f(r))>n)throw S("Wrong length!");this[N]=e,this[x]=i,this[L]=r},i&&(F(b,"byteLength","_l"),F(w,"buffer","_b"),F(w,"byteLength","_l"),F(w,"byteOffset","_o")),c(w[m],{getInt8:function(e){return q(this,1,e)[0]<<24>>24},getUint8:function(e){return q(this,1,e)[0]},getInt16:function(e){var t=q(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=q(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U(q(this,4,e,arguments[1]))},getUint32:function(e){return U(q(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return P(q(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return P(q(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){G(this,1,e,D,t)},setUint8:function(e,t){G(this,1,e,D,t)},setInt16:function(e,t){G(this,2,e,M,t,arguments[2])},setUint16:function(e,t){G(this,2,e,M,t,arguments[2])},setInt32:function(e,t){G(this,4,e,K,t,arguments[2])},setUint32:function(e,t){G(this,4,e,K,t,arguments[2])},setFloat32:function(e,t){G(this,4,e,j,t,arguments[2])},setFloat64:function(e,t){G(this,8,e,V,t,arguments[2])}});v(b,"ArrayBuffer"),v(w,"DataView"),s(w[m],o.VIEW,!0),t.ArrayBuffer=b,t.DataView=w},function(e,t,r){var n=r(26),i=r(93),a=r(29),o=r(14),s=r(176);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,l=4==e,p=6==e,f=5==e||p,h=t||s;return function(t,s,d){for(var g,y,v=a(t),m=i(v),E=n(s,d,3),b=o(m.length),w=0,C=r?h(t,b):c?h(t,0):void 0;b>w;w++)if((f||w in m)&&(y=E(g=m[w],w,v),e))if(r)C[w]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:C.push(g)}else if(l)return!1;return p?-1:u||l?l:C}}},function(e,t,r){var n=r(177);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(11),i=r(102),a=r(4)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(29),i=r(56),a=r(14);e.exports=[].copyWithin||function(e,t){var r=n(this),o=a(r.length),s=i(e,o),c=i(t,o),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?o:i(u,o))-c,o-s),p=1;for(c<s&&s<c+l&&(p=-1,c+=l-1,s+=l-1);l-- >0;)c in r?r[s]=r[c]:delete r[s],s+=p,c+=p;return r}},function(e,t,r){"use strict";r(180);var n=r(10),i=r(58),a=r(12),o=/./.toString,s=function(e){r(23)(RegExp.prototype,"toString",e,!0)};r(17)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?s((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=o.name&&s((function(){return o.call(this)}))},function(e,t,r){r(12)&&"g"!=/./g.flags&&r(13).f(RegExp.prototype,"flags",{configurable:!0,get:r(58)})},function(e,t,r){e.exports=r(1),r(35),r(186),r(24),r(86),r(131),r(61),r(188),r(50),r(189),r(133),r(190),r(130),r(88),r(46),r(126),r(128),r(191),r(120),r(127),r(124),r(90),r(16),r(125),r(192),r(193),r(119),r(2)},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,p=s>0?o-4:o;for(r=0;r<p;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,p=r?i-1:0,f=r?-1:1,h=e[t+p];for(p+=f,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+p],p+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+p],p+=f,l-=8);if(0===a)a=1-u;else{if(a===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=u}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,c,u=8*a-i-1,l=(1<<u)-1,p=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+p>=1?f/c:f*Math.pow(2,1-p))*c>=2&&(o++,c/=2),o+p>=l?(s=0,o=l):o+p>=1?(s=(t*c-1)*Math.pow(2,i),o+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+h]=255&o,h+=d,o/=256,u-=8);e[r+h-d]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<s.length;++c)u+=s[c]<<8,s[c]=u%a,u=u/a|0;for(;u>0;)s.push(u%a),u=u/a|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var o=0,s=e.at(r);o<a.length;++o)s+=a[o]<<8,a[o]=s%n,s=s/n|0;for(;s>0;)a.push(s%n),s=s/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=i;for(r=a.length-1;r>=0;--r)c+=t[a[r]];return c}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(e,r){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var a=0;a<r.length;++a)i[r.charCodeAt(a)]=a}e=e.replace(/\s/g,"");var o=r.length,s=r.charAt(0),c=[0];for(a=0;a<e.length;a++){var u=i[e.charCodeAt(a)];if(void 0===u)return;for(var l=0,p=u;l<c.length;++l)p+=c[l]*o,c[l]=255&p,p>>=8;for(;p>0;)c.push(255&p),p>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)c.push(0);return void 0!==t?t.from(c.reverse()):new Uint8Array(c.reverse())}}).call(this,r(49).Buffer)},function(e,t,r){var n=r(1);r(35),r(119);var i=e.exports=n.tls;function a(e,t,r){var a=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",a?r.keys.server_write_key:r.keys.client_write_key),iv:a?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",a?r.keys.client_write_key:r.keys.server_write_key),iv:a?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=u,e.write.cipherFunction=o,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function o(e,t){var r,a=!1,o=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(o),t.updateSequenceNumber(),r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var c=t.cipherState.cipher;return c.start({iv:r}),e.version.minor>=i.Versions.TLS_1_1.minor&&c.output.putBytes(r),c.update(e.fragment),c.finish(s)&&(e.fragment=c.output,e.length=e.fragment.length(),a=!0),a}function s(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function c(e,t,r){var n=!0;if(r){for(var i=t.length(),a=t.last(),o=i-1-a;o<i-1;++o)n=n&&t.at(o)==a;n&&t.truncate(a+1)}return n}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:a},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:a};function u(e,t){var r,a=!1;r=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var o=t.cipherState.cipher;o.start({iv:r}),o.update(e.fragment),a=o.finish(c);var s=t.macLength,u=n.random.getBytesSync(s),l=o.output.length();l>=s?(e.fragment=o.output.getBytes(l-s),u=o.output.getBytes(s)):e.fragment=o.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var p=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),a=function(e,t,r){var i=n.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(r),r=i.digest().getBytes(),t===r}(t.macKey,u,p)&&a}},function(e,t,r){var n=r(1);r(130),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(e,t,r){(function(t){var n=r(1);if(r(63),r(16),r(132),r(2),void 0===i)var i=n.jsbn.BigInteger;var a=n.util.ByteBuffer,o=void 0===t?Uint8Array:t;n.pki=n.pki||{},e.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var s=n.ed25519;function c(e){var r=e.message;if(r instanceof Uint8Array)return r;var n=e.encoding;if(void 0===r){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');r=e.md.digest().getBytes(),n="binary"}if("string"==typeof r&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof r){if(void 0!==t)return new t(r,n);r=new a(r,n)}else if(!(r instanceof a))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new o(r.length()),s=0;s<i.length;++s)i[s]=r.at(s);return i}s.constants={},s.constants.PUBLIC_KEY_BYTE_LENGTH=32,s.constants.PRIVATE_KEY_BYTE_LENGTH=64,s.constants.SEED_BYTE_LENGTH=32,s.constants.SIGN_BYTE_LENGTH=64,s.constants.HASH_BYTE_LENGTH=64,s.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=n.random.getBytesSync(s.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==s.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+s.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=c({message:t,encoding:"binary"});for(var r=new o(s.constants.PUBLIC_KEY_BYTE_LENGTH),i=new o(s.constants.PRIVATE_KEY_BYTE_LENGTH),a=0;a<32;++a)i[a]=t[a];return function(e,t){var r,n=[L(),L(),L(),L()],i=v(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,k(n,i),C(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,i),{publicKey:r,privateKey:i}},s.publicKeyFromPrivateKey=function(e){var t=c({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new o(s.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},s.sign=function(e){var t=c(e=e||{}),r=c({message:e.privateKey,encoding:"binary"});if(r.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new o(s.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,a,o=new Float64Array(64),s=[L(),L(),L(),L()],c=v(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var l=v(e.subarray(32),r+32);for(E(l),k(s,l),C(e,s),i=32;i<64;++i)e[i]=n[i];var p=v(e,r+64);for(E(p),i=32;i<64;++i)o[i]=0;for(i=0;i<32;++i)o[i]=l[i];for(i=0;i<32;++i)for(a=0;a<32;a++)o[i+a]+=p[i]*c[a];m(e.subarray(32),o)}(n,t,t.length,r);for(var i=new o(s.constants.SIGN_BYTE_LENGTH),a=0;a<i.length;++a)i[a]=n[a];return i},s.verify=function(e){var t=c(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=c({message:e.signature,encoding:"binary"});if(r.length!==s.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+s.constants.SIGN_BYTE_LENGTH);var n=c({message:e.publicKey,encoding:"binary"});if(n.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+s.constants.PUBLIC_KEY_BYTE_LENGTH);var i,a=new o(s.constants.SIGN_BYTE_LENGTH+t.length),f=new o(s.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<s.constants.SIGN_BYTE_LENGTH;++i)a[i]=r[i];for(i=0;i<t.length;++i)a[i+s.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,r,n){var i,a=new o(32),s=[L(),L(),L(),L()],c=[L(),L(),L(),L()];if(-1,r<64)return-1;if(function(e,t){var r=L(),n=L(),i=L(),a=L(),o=L(),s=L(),c=L();_(e[2],l),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),P(i,e[1]),U(a,i,p),O(i,i,e[2]),x(a,e[2],a),P(o,a),P(s,o),U(c,s,o),U(r,c,i),U(r,r,a),function(e,t){var r,n=L();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)P(n,n),1!==r&&U(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),U(r,r,i),U(r,r,a),U(r,r,a),U(e[0],r,a),P(n,e[0]),U(n,n,a),T(n,i)&&U(e[0],e[0],y);if(P(n,e[0]),U(n,n,a),T(n,i))return-1;I(e[0])===t[31]>>7&&O(e[0],u,e[0]);return U(e[3],e[0],e[1]),0}(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var f=v(e,r);if(E(f),B(s,c,f),k(c,t.subarray(32)),b(s,c),C(a,s),r-=64,A(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(f,a,a.length,n)>=0};var u=L(),l=L([1]),p=L([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=L([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=L([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=L([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),y=L([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(e,r){var i=n.md.sha512.create(),c=new a(e);i.update(c.getBytes(r),"binary");var u=i.digest().getBytes();if(void 0!==t)return new t(u,"binary");for(var l=new o(s.constants.HASH_BYTE_LENGTH),p=0;p<64;++p)l[p]=u.charCodeAt(p);return l}function m(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*g[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*g[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*g[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function E(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;m(e,t)}function b(e,t){var r=L(),n=L(),i=L(),a=L(),o=L(),s=L(),c=L(),u=L(),l=L();O(r,e[1],e[0]),O(l,t[1],t[0]),U(r,r,l),x(n,e[0],e[1]),x(l,t[0],t[1]),U(n,n,l),U(i,e[3],t[3]),U(i,i,f),U(a,e[2],t[2]),x(a,a,a),O(o,n,r),O(s,a,i),x(c,a,i),x(u,n,r),U(e[0],o,s),U(e[1],u,c),U(e[2],c,s),U(e[3],o,u)}function w(e,t,r){for(var n=0;n<4;++n)N(e[n],t[n],r)}function C(e,t){var r=L(),n=L(),i=L();!function(e,t){var r,n=L();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)P(n,n),2!==r&&4!==r&&U(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(i,t[2]),U(r,t[0],i),U(n,t[1],i),S(e,n),e[31]^=I(r)<<7}function S(e,t){var r,n,i,a=L(),o=L();for(r=0;r<16;++r)o[r]=t[r];for(R(o),R(o),R(o),n=0;n<2;++n){for(a[0]=o[0]-65517,r=1;r<15;++r)a[r]=o[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,N(o,a,1-i)}for(r=0;r<16;r++)e[2*r]=255&o[r],e[2*r+1]=o[r]>>8}function T(e,t){var r=new o(32),n=new o(32);return S(r,e),S(n,t),A(r,0,n,0)}function A(e,t,r,n){return function(e,t,r,n,i){var a,o=0;for(a=0;a<i;++a)o|=e[t+a]^r[n+a];return(1&o-1>>>8)-1}(e,t,r,n,32)}function I(e){var t=new o(32);return S(t,e),1&t[0]}function B(e,t,r){var n,i;for(_(e[0],u),_(e[1],l),_(e[2],l),_(e[3],u),i=255;i>=0;--i)w(e,t,n=r[i/8|0]>>(7&i)&1),b(t,e),b(e,e),w(e,t,n)}function k(e,t){var r=[L(),L(),L(),L()];_(r[0],h),_(r[1],d),_(r[2],l),U(r[3],h,d),B(e,r,t)}function _(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function N(e,t,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function L(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function x(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function O(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function P(e,t){U(e,t,t)}function U(e,t,r){var n,i,a=0,o=0,s=0,c=0,u=0,l=0,p=0,f=0,h=0,d=0,g=0,y=0,v=0,m=0,E=0,b=0,w=0,C=0,S=0,T=0,A=0,I=0,B=0,k=0,_=0,R=0,N=0,L=0,x=0,O=0,P=0,U=r[0],D=r[1],M=r[2],K=r[3],V=r[4],j=r[5],F=r[6],q=r[7],G=r[8],H=r[9],z=r[10],Y=r[11],Q=r[12],W=r[13],X=r[14],J=r[15];a+=(n=t[0])*U,o+=n*D,s+=n*M,c+=n*K,u+=n*V,l+=n*j,p+=n*F,f+=n*q,h+=n*G,d+=n*H,g+=n*z,y+=n*Y,v+=n*Q,m+=n*W,E+=n*X,b+=n*J,o+=(n=t[1])*U,s+=n*D,c+=n*M,u+=n*K,l+=n*V,p+=n*j,f+=n*F,h+=n*q,d+=n*G,g+=n*H,y+=n*z,v+=n*Y,m+=n*Q,E+=n*W,b+=n*X,w+=n*J,s+=(n=t[2])*U,c+=n*D,u+=n*M,l+=n*K,p+=n*V,f+=n*j,h+=n*F,d+=n*q,g+=n*G,y+=n*H,v+=n*z,m+=n*Y,E+=n*Q,b+=n*W,w+=n*X,C+=n*J,c+=(n=t[3])*U,u+=n*D,l+=n*M,p+=n*K,f+=n*V,h+=n*j,d+=n*F,g+=n*q,y+=n*G,v+=n*H,m+=n*z,E+=n*Y,b+=n*Q,w+=n*W,C+=n*X,S+=n*J,u+=(n=t[4])*U,l+=n*D,p+=n*M,f+=n*K,h+=n*V,d+=n*j,g+=n*F,y+=n*q,v+=n*G,m+=n*H,E+=n*z,b+=n*Y,w+=n*Q,C+=n*W,S+=n*X,T+=n*J,l+=(n=t[5])*U,p+=n*D,f+=n*M,h+=n*K,d+=n*V,g+=n*j,y+=n*F,v+=n*q,m+=n*G,E+=n*H,b+=n*z,w+=n*Y,C+=n*Q,S+=n*W,T+=n*X,A+=n*J,p+=(n=t[6])*U,f+=n*D,h+=n*M,d+=n*K,g+=n*V,y+=n*j,v+=n*F,m+=n*q,E+=n*G,b+=n*H,w+=n*z,C+=n*Y,S+=n*Q,T+=n*W,A+=n*X,I+=n*J,f+=(n=t[7])*U,h+=n*D,d+=n*M,g+=n*K,y+=n*V,v+=n*j,m+=n*F,E+=n*q,b+=n*G,w+=n*H,C+=n*z,S+=n*Y,T+=n*Q,A+=n*W,I+=n*X,B+=n*J,h+=(n=t[8])*U,d+=n*D,g+=n*M,y+=n*K,v+=n*V,m+=n*j,E+=n*F,b+=n*q,w+=n*G,C+=n*H,S+=n*z,T+=n*Y,A+=n*Q,I+=n*W,B+=n*X,k+=n*J,d+=(n=t[9])*U,g+=n*D,y+=n*M,v+=n*K,m+=n*V,E+=n*j,b+=n*F,w+=n*q,C+=n*G,S+=n*H,T+=n*z,A+=n*Y,I+=n*Q,B+=n*W,k+=n*X,_+=n*J,g+=(n=t[10])*U,y+=n*D,v+=n*M,m+=n*K,E+=n*V,b+=n*j,w+=n*F,C+=n*q,S+=n*G,T+=n*H,A+=n*z,I+=n*Y,B+=n*Q,k+=n*W,_+=n*X,R+=n*J,y+=(n=t[11])*U,v+=n*D,m+=n*M,E+=n*K,b+=n*V,w+=n*j,C+=n*F,S+=n*q,T+=n*G,A+=n*H,I+=n*z,B+=n*Y,k+=n*Q,_+=n*W,R+=n*X,N+=n*J,v+=(n=t[12])*U,m+=n*D,E+=n*M,b+=n*K,w+=n*V,C+=n*j,S+=n*F,T+=n*q,A+=n*G,I+=n*H,B+=n*z,k+=n*Y,_+=n*Q,R+=n*W,N+=n*X,L+=n*J,m+=(n=t[13])*U,E+=n*D,b+=n*M,w+=n*K,C+=n*V,S+=n*j,T+=n*F,A+=n*q,I+=n*G,B+=n*H,k+=n*z,_+=n*Y,R+=n*Q,N+=n*W,L+=n*X,x+=n*J,E+=(n=t[14])*U,b+=n*D,w+=n*M,C+=n*K,S+=n*V,T+=n*j,A+=n*F,I+=n*q,B+=n*G,k+=n*H,_+=n*z,R+=n*Y,N+=n*Q,L+=n*W,x+=n*X,O+=n*J,b+=(n=t[15])*U,o+=38*(C+=n*M),s+=38*(S+=n*K),c+=38*(T+=n*V),u+=38*(A+=n*j),l+=38*(I+=n*F),p+=38*(B+=n*q),f+=38*(k+=n*G),h+=38*(_+=n*H),d+=38*(R+=n*z),g+=38*(N+=n*Y),y+=38*(L+=n*Q),v+=38*(x+=n*W),m+=38*(O+=n*X),E+=38*(P+=n*J),a=(n=(a+=38*(w+=n*D))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=c,e[4]=u,e[5]=l,e[6]=p,e[7]=f,e[8]=h,e[9]=d,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=E,e[15]=b}}).call(this,r(49).Buffer)},function(e,t,r){var n=r(1);r(2),r(16),r(63),e.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function a(e,t,r,i){e.generate=function(e,a){for(var o=new n.util.ByteBuffer,s=Math.ceil(a/i)+r,c=new n.util.ByteBuffer,u=r;u<s;++u){c.putInt32(u),t.start(),t.update(e+c.getBytes());var l=t.digest();o.putBytes(l.getBytes(i))}return o.truncate(o.length()-a),o.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random,a={encrypt:function(t,a){var o,s=Math.ceil(t.n.bitLength()/8);do{o=new i(n.util.bytesToHex(r.getBytesSync(s)),16).mod(t.n)}while(o.equals(i.ZERO));var c=s-(o=n.util.hexToBytes(o.toString(16))).length;return c>0&&(o=n.util.fillString(String.fromCharCode(0),c)+o),{encapsulation:t.encrypt(o,"NONE"),key:e.generate(o,a)}},decrypt:function(t,r,n){var i=t.decrypt(r,"NONE");return e.generate(i,n)}};return a},n.kem.kdf1=function(e,t){a(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){a(this,e,1,t||e.digestLength)}},function(e,t,r){e.exports=r(25),r(87),r(51),r(123),r(132)},function(e,t,r){var n=r(1);r(35),r(24),r(61),r(36),r(46),r(129),r(16),r(2),r(89);var i=n.asn1,a=e.exports=n.pkcs7=n.pkcs7||{};function o(e){var t={},r=[];if(!i.validate(e,a.asn1.recipientInfoValidator,t,r)){var o=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=r,o}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function s(e){for(var t,r=[],a=0;a<e.length;++a)r.push((t=e[a],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function c(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),a=0;a<e.unauthenticatedAttributes.length;++a){var o=e.unauthenticatedAttributes[a];r.values.push(u(o))}t.value.push(r)}return t}function u(e){var t;if(e.type===n.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),a=new Date("2050-01-01T00:00:00Z"),o=e.value;if("string"==typeof o){var s=Date.parse(o);o=isNaN(s)?13===o.length?i.utcTimeToDate(o):i.generalizedTimeToDate(o):new Date(s)}t=o>=r&&o<a?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(o)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(o))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function l(e,t,r){var a={};if(!i.validate(t,r,a,[])){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(i.derToOid(a.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(a.encryptedContent){var s="";if(n.util.isArray(a.encryptedContent))for(var c=0;c<a.encryptedContent.length;++c){if(a.encryptedContent[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=a.encryptedContent[c].value}else s=a.encryptedContent;e.encryptedContent={algorithm:i.derToOid(a.encAlgorithm),parameter:n.util.createBuffer(a.encParameter.value),content:n.util.createBuffer(s)}}if(a.content){s="";if(n.util.isArray(a.content))for(c=0;c<a.content.length;++c){if(a.content[c].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=a.content[c].value}else s=a.content;e.content=n.util.createBuffer(s)}return e.version=a.version.charCodeAt(0),e.rawCapture=a,a}function p(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}a.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=i.fromDer(t.body);return a.messageFromAsn1(o)},a.messageToPem=function(e,t){var r={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},a.messageFromAsn1=function(e){var t={},r=[];if(!i.validate(e,a.asn1.contentInfoValidator,t,r)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=r,o}var s,c=i.derToOid(t.contentType);switch(c){case n.pki.oids.envelopedData:s=a.createEnvelopedData();break;case n.pki.oids.encryptedData:s=a.createEncryptedData();break;case n.pki.oids.signedData:s=a.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+c+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s},a.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(l(e,t,a.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,i=0;i<r.length;++i)e.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var a=[],o=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),a.length>0&&o.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,a)),o.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),o])},addSigner:function(t){var r=t.issuer,i=t.serialNumber;if(t.certificate){var a=t.certificate;"string"==typeof a&&(a=n.pki.certificateFromPem(a)),r=a.issuer.attributes,i=a.serialNumber}var o=t.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=n.pki.privateKeyFromPem(o));var s=t.digestAlgorithm||n.pki.oids.sha1;switch(s){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var c=t.authenticatedAttributes||[];if(c.length>0){for(var u=!1,l=!1,p=0;p<c.length;++p){var f=c[p];if(u||f.type!==n.pki.oids.contentType){if(l||f.type!==n.pki.oids.messageDigest);else if(l=!0,u)break}else if(u=!0,l)break}if(!u||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:r,serialNumber:i,digestAlgorithm:s,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=i.derToOid(e.contentInfo.value[0].value),o=i.toDer(r);for(var s in o.getByte(),i.getBerValueLength(o),o=o.getBytes(),t)t[s].start().update(o);for(var l=new Date,p=0;p<e.signers.length;++p){var f=e.signers[p];if(0===f.authenticatedAttributes.length){if(a!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<f.authenticatedAttributes.length;++d){var g=f.authenticatedAttributes[d];g.type===n.pki.oids.messageDigest?g.value=t[f.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=l)),h.value.push(u(g)),f.authenticatedAttributesAsn1.value.push(u(g))}o=i.toDer(h).getBytes(),f.md.start().update(o)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(c(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var a=e.signers[r];(o=a.digestAlgorithm)in t||(t[o]=n.md[n.pki.oids[o]].create()),0===a.authenticatedAttributes.length?a.md=t[o]:a.md=n.md[n.pki.oids[o]].create()}for(var o in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},a.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){l(e,t,a.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),p(e)}}},a.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=l(e,t,a.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,s(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===r.length){for(var o=!0,s=0;s<r.length;++s)if(a[s].type!==r[s].type||a[s].value!==r[s].value){o=!1;break}if(o)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}p(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var i,a,o;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,a=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,a=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,a=16,o=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,a=8,o=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(a));var s=o(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var c=0;c<e.recipients.length;++c){var u=e.recipients[c];if(void 0===u.encryptedContent.content)switch(u.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}}},function(e,t,r){var n=r(1);r(35),r(50),r(87),r(51),r(2);var i=e.exports=n.ssh=n.ssh||{};function a(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var i=n.util.hexToBytes(r);e.putInt32(i.length),e.putBytes(i)}function o(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}i.privateKeyToPutty=function(e,t,r){var i=""===(t=t||"")?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: ssh-rsa\r\n";c+="Encryption: "+i+"\r\n",c+="Comment: "+(r=r||"")+"\r\n";var u=n.util.createBuffer();o(u,"ssh-rsa"),a(u,e.e),a(u,e.n);var l=n.util.encode64(u.bytes(),64),p=Math.floor(l.length/66)+1;c+="Public-Lines: "+p+"\r\n",c+=l;var f,h=n.util.createBuffer();if(a(h,e.d),a(h,e.p),a(h,e.q),a(h,e.qInv),t){var d=h.length()+16-1;d-=d%16;var g=s(h.bytes());g.truncate(g.length()-d+h.length()),h.putBuffer(g);var y=n.util.createBuffer();y.putBuffer(s("\0\0\0\0",t)),y.putBuffer(s("\0\0\0",t));var v=n.aes.createEncryptionCipher(y.truncate(8),"CBC");v.start(n.util.createBuffer().fillWithByte(0,16)),v.update(h.copy()),v.finish();var m=v.output;m.truncate(16),f=n.util.encode64(m.bytes(),64)}else f=n.util.encode64(h.bytes(),64);c+="\r\nPrivate-Lines: "+(p=Math.floor(f.length/66)+1)+"\r\n",c+=f;var E=s("putty-private-key-file-mac-key",t),b=n.util.createBuffer();o(b,"ssh-rsa"),o(b,i),o(b,r),b.putInt32(u.length()),b.putBuffer(u),b.putInt32(h.length()),b.putBuffer(h);var w=n.hmac.create();return w.start("sha1",E),w.update(b.bytes()),c+="\r\nPrivate-MAC: "+w.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){t=t||"";var r=n.util.createBuffer();return o(r,"ssh-rsa"),a(r,e.e),a(r,e.n),"ssh-rsa "+n.util.encode64(r.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),i=n.util.createBuffer();o(i,"ssh-rsa"),a(i,e.e),a(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if("hex"===t.encoding){var c=s.toHex();return t.delimiter?c.match(/.{2}/g).join(t.delimiter):c}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s}},function(e,t,r){var n=r(1);r(131),r(133),r(2);var i="forge.task",a={},o=0;n.debug.set(i,"tasks",a);var s={};n.debug.set(i,"queues",s);var c="ready",u="running",l="blocked",p="sleeping",f="done",h="error",d={ready:{}};d.ready.stop=c,d.ready.start=u,d.ready.cancel=f,d.ready.fail=h,d.running={},d.running.stop=c,d.running.start=u,d.running.block=l,d.running.unblock=u,d.running.sleep=p,d.running.wakeup=u,d.running.cancel=f,d.running.fail=h,d.blocked={},d.blocked.stop=l,d.blocked.start=l,d.blocked.block=l,d.blocked.unblock=l,d.blocked.sleep=l,d.blocked.wakeup=l,d.blocked.cancel=f,d.blocked.fail=h,d.sleeping={},d.sleeping.stop=p,d.sleeping.start=p,d.sleeping.block=p,d.sleeping.unblock=p,d.sleeping.sleep=p,d.sleeping.wakeup=p,d.sleeping.cancel=f,d.sleeping.fail=h,d.done={},d.done.stop=f,d.done.start=f,d.done.block=f,d.done.unblock=f,d.done.sleep=f,d.done.wakeup=f,d.done.cancel=f,d.done.fail=h,d.error={},d.error.stop=h,d.error.start=h,d.error.block=h,d.error.unblock=h,d.error.sleep=h,d.error.wakeup=h,d.error.cancel=h,d.error.fail=h;var g=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=c,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=o++,a[this.id]=this};g.prototype.debug=function(e){e=e||"",n.log.debug(i,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",s)},g.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new g({run:t,name:e,parent:this});return r.state=u,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},g.prototype.parallel=function(e,t){return n.util.isArray(e)&&(t=e,e=this.name),this.next(e,(function(r){var i=r;i.block(t.length);for(var a=function(e,r){n.task.start({type:e,run:function(e){t[r](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},o=0;o<t.length;o++){a(e+"__parallel-"+r.id+"-"+o,o)}}))},g.prototype.stop=function(){this.state=d[this.state].stop},g.prototype.start=function(){this.error=!1,this.state=d[this.state].start,this.state===u&&(this.start=new Date,this.run(this),y(this,0))},g.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=d[this.state].block)},g.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==f&&(this.state=u,y(this,0)),this.blocks},g.prototype.sleep=function(e){e=void 0===e?0:e,this.state=d[this.state].sleep;var t=this;this.timeoutId=setTimeout((function(){t.timeoutId=null,t.state=u,y(t,0)}),e)},g.prototype.wait=function(e){e.wait(this)},g.prototype.wakeup=function(){this.state===p&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=u,y(this,0))},g.prototype.cancel=function(){this.state=d[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},g.prototype.fail=function(e){if(this.error=!0,v(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,y(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;v(t,!0)}this.failureCallback&&this.failureCallback(this)}};var y=function(e,t){var r=t>30||+new Date-e.swapTime>20,n=function(t){if(t++,e.state===u)if(r&&(e.swapTime=+new Date),e.subtasks.length>0){var n=e.subtasks.shift();n.error=e.error,n.swapTime=e.swapTime,n.userData=e.userData,n.run(n),n.error||y(n,t)}else v(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,y(e.parent,t))};r?setTimeout(n,0):n(t)},v=function(e,t){e.state=f,delete a[e.id],null===e.parent&&(e.type in s?0===s[e.type].length?n.log.error(i,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):s[e.type][0]!==e?n.log.error(i,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(s[e.type].shift(),0===s[e.type].length?delete s[e.type]:s[e.type][0].start()):n.log.error(i,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=n.task=n.task||{},n.task.start=function(e){var t=new g({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in s?s[e.type].push(t):(s[t.type]=[t],function(e){e.error=!1,e.state=d[e.state].start,setTimeout((function(){e.state===u&&(e.swapTime=+new Date,e.run(e),y(e,0))}),0)}(t))},n.task.cancel=function(e){e in s&&(s[e]=[s[e][0]])},n.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e}},function(e,t,r){"use strict";var n,i,a={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function o(e,t,r){if(4!==t.length)throw new a.exception.invalid("invalid aes block size");var n=e.b[r],i=t[0]^n[0],o=t[r?3:1]^n[1],s=t[2]^n[2];t=t[r?1:3]^n[3];var c,u,l,p,f=n.length/4-2,h=4,d=[0,0,0,0];e=(c=e.u[r])[0];var g=c[1],y=c[2],v=c[3],m=c[4];for(p=0;p<f;p++)c=e[i>>>24]^g[o>>16&255]^y[s>>8&255]^v[255&t]^n[h],u=e[o>>>24]^g[s>>16&255]^y[t>>8&255]^v[255&i]^n[h+1],l=e[s>>>24]^g[t>>16&255]^y[i>>8&255]^v[255&o]^n[h+2],t=e[t>>>24]^g[i>>16&255]^y[o>>8&255]^v[255&s]^n[h+3],h+=4,i=c,o=u,s=l;for(p=0;4>p;p++)d[r?3&-p:p]=m[i>>>24]<<24^m[o>>16&255]<<16^m[s>>8&255]<<8^m[255&t]^n[h++],c=i,i=o,o=s,s=t,t=c;return d}function s(e,t){var r,n,i,a=e.G,o=e.b,s=a[0],c=a[1],u=a[2],l=a[3],p=a[4],f=a[5],h=a[6],d=a[7];for(r=0;64>r;r++)16>r?n=t[r]:(n=t[r+1&15],i=t[r+14&15],n=t[15&r]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&r]+t[r+9&15]|0),n=n+d+(p>>>6^p>>>11^p>>>25^p<<26^p<<21^p<<7)+(h^p&(f^h))+o[r],d=h,h=f,f=p,p=l+n|0,l=u,u=c,s=n+((c=s)&u^l&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;a[0]=a[0]+s|0,a[1]=a[1]+c|0,a[2]=a[2]+u|0,a[3]=a[3]+l|0,a[4]=a[4]+p|0,a[5]=a[5]+f|0,a[6]=a[6]+h|0,a[7]=a[7]+d|0}function c(e,t){var r,n=a.random.L[e],i=[];for(r in n)n.hasOwnProperty(r)&&i.push(n[r]);for(r=0;r<i.length;r++)i[r](t)}function u(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function l(e){e.b=p(e).concat(p(e)),e.M=new a.cipher.aes(e.b)}function p(e){for(var t=0;4>t&&(e.j[t]=e.j[t]+1|0,!e.j[t]);t++);return e.M.encrypt(e.j)}function f(e,t){return function(){t.apply(e,arguments)}}a.cipher.aes=function(e){this.u[0][0][0]||this.P();var t,r,n,i,o=this.u[0][4],s=this.u[1],c=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new a.exception.invalid("invalid aes key size");for(this.b=[n=e.slice(0),i=[]],e=t;e<4*t+28;e++)r=n[e-1],(0==e%t||8===t&&4==e%t)&&(r=o[r>>>24]<<24^o[r>>16&255]<<16^o[r>>8&255]<<8^o[255&r],0==e%t&&(r=r<<8^r>>>24^c<<24,c=c<<1^283*(c>>7))),n[e]=n[e-t]^r;for(t=0;e;t++,e--)r=n[3&t?e:e-4],i[t]=4>=e||4>t?r:s[0][o[r>>>24]]^s[1][o[r>>16&255]]^s[2][o[r>>8&255]]^s[3][o[255&r]]},a.cipher.aes.prototype={encrypt:function(e){return o(this,e,0)},decrypt:function(e){return o(this,e,1)},u:[[[],[],[],[],[]],[[],[],[],[],[]]],P:function(){var e,t,r,n,i,a,o,s=this.u[0],c=this.u[1],u=s[4],l=c[4],p=[],f=[];for(e=0;256>e;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!u[t];t^=n||1,r=f[r]||1)for(a=(a=r^r<<1^r<<2^r<<3^r<<4)>>8^255&a^99,u[t]=a,l[a]=t,o=16843009*(i=p[e=p[n=p[t]]])^65537*e^257*n^16843008*t,i=257*p[a]^16843008*a,e=0;4>e;e++)s[e][t]=i=i<<24^i>>>8,c[e][a]=o=o<<24^o>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),c[e]=c[e].slice(0)}},a.bitArray={bitSlice:function(e,t,r){return e=a.bitArray.ba(e.slice(t/32),32-(31&t)).slice(1),void 0===r?e:a.bitArray.clamp(e,r-t)},extract:function(e,t,r){var n=Math.floor(-t-r&31);return(-32&(t+r-1^t)?e[t/32|0]<<32-n^e[t/32+1|0]>>>n:e[t/32|0]>>>n)&(1<<r)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],n=a.bitArray.getPartial(r);return 32===n?e.concat(t):a.bitArray.ba(t,n,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+a.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<r&&t&&(e[r-1]=a.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(a.bitArray.bitLength(e)!==a.bitArray.bitLength(t))return!1;var r,n=0;for(r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},ba:function(e,t,r,n){var i;for(i=0,void 0===n&&(n=[]);32<=t;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=a.bitArray.getPartial(i),n.push(a.bitArray.partial(t+e&31,32<t+e?r:n.pop(),1)),n},h:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,r;for(t=0;t<e.length;++t)r=e[t],e[t]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return e}},a.codec.utf8String={fromBits:function(e){var t,r,n="",i=a.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(r=e[t/4]),n+=String.fromCharCode(r>>>8>>>8>>>8),r<<=8;return decodeURIComponent(escape(n))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],n=0;for(t=0;t<e.length;t++)n=n<<8|e.charCodeAt(t),3==(3&t)&&(r.push(n),n=0);return 3&t&&r.push(a.bitArray.partial(8*(3&t),n)),r}},a.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return r.substr(0,a.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,n=[];for(r=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)n.push(0^parseInt(e.substr(t,8),16));return a.bitArray.clamp(n,4*r)}},a.codec.base32={C:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Y:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(e,t,r){var n=a.codec.base32.BASE,i=a.codec.base32.REMAINING,o="",s=0,c=a.codec.base32.C,u=0,l=a.bitArray.bitLength(e);for(r&&(c=a.codec.base32.Y),r=0;o.length*n<l;)o+=c.charAt((u^e[r]>>>s)>>>i),s<n?(u=e[r]<<n-s,s+=i,r++):(u<<=n,s-=n);for(;7&o.length&&!t;)o+="=";return o},toBits:function(e,t){e=e.replace(/\s|=/g,"").toUpperCase();var r,n,i=a.codec.base32.BITS,o=a.codec.base32.BASE,s=a.codec.base32.REMAINING,c=[],u=0,l=a.codec.base32.C,p=0,f="base32";for(t&&(l=a.codec.base32.Y,f="base32hex"),r=0;r<e.length;r++){if(0>(n=l.indexOf(e.charAt(r)))){if(!t)try{return a.codec.base32hex.toBits(e)}catch(e){}throw new a.exception.invalid("this isn't "+f+"!")}u>s?(u-=s,c.push(p^n>>>u),p=n<<i-u):p^=n<<i-(u+=o)}return 56&u&&c.push(a.bitArray.partial(56&u,p,1)),c}},a.codec.base32hex={fromBits:function(e,t){return a.codec.base32.fromBits(e,t,1)},toBits:function(e){return a.codec.base32.toBits(e,1)}},a.codec.base64={C:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,r){var n="",i=0,o=a.codec.base64.C,s=0,c=a.bitArray.bitLength(e);for(r&&(o=o.substr(0,62)+"-_"),r=0;6*n.length<c;)n+=o.charAt((s^e[r]>>>i)>>>26),6>i?(s=e[r]<<6-i,i+=26,r++):(s<<=6,i-=6);for(;3&n.length&&!t;)n+="=";return n},toBits:function(e,t){e=e.replace(/\s|=/g,"");var r,n,i=[],o=0,s=a.codec.base64.C,c=0;for(t&&(s=s.substr(0,62)+"-_"),r=0;r<e.length;r++){if(0>(n=s.indexOf(e.charAt(r))))throw new a.exception.invalid("this isn't base64!");26<o?(o-=26,i.push(c^n>>>o),c=n<<32-o):c^=n<<32-(o+=6)}return 56&o&&i.push(a.bitArray.partial(56&o,c,1)),i}},a.codec.base64url={fromBits:function(e){return a.codec.base64.fromBits(e,1,1)},toBits:function(e){return a.codec.base64.toBits(e,1)}},a.hash.sha256=function(e){this.b[0]||this.P(),e?(this.G=e.G.slice(0),this.B=e.B.slice(0),this.m=e.m):this.reset()},a.hash.sha256.hash=function(e){return(new a.hash.sha256).update(e).finalize()},a.hash.sha256.prototype={blockSize:512,reset:function(){return this.G=this.Z.slice(0),this.B=[],this.m=0,this},update:function(e){"string"==typeof e&&(e=a.codec.utf8String.toBits(e));var t,r=this.B=a.bitArray.concat(this.B,e);if(t=this.m,9007199254740991<(e=this.m=t+a.bitArray.bitLength(e)))throw new a.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var n=new Uint32Array(r),i=0;for(t=512+t-(512+t&511);t<=e;t+=512)s(this,n.subarray(16*i,16*(i+1))),i+=1;r.splice(0,16*i)}else for(t=512+t-(512+t&511);t<=e;t+=512)s(this,r.splice(0,16));return this},finalize:function(){var e,t=this.B,r=this.G;for(e=(t=a.bitArray.concat(t,[a.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.m/4294967296)),t.push(0|this.m);t.length;)s(this,t.splice(0,16));return this.reset(),r},Z:[],b:[],P:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,r,n=0,i=2;64>n;i++){for(r=!0,t=2;t*t<=i;t++)if(0==i%t){r=!1;break}r&&(8>n&&(this.Z[n]=e(Math.pow(i,.5))),this.b[n]=e(Math.pow(i,1/3)),n++)}}},a.mode.ccm={name:"ccm",H:[],listenProgress:function(e){a.mode.ccm.H.push(e)},unListenProgress:function(e){-1<(e=a.mode.ccm.H.indexOf(e))&&a.mode.ccm.H.splice(e,1)},V:function(e){var t,r=a.mode.ccm.H.slice();for(t=0;t<r.length;t+=1)r[t](e)},encrypt:function(e,t,r,n,i){var o,s=t.slice(0),c=a.bitArray,u=c.bitLength(r)/8,l=c.bitLength(s)/8;if(i=i||64,n=n||[],7>u)throw new a.exception.invalid("ccm: iv must be at least 7 bytes");for(o=2;4>o&&l>>>8*o;o++);return o<15-u&&(o=15-u),r=c.clamp(r,8*(15-o)),t=a.mode.ccm.D(e,t,r,n,i,o),s=a.mode.ccm.f(e,s,r,t,i,o),c.concat(s.data,s.tag)},decrypt:function(e,t,r,n,i){i=i||64,n=n||[];var o=a.bitArray,s=o.bitLength(r)/8,c=o.bitLength(t),u=o.clamp(t,c-i),l=o.bitSlice(t,c-i);c=(c-i)/8;if(7>s)throw new a.exception.invalid("ccm: iv must be at least 7 bytes");for(t=2;4>t&&c>>>8*t;t++);if(t<15-s&&(t=15-s),r=o.clamp(r,8*(15-t)),u=a.mode.ccm.f(e,u,r,l,i,t),e=a.mode.ccm.D(e,u.data,r,n,i,t),!o.equal(u.tag,e))throw new a.exception.corrupt("ccm: tag doesn't match");return u.data},$:function(e,t,r,n,i,o){var s=[],c=a.bitArray,u=c.h;if(n=[c.partial(8,(t.length?64:0)|n-2<<2|o-1)],(n=c.concat(n,r))[3]|=i,n=e.encrypt(n),t.length)for(65279>=(r=c.bitLength(t)/8)?s=[c.partial(16,r)]:4294967295>=r&&(s=c.concat([c.partial(16,65534)],[r])),s=c.concat(s,t),t=0;t<s.length;t+=4)n=e.encrypt(u(n,s.slice(t,t+4).concat([0,0,0])));return n},D:function(e,t,r,n,i,o){var s=a.bitArray,c=s.h;if((i/=8)%2||4>i||16<i)throw new a.exception.invalid("ccm: invalid tag length");if(4294967295<n.length||4294967295<t.length)throw new a.exception.bug("ccm: can't deal with 4GiB or more data");for(r=a.mode.ccm.$(e,n,r,i,s.bitLength(t)/8,o),n=0;n<t.length;n+=4)r=e.encrypt(c(r,t.slice(n,n+4).concat([0,0,0])));return s.clamp(r,8*i)},f:function(e,t,r,n,i,o){var s,c=a.bitArray;s=c.h;var u=t.length,l=c.bitLength(t),p=u/50,f=p;if(r=c.concat([c.partial(8,o-1)],r).concat([0,0,0]).slice(0,4),n=c.bitSlice(s(n,e.encrypt(r)),0,i),!u)return{tag:n,data:[]};for(s=0;s<u;s+=4)s>p&&(a.mode.ccm.V(s/u),p+=f),r[3]++,i=e.encrypt(r),t[s]^=i[0],t[s+1]^=i[1],t[s+2]^=i[2],t[s+3]^=i[3];return{tag:n,data:c.clamp(t,l)}}},a.mode.ocb2={name:"ocb2",encrypt:function(e,t,r,n,i,o){if(128!==a.bitArray.bitLength(r))throw new a.exception.invalid("ocb iv must be 128 bits");var s,c=a.mode.ocb2.T,u=a.bitArray,l=u.h,p=[0,0,0,0];r=c(e.encrypt(r));var f,h=[];for(n=n||[],i=i||64,s=0;s+4<t.length;s+=4)p=l(p,f=t.slice(s,s+4)),h=h.concat(l(r,e.encrypt(l(r,f)))),r=c(r);return f=t.slice(s),t=u.bitLength(f),s=e.encrypt(l(r,[0,0,0,t])),f=u.clamp(l(f.concat([0,0,0]),s),t),p=l(p,l(f.concat([0,0,0]),s)),p=e.encrypt(l(p,l(r,c(r)))),n.length&&(p=l(p,o?n:a.mode.ocb2.pmac(e,n))),h.concat(u.concat(f,u.clamp(p,i)))},decrypt:function(e,t,r,n,i,o){if(128!==a.bitArray.bitLength(r))throw new a.exception.invalid("ocb iv must be 128 bits");i=i||64;var s,c,u=a.mode.ocb2.T,l=a.bitArray,p=l.h,f=[0,0,0,0],h=u(e.encrypt(r)),d=a.bitArray.bitLength(t)-i,g=[];for(n=n||[],r=0;r+4<d/32;r+=4)s=p(h,e.decrypt(p(h,t.slice(r,r+4)))),f=p(f,s),g=g.concat(s),h=u(h);if(c=d-32*r,s=e.encrypt(p(h,[0,0,0,c])),s=p(s,l.clamp(t.slice(r),c).concat([0,0,0])),f=p(f,s),f=e.encrypt(p(f,p(h,u(h)))),n.length&&(f=p(f,o?n:a.mode.ocb2.pmac(e,n))),!l.equal(l.clamp(f,i),l.bitSlice(t,d)))throw new a.exception.corrupt("ocb: tag doesn't match");return g.concat(l.clamp(s,c))},pmac:function(e,t){var r,n=a.mode.ocb2.T,i=a.bitArray,o=i.h,s=[0,0,0,0],c=o(c=e.encrypt([0,0,0,0]),n(n(c)));for(r=0;r+4<t.length;r+=4)c=n(c),s=o(s,e.encrypt(o(c,t.slice(r,r+4))));return r=t.slice(r),128>i.bitLength(r)&&(c=o(c,n(c)),r=i.concat(r,[-2147483648,0,0,0])),s=o(s,r),e.encrypt(o(n(o(c,n(c))),s))},T:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},a.mode.gcm={name:"gcm",encrypt:function(e,t,r,n,i){var o=t.slice(0);return t=a.bitArray,n=n||[],e=a.mode.gcm.f(!0,e,o,n,r,i||128),t.concat(e.data,e.tag)},decrypt:function(e,t,r,n,i){var o=t.slice(0),s=a.bitArray,c=s.bitLength(o);if(n=n||[],(i=i||128)<=c?(t=s.bitSlice(o,c-i),o=s.bitSlice(o,0,c-i)):(t=o,o=[]),e=a.mode.gcm.f(!1,e,o,n,r,i),!s.equal(e.tag,t))throw new a.exception.corrupt("gcm: tag doesn't match");return e.data},la:function(e,t){var r,n,i,o,s,c=a.bitArray.h;for(i=[0,0,0,0],o=t.slice(0),r=0;128>r;r++){for((n=0!=(e[Math.floor(r/32)]&1<<31-r%32))&&(i=c(i,o)),s=0!=(1&o[3]),n=3;0<n;n--)o[n]=o[n]>>>1|(1&o[n-1])<<31;o[0]>>>=1,s&&(o[0]^=-520093696)}return i},l:function(e,t,r){var n,i=r.length;for(t=t.slice(0),n=0;n<i;n+=4)t[0]^=4294967295&r[n],t[1]^=4294967295&r[n+1],t[2]^=4294967295&r[n+2],t[3]^=4294967295&r[n+3],t=a.mode.gcm.la(t,e);return t},f:function(e,t,r,n,i,o){var s,c,u,l,p,f,h,d,g=a.bitArray;for(f=r.length,h=g.bitLength(r),d=g.bitLength(n),c=g.bitLength(i),s=t.encrypt([0,0,0,0]),96===c?(i=i.slice(0),i=g.concat(i,[1])):(i=a.mode.gcm.l(s,[0,0,0,0],i),i=a.mode.gcm.l(s,i,[0,0,Math.floor(c/4294967296),4294967295&c])),c=a.mode.gcm.l(s,[0,0,0,0],n),p=i.slice(0),n=c.slice(0),e||(n=a.mode.gcm.l(s,c,r)),l=0;l<f;l+=4)p[3]++,u=t.encrypt(p),r[l]^=u[0],r[l+1]^=u[1],r[l+2]^=u[2],r[l+3]^=u[3];return r=g.clamp(r,h),e&&(n=a.mode.gcm.l(s,c,r)),e=[Math.floor(d/4294967296),4294967295&d,Math.floor(h/4294967296),4294967295&h],n=a.mode.gcm.l(s,n,e),u=t.encrypt(i),n[0]^=u[0],n[1]^=u[1],n[2]^=u[2],n[3]^=u[3],{tag:g.bitSlice(n,0,o),data:r}}},a.misc.hmac=function(e,t){this.X=t=t||a.hash.sha256;var r,n=[[],[]],i=t.prototype.blockSize/32;for(this.A=[new t,new t],e.length>i&&(e=t.hash(e)),r=0;r<i;r++)n[0][r]=909522486^e[r],n[1][r]=1549556828^e[r];this.A[0].update(n[0]),this.A[1].update(n[1]),this.S=new t(this.A[0])},a.misc.hmac.prototype.encrypt=a.misc.hmac.prototype.mac=function(e){if(this.ca)throw new a.exception.invalid("encrypt on already updated hmac called!");return this.update(e),this.digest(e)},a.misc.hmac.prototype.reset=function(){this.S=new this.X(this.A[0]),this.ca=!1},a.misc.hmac.prototype.update=function(e){this.ca=!0,this.S.update(e)},a.misc.hmac.prototype.digest=function(){var e=this.S.finalize();e=new this.X(this.A[1]).update(e).finalize();return this.reset(),e},a.misc.pbkdf2=function(e,t,r,n,i){if(r=r||1e4,0>n||0>r)throw new a.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=a.codec.utf8String.toBits(e)),"string"==typeof t&&(t=a.codec.utf8String.toBits(t)),e=new(i=i||a.misc.hmac)(e);var o,s,c,u,l=[],p=a.bitArray;for(u=1;32*l.length<(n||1);u++){for(i=o=e.encrypt(p.concat(t,[u])),s=1;s<r;s++)for(o=e.encrypt(o),c=0;c<o.length;c++)i[c]^=o[c];l=l.concat(i)}return n&&(l=p.clamp(l,n)),l},a.prng=function(e){this.c=[new a.hash.sha256],this.o=[0],this.R=0,this.I={},this.O=0,this.W={},this.aa=this.g=this.s=this.ia=0,this.b=[0,0,0,0,0,0,0,0],this.j=[0,0,0,0],this.M=void 0,this.N=e,this.F=!1,this.L={progress:{},seeded:{}},this.w=this.ha=0,this.J=1,this.K=2,this.ea=65536,this.U=[0,48,64,96,128,192,256,384,512,768,1024],this.fa=3e4,this.da=80},a.prng.prototype={randomWords:function(e,t){var r,n,i=[];if((r=this.isReady(t))===this.w)throw new a.exception.notReady("generator isn't seeded");if(r&this.K){r=!(r&this.J),n=[];var o,s=0;for(this.aa=n[0]=(new Date).valueOf()+this.fa,o=0;16>o;o++)n.push(4294967296*Math.random()|0);for(o=0;o<this.c.length&&(n=n.concat(this.c[o].finalize()),s+=this.o[o],this.o[o]=0,r||!(this.R&1<<o));o++);for(this.R>=1<<this.c.length&&(this.c.push(new a.hash.sha256),this.o.push(0)),this.g-=s,s>this.s&&(this.s=s),this.R++,this.b=a.hash.sha256.hash(this.b.concat(n)),this.M=new a.cipher.aes(this.b),r=0;4>r&&(this.j[r]=this.j[r]+1|0,!this.j[r]);r++);}for(r=0;r<e;r+=4)0==(r+1)%this.ea&&l(this),n=p(this),i.push(n[0],n[1],n[2],n[3]);return l(this),i.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new a.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.N=e},addEntropy:function(e,t,r){r=r||"user";var n,i,o=(new Date).valueOf(),s=this.I[r],u=this.isReady(),l=0;switch(void 0===(n=this.W[r])&&(n=this.W[r]=this.ia++),void 0===s&&(s=this.I[r]=0),this.I[r]=(this.I[r]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[s].update([n,this.O++,1,t,o,1,0|e]);break;case"object":if("[object Uint32Array]"===(r=Object.prototype.toString.call(e))){for(i=[],r=0;r<e.length;r++)i.push(e[r]);e=i}else for("[object Array]"!==r&&(l=1),r=0;r<e.length&&!l;r++)"number"!=typeof e[r]&&(l=1);if(!l){if(void 0===t)for(r=t=0;r<e.length;r++)for(i=e[r];0<i;)t++,i>>>=1;this.c[s].update([n,this.O++,2,t,o,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[s].update([n,this.O++,3,t,o,e.length]),this.c[s].update(e);break;default:l=1}if(l)throw new a.exception.bug("random: addEntropy only supports number, array of numbers or string");this.o[s]+=t,this.g+=t,u===this.w&&(this.isReady()!==this.w&&c("seeded",Math.max(this.s,this.g)),c("progress",this.getProgress()))},isReady:function(e){return e=this.U[void 0!==e?e:this.N],this.s&&this.s>=e?this.o[0]>this.da&&(new Date).valueOf()>this.aa?this.K|this.J:this.J:this.g>=e?this.K|this.w:this.w},getProgress:function(e){return e=this.U[e||this.N],this.s>=e?1:this.g>e?1:this.g/e},startCollectors:function(){if(!this.F){if(this.a={loadTimeCollector:f(this,this.na),mouseCollector:f(this,this.oa),keyboardCollector:f(this,this.ma),accelerometerCollector:f(this,this.ga),touchCollector:f(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new a.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.F=!0}},stopCollectors:function(){this.F&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.F=!1)},addEventListener:function(e,t){this.L[e][this.ha++]=t},removeEventListener:function(e,t){var r,n,i=this.L[e],a=[];for(n in i)i.hasOwnProperty(n)&&i[n]===t&&a.push(n);for(r=0;r<a.length;r++)delete i[n=a[r]]},ma:function(){u(this,1)},oa:function(e){var t,r;try{t=e.x||e.clientX||e.offsetX||0,r=e.y||e.clientY||e.offsetY||0}catch(e){r=t=0}0!=t&&0!=r&&this.addEntropy([t,r],2,"mouse"),u(this,0)},qa:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),u(this,0)},na:function(){u(this,2)},ga:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),u(this,0)}},a.random=new a.prng(6);e:try{var h,d,g,y;if(y=e.exports){var v;try{v=r(195)}catch(i){v=null}y=d=v}if(y&&d.randomBytes)h=d.randomBytes(128),h=new Uint32Array(new Uint8Array(h).buffer),a.random.addEntropy(h,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(g=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(g);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(g)}a.random.addEntropy(g,1024,"crypto['getRandomValues']")}}catch(i){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(i))}a.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ka:function(e,t,r,n){r=r||{},n=n||{};var i,o=a.json,s=o.i({iv:a.random.randomWords(4,0)},o.defaults);if(o.i(s,r),r=s.adata,"string"==typeof s.salt&&(s.salt=a.codec.base64.toBits(s.salt)),"string"==typeof s.iv&&(s.iv=a.codec.base64.toBits(s.iv)),!a.mode[s.mode]||!a.cipher[s.cipher]||"string"==typeof e&&100>=s.iter||64!==s.ts&&96!==s.ts&&128!==s.ts||128!==s.ks&&192!==s.ks&&256!==s.ks||2>s.iv.length||4<s.iv.length)throw new a.exception.invalid("json encrypt: invalid parameters");return"string"==typeof e?(e=(i=a.misc.cachedPbkdf2(e,s)).key.slice(0,s.ks/32),s.salt=i.salt):a.ecc&&e instanceof a.ecc.elGamal.publicKey&&(i=e.kem(),s.kemtag=i.tag,e=i.key.slice(0,s.ks/32)),"string"==typeof t&&(t=a.codec.utf8String.toBits(t)),"string"==typeof r&&(s.adata=r=a.codec.utf8String.toBits(r)),i=new a.cipher[s.cipher](e),o.i(n,s),n.key=e,s.ct="ccm"===s.mode&&a.arrayBuffer&&a.arrayBuffer.ccm&&t instanceof ArrayBuffer?a.arrayBuffer.ccm.encrypt(i,t,s.iv,r,s.ts):a.mode[s.mode].encrypt(i,t,s.iv,r,s.ts),s},encrypt:function(e,t,r,n){var i=a.json,o=i.ka.apply(i,arguments);return i.encode(o)},ja:function(e,t,r,n){r=r||{},n=n||{};var i,o,s=a.json;if(i=(t=s.i(s.i(s.i({},s.defaults),t),r,!0)).adata,"string"==typeof t.salt&&(t.salt=a.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=a.codec.base64.toBits(t.iv)),!a.mode[t.mode]||!a.cipher[t.cipher]||"string"==typeof e&&100>=t.iter||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||2>t.iv.length||4<t.iv.length)throw new a.exception.invalid("json decrypt: invalid parameters");return"string"==typeof e?(e=(o=a.misc.cachedPbkdf2(e,t)).key.slice(0,t.ks/32),t.salt=o.salt):a.ecc&&e instanceof a.ecc.elGamal.secretKey&&(e=e.unkem(a.codec.base64.toBits(t.kemtag)).slice(0,t.ks/32)),"string"==typeof i&&(i=a.codec.utf8String.toBits(i)),o=new a.cipher[t.cipher](e),i="ccm"===t.mode&&a.arrayBuffer&&a.arrayBuffer.ccm&&t.ct instanceof ArrayBuffer?a.arrayBuffer.ccm.decrypt(o,t.ct,t.iv,t.tag,i,t.ts):a.mode[t.mode].decrypt(o,t.ct,t.iv,i,t.ts),s.i(n,t),n.key=e,1===r.raw?i:a.codec.utf8String.fromBits(i)},decrypt:function(e,t,r,n){var i=a.json;return i.ja(e,i.decode(t),r,n)},encode:function(e){var t,r="{",n="";for(t in e)if(e.hasOwnProperty(t)){if(!t.match(/^[a-z0-9]+$/i))throw new a.exception.invalid("json encode: invalid property name");switch(r+=n+'"'+t+'":',n=",",typeof e[t]){case"number":case"boolean":r+=e[t];break;case"string":r+='"'+escape(e[t])+'"';break;case"object":r+='"'+a.codec.base64.fromBits(e[t],0)+'"';break;default:throw new a.exception.bug("json encode: unsupported type")}}return r+"}"},decode:function(e){if(!(e=e.replace(/\s/g,"")).match(/^\{.*\}$/))throw new a.exception.invalid("json decode: this isn't json!");e=e.replace(/^\{|\}$/g,"").split(/,/);var t,r,n={};for(t=0;t<e.length;t++){if(!(r=e[t].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new a.exception.invalid("json decode: this isn't json!");null!=r[3]?n[r[2]]=parseInt(r[3],10):null!=r[4]?n[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?a.codec.base64.toBits(r[4]):unescape(r[4]):null!=r[5]&&(n[r[2]]="true"===r[5])}return n},i:function(e,t,r){if(void 0===e&&(e={}),void 0===t)return e;for(var n in t)if(t.hasOwnProperty(n)){if(r&&void 0!==e[n]&&e[n]!==t[n])throw new a.exception.invalid("required parameter overridden");e[n]=t[n]}return e},sa:function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&e[r]!==t[r]&&(n[r]=e[r]);return n},ra:function(e,t){var r,n={};for(r=0;r<t.length;r++)void 0!==e[t[r]]&&(n[t[r]]=e[t[r]]);return n}},a.encrypt=a.json.encrypt,a.decrypt=a.json.decrypt,a.misc.pa={},a.misc.cachedPbkdf2=function(e,t){var r,n=a.misc.pa;return r=(t=t||{}).iter||1e3,(r=(n=n[e]=n[e]||{})[r]=n[r]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):a.random.randomWords(2,0)})[n=void 0===t.salt?r.firstSalt:t.salt]=r[n]||a.misc.pbkdf2(e,n,t.iter),{key:r[n].slice(0),salt:n.slice(0)}},a.arrayBuffer=a.arrayBuffer||{},"undefined"==typeof ArrayBuffer&&((i=this).ArrayBuffer=function(){},i.DataView=function(){}),a.arrayBuffer.ccm={mode:"ccm",defaults:{tlen:128},compat_encrypt:function(e,t,r,n,i){var o=a.codec.arrayBuffer.fromBits(t,!0,16);return t=a.bitArray.bitLength(t)/8,n=n||[],e=a.arrayBuffer.ccm.encrypt(e,o,r,n,i||64,t),r=a.codec.arrayBuffer.toBits(e.ciphertext_buffer),r=a.bitArray.clamp(r,8*t),a.bitArray.concat(r,e.tag)},compat_decrypt:function(e,t,r,n,i){i=i||64,n=n||[];var o=a.bitArray,s=o.bitLength(t),c=o.clamp(t,s-i);return t=o.bitSlice(t,s-i),c=a.codec.arrayBuffer.fromBits(c,!0,16),e=a.arrayBuffer.ccm.decrypt(e,c,r,t,n,i,(s-i)/8),a.bitArray.clamp(a.codec.arrayBuffer.toBits(e),s-i)},encrypt:function(e,t,r,n,i,o){var s,c=a.bitArray,u=c.bitLength(r)/8;for(n=n||[],i=i||a.arrayBuffer.ccm.defaults.tlen,o=o||t.byteLength,i=Math.ceil(i/8),s=2;4>s&&o>>>8*s;s++);return s<15-u&&(s=15-u),r=c.clamp(r,8*(15-s)),n=a.arrayBuffer.ccm.D(e,t,r,n,i,o,s),{ciphertext_buffer:t,tag:n=a.arrayBuffer.ccm.f(e,t,r,n,i,s)}},decrypt:function(e,t,r,n,i,o,s){var c,u=a.bitArray,l=u.bitLength(r)/8;for(i=i||[],o=o||a.arrayBuffer.ccm.defaults.tlen,s=s||t.byteLength,o=Math.ceil(o/8),c=2;4>c&&s>>>8*c;c++);if(c<15-l&&(c=15-l),r=u.clamp(r,8*(15-c)),n=a.arrayBuffer.ccm.f(e,t,r,n,o,c),e=a.arrayBuffer.ccm.D(e,t,r,i,o,s,c),!a.bitArray.equal(n,e))throw new a.exception.corrupt("ccm: tag doesn't match");return t},D:function(e,t,r,n,i,o,s){if(r=a.mode.ccm.$(e,n,r,i,o,s),0!==t.byteLength){for(n=new DataView(t);o<t.byteLength;o++)n.setUint8(o,0);for(o=0;o<n.byteLength;o+=16)r[0]^=n.getUint32(o),r[1]^=n.getUint32(o+4),r[2]^=n.getUint32(o+8),r[3]^=n.getUint32(o+12),r=e.encrypt(r)}return a.bitArray.clamp(r,8*i)},f:function(e,t,r,n,i,o){var s,c,u,l,p;c=(s=a.bitArray).h;var f=t.byteLength/50,h=f;if(new DataView(new ArrayBuffer(16)),r=s.concat([s.partial(8,o-1)],r).concat([0,0,0]).slice(0,4),n=s.bitSlice(c(n,e.encrypt(r)),0,8*i),r[3]++,0===r[3]&&r[2]++,0!==t.byteLength)for(i=new DataView(t),p=0;p<i.byteLength;p+=16)p>f&&(a.mode.ccm.V(p/t.byteLength),f+=h),l=e.encrypt(r),s=i.getUint32(p),c=i.getUint32(p+4),o=i.getUint32(p+8),u=i.getUint32(p+12),i.setUint32(p,s^l[0]),i.setUint32(p+4,c^l[1]),i.setUint32(p+8,o^l[2]),i.setUint32(p+12,u^l[3]),r[3]++,0===r[3]&&r[2]++;return n}},e.exports&&(e.exports=a),void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)},function(e,t){},function(e,t,r){"use strict";r.r(t),function(e,t,n){r(117),r(116),r(41);
/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.3.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2017
 * @license MIT
 */
!function(){var i="object"==typeof window?window:{};!i.HI_BASE32_NO_NODE_JS&&"object"==typeof e&&e.versions&&e.versions.node&&(i=t);var a=!i.HI_BASE32_NO_COMMON_JS&&"object"==typeof n&&n.exports,o="function"==typeof define&&r(198),s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),c={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},u=[0,0,0,0,0,0,0,0],l=function(e){for(var t,r,n,i,a,o,s,u,l=[],p=0,f=(e=e.replace(/=/g,"")).length,h=0,d=f>>3<<3;h<d;)t=c[e.charAt(h++)],r=c[e.charAt(h++)],n=c[e.charAt(h++)],i=c[e.charAt(h++)],a=c[e.charAt(h++)],o=c[e.charAt(h++)],s=c[e.charAt(h++)],u=c[e.charAt(h++)],l[p++]=255&(t<<3|r>>>2),l[p++]=255&(r<<6|n<<1|i>>>4),l[p++]=255&(i<<4|a>>>1),l[p++]=255&(a<<7|o<<2|s>>>3),l[p++]=255&(s<<5|u);var g=f-d;return 2===g?(t=c[e.charAt(h++)],r=c[e.charAt(h++)],l[p++]=255&(t<<3|r>>>2)):4===g?(t=c[e.charAt(h++)],r=c[e.charAt(h++)],n=c[e.charAt(h++)],i=c[e.charAt(h++)],l[p++]=255&(t<<3|r>>>2),l[p++]=255&(r<<6|n<<1|i>>>4)):5===g?(t=c[e.charAt(h++)],r=c[e.charAt(h++)],n=c[e.charAt(h++)],i=c[e.charAt(h++)],a=c[e.charAt(h++)],l[p++]=255&(t<<3|r>>>2),l[p++]=255&(r<<6|n<<1|i>>>4),l[p++]=255&(i<<4|a>>>1)):7===g&&(t=c[e.charAt(h++)],r=c[e.charAt(h++)],n=c[e.charAt(h++)],i=c[e.charAt(h++)],a=c[e.charAt(h++)],o=c[e.charAt(h++)],s=c[e.charAt(h++)],l[p++]=255&(t<<3|r>>>2),l[p++]=255&(r<<6|n<<1|i>>>4),l[p++]=255&(i<<4|a>>>1),l[p++]=255&(a<<7|o<<2|s>>>3)),l},p=function(e,t){if(!t)return function(e){for(var t,r,n="",i=e.length,a=0,o=0;a<i;)if((t=e[a++])<=127)n+=String.fromCharCode(t);else{if(t>191&&t<=223)r=31&t,o=1;else if(t<=239)r=15&t,o=2;else{if(!(t<=247))throw"not a UTF-8 string";r=7&t,o=3}for(var s=0;s<o;++s){if((t=e[a++])<128||t>191)throw"not a UTF-8 string";r<<=6,r+=63&t}if(r>=55296&&r<=57343)throw"not a UTF-8 string";if(r>1114111)throw"not a UTF-8 string";r<=65535?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296+(r>>10)),n+=String.fromCharCode(56320+(1023&r)))}return n}(l(e));var r,n,i,a,o,s,u,p,f="",h=e.indexOf("=");-1===h&&(h=e.length);for(var d=0,g=h>>3<<3;d<g;)r=c[e.charAt(d++)],n=c[e.charAt(d++)],i=c[e.charAt(d++)],a=c[e.charAt(d++)],o=c[e.charAt(d++)],s=c[e.charAt(d++)],u=c[e.charAt(d++)],p=c[e.charAt(d++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|a>>>4))+String.fromCharCode(255&(a<<4|o>>>1))+String.fromCharCode(255&(o<<7|s<<2|u>>>3))+String.fromCharCode(255&(u<<5|p));var y=h-g;return 2===y?(r=c[e.charAt(d++)],n=c[e.charAt(d++)],f+=String.fromCharCode(255&(r<<3|n>>>2))):4===y?(r=c[e.charAt(d++)],n=c[e.charAt(d++)],i=c[e.charAt(d++)],a=c[e.charAt(d++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|a>>>4))):5===y?(r=c[e.charAt(d++)],n=c[e.charAt(d++)],i=c[e.charAt(d++)],a=c[e.charAt(d++)],o=c[e.charAt(d++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|a>>>4))+String.fromCharCode(255&(a<<4|o>>>1))):7===y&&(r=c[e.charAt(d++)],n=c[e.charAt(d++)],i=c[e.charAt(d++)],a=c[e.charAt(d++)],o=c[e.charAt(d++)],s=c[e.charAt(d++)],u=c[e.charAt(d++)],f+=String.fromCharCode(255&(r<<3|n>>>2))+String.fromCharCode(255&(n<<6|i<<1|a>>>4))+String.fromCharCode(255&(a<<4|o>>>1))+String.fromCharCode(255&(o<<7|s<<2|u>>>3))),f},f={encode:function(e,t){var r="string"!=typeof e;return r&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),r?function(e){for(var t,r,n,i,a,o="",c=e.length,u=0,l=5*parseInt(c/5);u<l;)t=e[u++],r=e[u++],n=e[u++],i=e[u++],a=e[u++],o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|a>>>5)]+s[31&a];var p=c-l;return 1===p?(t=e[u],o+=s[t>>>3]+s[t<<2&31]+"======"):2===p?(t=e[u++],r=e[u],o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[r<<4&31]+"===="):3===p?(t=e[u++],r=e[u++],n=e[u],o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[n<<1&31]+"==="):4===p&&(t=e[u++],r=e[u++],n=e[u++],i=e[u],o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"="),o}(e):t?function(e){for(var t,r,n,i,a,o="",c=e.length,u=0,l=5*parseInt(c/5);u<l;)t=e.charCodeAt(u++),r=e.charCodeAt(u++),n=e.charCodeAt(u++),i=e.charCodeAt(u++),a=e.charCodeAt(u++),o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|a>>>5)]+s[31&a];var p=c-l;return 1===p?(t=e.charCodeAt(u),o+=s[t>>>3]+s[t<<2&31]+"======"):2===p?(t=e.charCodeAt(u++),r=e.charCodeAt(u),o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[r<<4&31]+"===="):3===p?(t=e.charCodeAt(u++),r=e.charCodeAt(u++),n=e.charCodeAt(u),o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[n<<1&31]+"==="):4===p&&(t=e.charCodeAt(u++),r=e.charCodeAt(u++),n=e.charCodeAt(u++),i=e.charCodeAt(u),o+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"="),o}(e):function(e){var t,r,n,i,a,o,c,l=!1,p="",f=0,h=0,d=e.length;do{for(u[0]=u[5],u[1]=u[6],u[2]=u[7],c=h;f<d&&c<5;++f)(o=e.charCodeAt(f))<128?u[c++]=o:o<2048?(u[c++]=192|o>>6,u[c++]=128|63&o):o<55296||o>=57344?(u[c++]=224|o>>12,u[c++]=128|o>>6&63,u[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++f)),u[c++]=240|o>>18,u[c++]=128|o>>12&63,u[c++]=128|o>>6&63,u[c++]=128|63&o);c-h,h=c-5,f===d&&++f,f>d&&c<6&&(l=!0),t=u[0],c>4?(r=u[1],n=u[2],i=u[3],a=u[4],p+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[31&(i<<3|a>>>5)]+s[31&a]):1===c?p+=s[t>>>3]+s[t<<2&31]+"======":2===c?(r=u[1],p+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[r<<4&31]+"===="):3===c?(r=u[1],n=u[2],p+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[n<<1&31]+"==="):(r=u[1],n=u[2],i=u[3],p+=s[t>>>3]+s[31&(t<<2|r>>>6)]+s[r>>>1&31]+s[31&(r<<4|n>>>4)]+s[31&(n<<1|i>>>7)]+s[i>>>2&31]+s[i<<3&31]+"=")}while(!l);return p}(e)},decode:p};p.asBytes=l,a?n.exports=f:(i.base32=f,o&&define((function(){return f})))}()}.call(this,r(45),r(60),r(197)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){var n=r(200);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(84)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(83)(!1)).push([e.i,'@keyframes spin{0%{transform:translateZ(0) rotate(0)}100%{transform:translateZ(0) rotate(360deg)}}.freeze-ui{position:fixed;top:0;left:0;width:100%;height:100%;z-index:999999999;background-color:#fff;opacity:.8;transition:opacity .25s}.freeze-ui.is-unfreezing{opacity:0}.freeze-ui:after{content:attr(data-text);display:block;max-width:125px;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:20px;font-family:sans-serif;color:#343a40;text-align:center;text-transform:uppercase}.freeze-ui:before{content:"";display:block;width:150px;height:150px;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent #228ae6 #228ae6;position:absolute;top:calc(50% - 75px);left:calc(50% - 75px);will-change:transform;animation:spin .75s infinite ease-in-out}\n',""])},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"bake",(function(){return j})),r.d(n,"addClass",(function(){return F})),r.d(n,"removeClass",(function(){return q})),r.d(n,"toggleClass",(function(){return G})),r.d(n,"hasClass",(function(){return H})),r.d(n,"html",(function(){return z})),r.d(n,"text",(function(){return Y})),r.d(n,"val",(function(){return Q})),r.d(n,"appendChildren",(function(){return W})),r.d(n,"removeAllChildren",(function(){return X})),r.d(n,"wrap",(function(){return J})),r.d(n,"$",(function(){return $})),r.d(n,"$$",(function(){return Z})),r.d(n,"displayNone",(function(){return ee})),r.d(n,"hide",(function(){return te})),r.d(n,"displayBlock",(function(){return re})),r.d(n,"show",(function(){return ne})),r.d(n,"displayFlex",(function(){return ie})),r.d(n,"flex",(function(){return ae})),r.d(n,"isShown",(function(){return oe})),r.d(n,"generateRandomId",(function(){return ce}));r(136),r(41),r(42),r(43),r(76);var i=r(8),a=r.n(i),o=(r(82),r(20)),s=r.n(o),c=(r(18),r(19),r(156),r(30)),u=(r(161),new c(["GET","POST","PUT","DELETE"])),l=new c(["json","xml"]),p=new c(["complete","success","error","timeout"]),f={complete:"onloadend",success:"onload",error:"onerror",timeout:"ontimeout"};function h(e){console.log("USING XHR AJAX REPLACEMENT!");var t=function(e){if("object"!=typeof e)return"Type of settings must be object";if(!e.url)return"URL is missing";if(void 0!==e.type){if("string"!=typeof e.type)return"Request type must be a string. Got ".concat(typeof e.type);if(!u.has(e.type.toUpperCase()))return"Request type is invalid."}if("POST"===e.type.toUpperCase()&&e.dataType&&!l.has(e.dataType))return"Invalid data type"}(e);if(t)throw t;e.type&&"GET"!==e.type.toUpperCase()?"POST"===e.type.toUpperCase()&&function(e,t){var r=new XMLHttpRequest;r.open("POST",e);var n=t.contentType||"application/json";r.responseType=t.dataType||"json";var i=new c(Object.keys(t)),a=!0,o=!1,s=void 0;try{for(var u,l=p[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var h=u.value;console.log("Checking if there is callback for ".concat(h)),i.has(h)&&"function"==typeof t[h]&&(console.log("Setting handler for "+h),r[f[h]]=d(h,r,t[h]))}}catch(e){o=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}var g=t.data;g&&(r.setRequestHeader("Content-Type",n),"object"==typeof g&&(console.log("JSON processing data"),g=JSON.stringify(t.data)));console.log("Sending POST request..."),r.send(g)}(e.url,e):function(e,t){var r=new XMLHttpRequest;r.open("GET",e);var n=new c(Object.keys(t)),i=!0,a=!1,o=void 0;try{for(var s,u=p[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;console.log("Checking if there is callback for ".concat(l)),n.has(l)&&"function"==typeof t[l]&&(console.log("Setting handler for "+l),r[f[l]]=d(l,r,t[l]))}}catch(e){a=!0,o=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}r.send()}(e.url,e)}var d=function(e,t,r){switch(e){case"complete":case"success":return function(){r(g(t),t.statusText,t)};case"error":return function(){r(t.responseText)};case"beforeSend":throw new Error("Not Implemented");default:throw new Error("Unknown callback type")}},g=function(e){try{console.log("XHR RESPONSE: ".concat(e.response))}catch(e){}try{console.log("XHR RESPONSE TEXT: ".concat(e.responseText))}catch(e){}switch(e.responseType){case"json":try{return JSON.parse(e.response)}catch(t){return console.log("Unable to parse JSON."),e.response}case"text":case"":try{return JSON.parse(e.responseText)}catch(t){return e.responseText}default:return console.log("No default processor found. Returning data as is."),e.response}};r(164),r(166);var y=r(134),v=r.n(y);r(167);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e,t){Object.keys(t).forEach((function(r){e.style[r]=t[r]}))},w=function(e,t){return e.getAttribute(t)},C=Symbol("defaultOptions"),S=Symbol("render"),T=Symbol("show"),A=Symbol("hide"),I=Symbol("removeDOM"),B={[C]:{container:"body",class:"siiimpleToast",position:"top|right",margin:15,delay:0,hideOnClick:!0,duration:3e3,style:{}},setOptions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E({},siiimpleToast,{[C]:E({},this[C],{},e)})},[S](e,t){var r,n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=E({},this[C],{},a),s=o.class,c=o.position,u=o.delay,l=o.duration,p=o.style,f=document.createElement("div");f.className=s,f.innerHTML=t,f.onclick=o.hideOnClick?function(){i[A](f,o)}:void 0,r=f,n={"data-position":c,"data-state":e},Object.keys(n).forEach((function(e){r.setAttribute(e,n[e])})),b(f,p);var h=0;return setTimeout((function(){i[T](f,o)}),h+=u),setTimeout((function(){i[A](f,o)}),h+=l),this},[T](e,t){var r=t.container,n=t.class,i=t.margin,a=function(e,t){return w(e,"data-position").indexOf(t)>-1},o=document.querySelector(r);o.insertBefore(e,o.firstChild),b(e,{position:"body"===r?"fixed":"absolute",[a(e,"top")?"top":"bottom"]:"-100px",[a(e,"left")&&"left"]:"15px",[a(e,"center")&&"left"]:"".concat(o.clientWidth/2-e.clientWidth/2,"px"),[a(e,"right")&&"right"]:"15px"}),b(e,{transform:"scale(1)",opacity:1});var s=i;Array.from(document.querySelectorAll(".".concat(n,'[data-position="').concat(w(e,"data-position"),'"]'))).filter((function(t){return t.parentElement===e.parentElement})).forEach((function(e){b(e,{[a(e,"top")?"top":"bottom"]:"".concat(s,"px")}),s+=e.offsetHeight+i}))},[A](e){var t=this,r=function(e,t){return w(e,"data-position").indexOf(t)>-1},n=e.getBoundingClientRect(),i=n.left,a=n.width;b(e,{[r(e,"left")&&"left"]:"".concat(a,"px"),[r(e,"center")&&"left"]:"".concat(i+a,"px"),[r(e,"right")&&"right"]:"-".concat(a,"px"),opacity:0});e.addEventListener("transitionend",(function r(){t[I](e),e.removeEventListener("transitionend",r)}))},[I](e){e.parentElement.removeChild(e)},message(e,t){return this[S]("default",e,t)},success(e,t){return this[S]("success",e,t)},error(e,t){return this[S]("alert",e,t)},info(e,t){return this[S]("info",e,t)},warning(e,t){return this[S]("warning",e,t)}},k=r(6),_=r.n(k),R=r(7),N=r.n(R),L=r(9);function x(e,t){return e&&e.trim()&&/^[a-zA-Z0-9!@#$%^&*]{9,}$/.test(e)?e!==t?"Password and confirmation do not match.":void 0:"Password or passphrase must be at least 9 characters long and can contain only lowercase a-z, uppercase A-Z and symbols !@#$%^&*"}var O=r(65),P=r(0),U=r(64),D=r(21),M=r(3),K=r(135),V=function(){function e(){_()(this,e),U.a.mixin(this),this.id=null,this.pkfp,this.initialized=!1,this.admin=null,this.adminKey=null,this.topics={},this.password=null,this.publicKey=null,this.privateKey=null,this.handlers,this.messageQueue,this.version,this.initHandlers()}var t,r;return N()(e,[{key:"initHandlers",value:function(){var e=this;this.handlers={},this.handlers[M.Internal.JOIN_TOPIC_SUCCESS]=function(t){console.log("Topic join success! Adding new topic..."),e.addNewTopic(e,t)},this.handlers[M.Internal.POST_LOGIN_DECRYPT]=function(t){e.emit(M.Internal.POST_LOGIN_DECRYPT,t)},this.handlers[M.Events.POST_LOGIN_SUCCESS]=function(){e.emit(M.Events.POST_LOGIN_SUCCESS)},this.handlers[M.Internal.TOPIC_CREATED]=function(t){e.addNewTopic(e,t)},this.handlers[M.Internal.TOPIC_DELETED]=function(e){console.log("TOPIC DELETED: ".concat(e.body.topicPkfp))},this.handlers[M.Internal.SESSION_KEY]=function(t){if(!D.a.verifyMessage(message.body.sessionKey,t))throw new Error("Session key signature is invalid!");e.sessionKey=t.body.sessionKey,e.emit(M.Internal.SESSION_KEY,t)}}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.required(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a.required("Version required");if(!e||""===e.trim)throw new Error("Password required");var r=new P.a;r.generateRSAKeyPair("kp").getPublicKeyFingerprint("kp","pkfp"),this.password=e,this.topics={},this.privateKey=r.get("kp").privateKey,this.publicKey=r.get("kp").publicKey,this.pkfp=r.get("pkfp"),this.version=t,this.initialized=!0,this.getPrivateKey=function(){return r.get("kp").privateKey}}},{key:"initAdmin",value:function(e,t){this.init(e),this.admin=!0,this.adminKey=t}},{key:"initSaved",value:(r=s()(a.a.mark((function e(){var t,r,n,i,o,s,c,u,l,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:L.a.required("Vault parse: data parameter missing"),r=p.length>1&&void 0!==p[1]?p[1]:L.a.required("Vault parse: password parameter missing"),n=p.length>2&&void 0!==p[2]?p[2]:{},i=new P.a,console.log("Salt: ".concat(t.substring(0,256))),console.log("Vault: ".concat(t.substr(256))),i.addBlob("s16",t.substring(0,256)).addBlob("v_cip",t.substr(256)).hexToBytes("s16","salt").createPasswordBasedSymKey("sym",r,"s16").AESDecrypt("v_cip","sym","vault_raw",!0),o=JSON.parse(i.get("vault_raw")),this.adminKey=o.adminKey,this.admin=o.admin,this.publicKey=o.publicKey,this.privateKey=o.privateKey,this.password=r,o.pkfp?this.pkfp=o.pkfp:(i.setRSAKey("pub",o.publicKey,"public").getPublicKeyFingerprint("pub","pkfp"),this.pkfp=i.get("pkfp")),s=this.unpackTopics(n,r))for(c=0,u=Object.keys(s);c<u.length;c++)l=u[c],console.log("INITIALIZING TOPIC ".concat(l)),this.topics[l]=new O.a(l,s[l].name,s[l].key,s[l].comment);if(o.version&&!K.lt(o.version,"1.0.5")){e.next=20;break}return console.log("vault format update required"),e.next=20,this.updateVaultFormat(o);case 20:this.initialized=!0;case 21:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"updateVaultFormat",value:(t=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Updating vault format...");case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"setId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.required("ID is required");this.id=e}},{key:"getId",value:function(){return this.id}},{key:"isAdmin",value:function(){return this.admin}},{key:"bootstrap",value:function(e,t,r){var n=this;this.version=r,this.arrivalHub=e,this.messageQueue=t,this.arrivalHub.on(this.id,(function(e){n.processIncomingMessage(e,n)}))}},{key:"processIncomingMessage",value:function(e,t){if(console.log("Processing vault incoming message"),e.headers.error)throw new Error("Error received: ".concat(e.headers.error,". WARNING ERROR HADLING NOT IMPLEMENTED!!!"));t.handlers.hasOwnProperty(e.headers.command)?t.handlers[e.headers.command](e):console.error("Invalid vault command received: ".concat(e.headers.command))}},{key:"save",value:function(e){if(!this.password||this.privateKey||this.topics)throw new Error("Vault object structure is not valid");var t=this.pack(),r=new D.a(this.version);r.setSource(this.id),r.setCommand(M.Internal.SAVE_VAULT),r.addNonce(),r.body.vault=t,r.body.sign=sign,r.body.cause=e,r.body.hash=t.hash,r.signMessage(this.privateKey),this.messageQueue.enqueue(r)}},{key:"changePassword",value:function(e){if(!this.initialized)throw new Error("The vault hasn't been initialized");if(!e||""===e.trim)throw new Error("Password required");this.password=e}},{key:"packTopics",value:function(){for(var e={},t=0,r=Object.keys(this.topics);t<r.length;t++){var n=r[t],i=this.topics[n];e[n]=this.prepareVaultTopicRecord(this.version,i.pkfp,i.privateKey,i.name,i.settings,i.comment)}return e}},{key:"unpackTopics",value:function(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t[i]=this.decryptTopic(e[i],this.password)}return t}},{key:"decryptTopic",value:function(e,t){var r=parseInt(e.substr(e.length-3)),n=e.substring(e.length-r-3,e.length-3),i=e.substring(0,256),a=e.substring(256,e.length-r-3),o=new P.a;if(o.setRSAKey("pub",this.publicKey,"public").addBlob("cipher",a).addBlob("sign",n).publicKeyVerify("cipher","sign","pub","verified"),!o.get("verified"))throw new Error("Topic signature is invalid!");return o.addBlob("salt-hex",i).createPasswordBasedSymKey("sym",t,"salt-hex").AESDecrypt("cipher","sym","topic-plain",!0),JSON.parse(o.get("topic-plain"))}},{key:"prepareVaultTopicRecord",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.required("Version"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a.required("pkfp"),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.a.required("Private key"),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L.a.required("Name"),i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=JSON.stringify({version:e,name:n,key:r,settings:i,comment:a,pkfp:t}),s=new P.a;return s.createNonce("salt",128).encode("salt","hex","salt-hex").createPasswordBasedSymKey("key",this.password,"salt-hex").addBlob("topic",o).AESEncrypt("topic","key","cipher",!0,"CBC","utf8").merge(["salt-hex","cipher"],"blob").setRSAKey("priv",this.privateKey,"private").privateKeySign("cipher","priv","sign").encodeBlobLength("sign",3,"0","sign-length").merge(["blob","sign","sign-length"],"res"),s.get("res")}},{key:"addNewTopic",value:function(e,t){var r=t.body.vaultRecord,n=t.body.metadata,i=e.decryptTopic(r,e.password),a=i.pkfp,o=new O.a(a,i.name,i.key,i.comment);o.loadMetadata(n),o.bootstrap(e.messageQueue,e.arrivalHub,e.version),e.topics[a]=o,e.emit(M.Events.TOPIC_CREATED,a)}},{key:"pack",value:function(){var e=JSON.stringify({version:this.version,publicKey:this.publicKey,privateKey:this.privateKey,admin:this.admin,adminKey:this.adminKey,settings:this.settings}),t=new P.a;t.createNonce("salt",128).encode("salt","hex","salt-hex").createPasswordBasedSymKey("key",this.password,"salt-hex").addBlob("vault",e).AESEncrypt("vault","key","cip-hex",!0,"CBC","utf8").merge(["salt-hex","cip-hex"],"res").hash("res","vault-hash").setRSAKey("asymkey",this.privateKey,"private").privateKeySign("vault-hash","asymkey","sign");var r=this.packTopics(this.password);return console.log("Salt: ".concat(t.get("salt-hex"))),console.log("Vault: ".concat(t.get("cip-hex"))),{vault:t.get("res"),topics:r,hash:t.get("vault-hash"),sign:t.get("sign")}}},{key:"packBAK",value:function(){var e=JSON.stringify({topics:this.packTopics(),publicKey:this.publicKey,privateKey:this.privateKey,admin:this.admin,adminKey:this.adminKey,settings:this.settings}),t=new P.a;return t.createNonce("salt",128).encode("salt","hex","salt-hex").createPasswordBasedSymKey("key",this.password,"salt-hex").addBlob("vault",e).AESEncrypt("vault","key","cip-hex",!0,"CBC","utf8").merge(["salt-hex","cip-hex"],"res").hash("res","vault-hash").setRSAKey("asymkey",this.privateKey,"private").privateKeySign("vault-hash","asymkey","sign"),console.log("Salt: ".concat(t.get("salt-hex"))),console.log("Vault: ".concat(t.get("cip-hex"))),{vault:t.get("res"),hash:t.get("vault-hash"),sign:t.get("sign")}}},{key:"processNewTopicEvent",value:function(e,t){t.body.metadata}},{key:"addTopic",value:function(e,t,r,n){if(this.topics.hasOwnProperty(e))throw new Error("Topic with such id already exists");var i=new O.a(e,t,r,n);return this.topics[e]=i,i}},{key:"removeTopic",value:function(){}}],[{key:"registerVault",value:function(t,r){return new Promise((function(n,i){setTimeout((function(){try{var a=x(t.value.trim(),r.value.trim());void 0!==a&&i(new Error(a));var o=new e;o.init(t.value.trim());var s=o.pack(),c=o.publicKey,u=new P.a;if(u.generateRSAKeyPair("adminkp").createNonce("n").privateKeySign("n","adminkp","sign").bytesToHex("n","nhex"),console.log("Hash: ".concat(s.hash)),!s.hash)throw new Error("NO HASH!");h({type:"POST",url:"/register",dataType:"json",data:{nonce:u.get("nhex"),sign:u.get("sign"),vault:s.vault,vaultHash:s.hash,vaultSign:s.sign,vaultPublicKey:c},success:function(){n()},error:function(e){i(e)}})}catch(e){i(e)}}),50)}))}}]),e}();function j(e,t){var r=document.createElement(e);if(!t)return r;if(t.classes)if("object"==typeof t.classes){var n=!0,i=!1,a=void 0;try{for(var o,s=t.classes[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;r.classList.add(c)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}else{if("string"!=typeof t.classes)throw new Error("Bake parameters invalid");r.classList.add(t.classes)}if(t.listeners)for(var u=0,l=Object.keys(t.listeners);u<l.length;u++){var p=l[u];r.addEventListener(p,t.listeners[p])}if(t.id&&r.setAttribute("id",t.id),t.src&&r.setAttribute("src",t.src),t.attributes)for(var f=0,h=Object.keys(t.attributes);f<h.length;f++){var d=h[f];r.setAttribute(d,t.attributes[d])}return t.style&&(r.style=t.style),t.html&&(r.innerHTML=t.html),t.text&&(r.innerText=t.text),t.val&&(r.value=t.val),t.children&&W(r,t.children),r}function F(e,t){ue(e).classList.add(t)}function q(e,t){ue(e).classList.remove(t)}function G(e,t){return ue(e).classList.toggle(t)}function H(e,t){return ue(e).classList.contains(t)}function z(e,t){ue(e).innerHTML=t}function Y(e,t){ue(e).innerText=t}function Q(e,t){ue(e).value=t}function W(e,t){var r=ue(e);if(t instanceof Array){var n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=ue(o.value);r.appendChild(c)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}else{var u=ue(t);r.appendChild(u)}}function X(e){for(var t=ue(e);t.lastChild;)t.removeChild(t.lastChild)}function J(e,t){return j("div",{children:e,classes:t})}function $(e){return ue(e)}function Z(e){return document.querySelectorAll(e)}function ee(e){try{se(e,"none")}catch(e){console.log("Display none fail: "+e)}}function te(e){try{se(e,"none")}catch(e){console.log("Display none fail: "+e)}}function re(e){se(e,"block")}function ne(e){se(e,"block")}function ie(e){se(e,"flex")}function ae(e){se(e,"flex")}function oe(e){var t=ue(e);return"flex"===t.style.display||"block"===t.style.display}function se(e,t){ue(e).style.display=t}function ce(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=[],a=0;a<e;++a)i.push(n[Math.floor(Math.random()*n.length)]);return"".concat(t.length>0?t+"-":"").concat(i.join("")).concat(r.length>0?"-"+r:"")}function ue(e){var t=e;if("string"==typeof t&&(t=document.querySelector(e)),!t)throw new Error("Element ".concat(e," is undefined"));if(!t instanceof Element)throw new Error("Type of element is invalid");return t}var le,pe,fe,he=r(22),de=(r(199),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_()(this,e),this.selector=t.selector||"body",this.text=t.text||"Working...",this.id=ce(10,"spinner"),this.isOn=!1}return N()(e,[{key:"loadingOn",value:function(){var e=j("div",{classes:["freeze-ui"],id:this.id}),t=$(this.selector);e.setAttribute("data-text",this.text),e.style.position="absolute",t.appendChild(e),this.isOn=!0}},{key:"loadingOff",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this.isOn){var r=$("#".concat(this.id));r&&(r.classList.add("is-unfreezing"),setTimeout((function(){r&&r.parentElement.removeChild(r),e.isOn=!1}),t))}else console.trace(),console.error("Attempt to turn off spinner that hasn't been turned on.")}}]),e}());window.toastr=B;var ge=new de;window.util=n,window.iCrypto=P.a,window.testCrypto=function(){var e=new P.a;e.createNonce("salt",128).encode("salt","hex","salt-hex").createPasswordBasedSymKey("key","hfgkhsdjf","salt-hex").addBlob("vault","kljfgljsdkfgkdjgfdjlkfgjljgewjrkgjegjdjfgjdsgjsdfgdssdljvdcvjdcjv").AESEncrypt("vault","key","cipher").encode("cipher","hex","cip-hex").merge(["salt-hex","cip-hex"],"res");var t=e.get("res"),r=new P.a;r.addBlob("s16",t.substring(0,256)).addBlob("v_cip",t.substr(256)).hexToBytes("s16","salt").createPasswordBasedSymKey("sym","hfgkhsdjf","s16"),console.log(e.get("cip-hex")===v_cip),r.AESDecrypt("v_cip","sym","vault_raw",!0)},window.testVault=function(){var e=new V,t="jhdfgdslhglsdhgljhghdsfgh";e.init(t);var r=e.pack();(new V).initSaved(r.vault,t)};var ye=function(){throw new Error("Admin session uninitialized")};function ve(){try{ye({action:"launch_admin_hidden_service",permanent:!0},(function(e){B.success("Admin hidden service created!"),Te(e)}),(function(e){B.warning("Error creating admin hidden service".concat(e?": "+e:""," ")),Se(e)}))}catch(e){B.warning("Error creating admin hidden service: "+e.message)}}function me(){try{var e=new P.a;e.createNonce("n").setRSAKey("privk",le.privateKey,"private").privateKeySign("n","privk","sign").bytesToHex("n","nhex"),ye({action:"create_guest",vaultID:e.get("nhex"),sign:e.get("sign"),permanent:!0},(function(e){B.success("Guest hidden services created!"),Te(e)}),(function(e){B.warning("Error creating guest hidden service".concat(e?": "+e:""," ")),Se(e)}))}catch(e){B.warning("Error creating admin hidden service: "+e.message)}}function Ee(e){var t=e.target.parentNode.parentNode.parentNode.parentNode.children[1].innerText;try{ye({action:"enable_hidden_service",onion:t},Te,Se)}catch(e){Se(e)}}function be(e){var t=e.target.parentNode.parentNode.parentNode.parentNode.children[1].innerText;try{ye({action:"disable_hidden_service",onion:t},Te,Se)}catch(e){Se(e)}}function we(e){try{var t=e.target.parentNode.parentNode.parentNode.parentNode,r=t.children[1].innerText;if(/admin/i.test(t.children[3].innerText))throw new Error("Only applicable to guest hidden service");if(!confirm("This will delete permanently hidden service and associated with it guest vault.After this operation guest will no longer be able to access this island. \n\nProceed?"))return;ye({action:"delete_guest",onion:r},Te,Se)}catch(e){B.warning("Error deleting guest: "+e),console.error(e)}}function Ce(e){var t=e.target.parentNode.parentNode.parentNode.parentNode,r=t.children[1].innerText,n=/admin/i.test(t.children[3].innerText);try{if(!n)throw new Error("Only applicable to admin hidden service");ye({action:"delete_hidden_service",onion:r},Te,Se)}catch(e){B.warning("Error deleting guest: "+e),console.error(e)}}function Se(e){B.warning("Error creating admin hidden service: "+e.responseText)}function Te(e){var t=JSON.parse(e.hiddenServices),r=$("#hidden-services-wrap");r.innerHTML="";for(var n=1,i=0,a=Object.keys(t);i<a.length;i++){var o=a[i],s=t[o].enabled,c=j("tr"),u=j("td",{classes:"hs-enum",text:n}),l=j("td",{classes:"hs-link",text:o+".onion"}),p=Ae(t[o].description);W(c,[u,l,Ie(j("td",{classes:"hs-desc"}),p),j("td",{classes:"hs-type",text:t[o].admin?"Admin":"User"}),j("td",{classes:["hs-status",s?"hs-status-enabled":"hs-status-disabled"],text:s?"Enabled":"Disabled"}),ke(j("td",{classes:"hs-actions"}),t[o].admin)]),r.appendChild(c),n++,l.addEventListener("click",(function(e){_e(e.target.innerText,"Onion link copied to clipboard")}))}Fe()}function Ae(e){return void 0===e||""===e?"":he.a.decryptStandardMessage(e,le.privateKey)}function Ie(e,t){var r,n,i,a=(r="Place for description",i=["editable-field"],void 0!==(n="editable-field-gray")&&(i=i.concat(n)),j("input",{classes:i,attributes:{type:"text",placeholder:r||""}}));return a.addEventListener("change",Be),a.addEventListener("keypress",(function(e){13!==e.which&&13!==e.keyCode||document.activeElement.blur()})),a.value=t,e.appendChild(a),e}function Be(e){var t=e.target.value.trim(),r="",n=e.target.parentNode.parentNode.children[1].innerText;t&&""!==t&&(r=he.a.encryptStandardMessage(t,le.publicKey));try{ye({action:"update_hs_description",onion:n,description:r},Te,Se)}catch(e){B.warning("Error deleting guest: "+e),console.error(e)}}function ke(e,t){var r,n,i,a,o;return e.appendChild((r="Actions",n={"Copy onion link":function(e){_e(e.target.parentNode.parentNode.parentNode.parentNode.children[1].innerText,"Onion link copied to clipboard")},Enable:Ee,Disable:be,Delete:t?Ce:we},i=j("div",{classes:["dropdown-wrap"]}),a=j("button",{classes:"dropdown-button",text:r}),o=j("ul",{classes:"dropdown"}),Object.keys(n).forEach((function(e){var t=j("li",{classes:"dropdown-item",text:e});t.addEventListener("click",(function(t){n[e](t)})),o.appendChild(t)})),W(i,[a,o]),i)),e}function _e(e,t){var r=j("textarea");r.value=e,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),B.info(t)}catch(e){B.error("Error copying invite code to the clipboard")}r.remove()}function Re(){var e,t,r=$("#admin-password").value.trim();r?(Ue(),h({type:"GET",url:"/admin/vault",success:(t=s()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne(t.vault,r);case 3:return n=e.sent,e.next=6,Le(n.adminKey);case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),De(),B.warning("Login failed. Check the password and try again."),console.log("Login error: "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e){return t.apply(this,arguments)}),error:(e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De(),B.warning("Admin login error: "+t);case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})):B.warning("Password is required!")}function Ne(e,t){return new Promise((function(r,n){try{var i=new V;i.initSaved(e,t),i.admin&&i.adminKey||n("Admin vault is invalid, or doesn't have a private key"),r(i)}catch(e){n(e)}}))}function Le(e){return xe.apply(this,arguments)}function xe(){return(xe=s()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=new P.a).createNonce("n").setRSAKey("pk",t,"private").privateKeySign("n","pk","sign").bytesToHex("n","nhex").publicFromPrivate("pk","pub").getPublicKeyFingerprint("pub","pkfp"),h({type:"POST",url:"/admin",dataType:"json",data:{action:"admin_login",nonce:r.get("nhex"),sign:r.get("sign"),pkfp:r.get("pkfp")},success:function(e){var t;le={publicKey:r.get("pub"),privateKey:r.get("pk"),pkfp:r.get("pkfp")},t=le,ye=function(e,r,n){if(!e.action)throw new Error("Malformed request");var i=t.privateKey,a=t.pkfp,o=new P.a;o.createNonce("n").bytesToHex("n","nhex"),e.nonce=o.get("nhex");var s=JSON.stringify(e);o.addBlob("data",s).setRSAKey("pk",i,"private").privateKeySign("data","pk","sign"),h({type:"POST",url:"/admin",dataType:"json",data:{action:e.action,requestString:s,sign:o.get("sign"),pkfp:a},success:r,error:n})},ie("#admin-content-wrapper"),z(".heading__main","Rule your island"),ee("#admin-login--wrapper"),Oe(e),Ve(!0),De(),B.info("Admin login successfull!"),document.title="Islands | Admin panel"},error:function(e){De(),B.warning("Error: \n"+e.responseText)}})}catch(e){De(),Ge(),B.warning("Login error: \n"+e)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e){var t="true"===e.loggerInfo.enabled||!0===e.loggerInfo.enabled,r=e.loggerInfo.level;Q("#logs-state",t?"true":"false"),Q("#log-highest-level",r),Te(e)}function Pe(){F("#island-setup","btn-loading");var e=$("#new-admin-password").value,t=x(e,$("#new-admin-password-confirm").value);if(t)return B.warning(t),void De();(function(e){return new Promise((function(t,r){Ue();var n=new P.a;n.generateRSAKeyPair("adminkp").createNonce("n").privateKeySign("n","adminkp","sign").bytesToHex("n","nhex");var i=new V;i.initAdmin(e,n.get("adminkp").privateKey);var a=i.pack(),o=i.publicKey,s=n.get("adminkp").publicKey;console.log("Hash: ".concat(a.hash)),h({type:"POST",url:"/admin",dataType:"json",data:{action:"admin_setup",adminPublickKey:s,hash:a.hash,nonce:n.get("nhex"),sign:n.get("sign"),vault:a.vault,vaultPublicKey:o,vaultSign:a.sign},success:function(){De(),le={publicKey:n.get("adminkp").publicKey,privateKey:n.get("adminkp").privateKey},$("#setup--wrapper").style.display="none",$("#registration-complete--wrapper").style.display="flex",q("#island-setup","btn-loading"),t()},error:function(e){De(),r("Fail!"+e),q("#island-setup","btn-loading")}})}))})(e).then((function(){B.info("Setup successfull!!")})).catch((function(e){B.error(e)}))}function Ue(){ge.loadingOn()}function De(){ge.loadingOff()}function Me(){le=void 0,Ge(),document.location="/"}function Ke(){Ve(!1),le=void 0,Ge(),document.location.reload()}function Ve(e){e?ie("#admin-menu"):ee("#admin-menu")}function je(e){if(!e.target.classList.contains("active")){var t=$("#island-admin-main-menu"),r=!0,n=!1,i=void 0;try{for(var a,o=t.children[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){a.value.classList.remove("active")}}catch(e){n=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}var s=$("#admin-pages"),c=!0,u=!1,l=void 0;try{for(var p,f=s.children[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){p.value.classList.remove("active")}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}var h=function(e){var t=0;for(;e=e.previousElementSibling;)t++;return t}(e.target);s.children[h].classList.add("active"),t.children[h].classList.add("active"),$("#admin-section-heading").innerHTML=e.target.innerHTML,function(e){switch(console.log("Running page activation handler for index: "+e),e){case 0:Fe();break;case 1:qe();break;default:throw new Error("Invaild page index")}}(h)}}function Fe(){var e=0===$("#hidden-services-wrap").children.length;$("#hs-container").style.display=e?"none":"block",$("#hidden-services-empty").style.display=e?"block":"none"}function qe(){var e=0===$("#log-records").children.length;$("#logs-empty-message").style.display=e?"block":"none",$("#log-content").style.display=e?"none":"block"}function Ge(){Q("#admin-private-key","")}function He(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ue();var r=le.privateKey,n=le.pkfp,i=new P.a;i.createNonce("n").setRSAKey("pk",r,"private").privateKeySign("n","pk","sign").bytesToHex("n","nhex"),h({type:"POST",url:"/admin",dataType:"json",data:{action:"load_logs",nonce:i.get("nhex"),sign:i.get("sign"),pkfp:n,errorsOnly:e},success:t?ze:Ye,error:function(e){console.log("Error loading logs: "+e),B.warning("Error loading logs: "+e)},complete:function(){console.log("Loading completed!"),De()}})}function ze(e){console.log("Records received, downloading logs.");var t=j("a",{attributes:{href:URL.createObjectURL(new Blob([e.records],{type:"text/json"})),download:"islands_".concat((new Date).toLocaleTimeString(navigator.language,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),".log"),style:"display: none;"}});document.body.appendChild(t),t.click(),document.body.removeChild(t)}function Ye(e){if(console.log(e.records),e.records){var t=e.records.split("\n"),r=$("#log-content").lastElementChild;r.innerHTML="";var n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var u=o.value,l=void 0;try{l=JSON.parse(u)}catch(e){continue}var p=document.createElement("tr");p.classList.add(l.level);var f=document.createElement("td"),h=document.createElement("td"),d=document.createElement("td");f.classList.add("log-timestamp"),h.classList.add("log-level"),d.classList.add("log-msg"),f.innerHTML=l.timestamp,h.innerHTML=l.level,d.innerHTML=l.message,p.append(f),p.append(h),p.append(d);var g=new c(Object.keys(l)).minus(["level","message","timestamp"]);if(g.length()>0){var y=j("td",{classes:"add-value-cell"}),v=!0,m=!1,E=void 0;try{for(var b,w=g[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var C=b.value,S=document.createElement("div");S.classList.add("log-add-value");var T=document.createElement("div"),A=document.createElement("b");T.classList.add("log-key");var I=document.createElement("div");I.classList.add("log-val"),A.innerHTML=C,T.appendChild(A),I.innerHTML=l[C],S.appendChild(T),S.appendChild(I),y.appendChild(S),p.appendChild(y)}}catch(e){m=!0,E=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw E}}}r.appendChild(p)}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}qe(),B.info("Logs loaded successfully")}else console.log("Server returned no logs")}function Qe(e){var t=e.target.options[e.target.selectedIndex],r=le.privateKey,n=le.pkfp,i=new P.a;i.createNonce("n").setRSAKey("pk",r,"private").privateKeySign("n","pk","sign").bytesToHex("n","nhex"),h({type:"POST",url:"/admin",dataType:"json",data:{action:"logger_state_change",nonce:i.get("nhex"),state:t.value,sign:i.get("sign"),pkfp:n},success:function(){var e="Logger has been successfully "+("true"===t.value?"enabled":"disabled");B.info(e)},err:function(e){B.warning("Error loading logs: "+e)}})}function We(e){var t=e.target.options[e.target.selectedIndex],r=le.privateKey,n=le.pkfp,i=new P.a;i.createNonce("n").setRSAKey("pk",r,"private").privateKeySign("n","pk","sign").bytesToHex("n","nhex"),h({type:"POST",url:"/admin",dataType:"json",data:{action:"log_level_change",nonce:i.get("nhex"),level:t.value,sign:i.get("sign"),pkfp:n},success:function(){B.info("Log level has been changed to: "+t.value)},error:function(e){B.warning("Error loading logs: "+e)}})}function Xe(){for(var e=0;e<fe.childNodes.length;e++)fe.insertBefore(fe.childNodes[e],fe.firstChild)}function Je(e){var t;try{if(!(t=new RegExp(e.target.value))||0===t.length)return}catch(e){return}for(var r=0;r<fe.childNodes.length;r++){var n=parseInt(pe.options[pe.selectedIndex].value),i=fe.childNodes[r],a=void 0;a=isNaN(n)?i.innerHTML:i.children[n]?i.children[n].innerHTML:"",t.test(a)?fe.childNodes[r].classList.remove("log-row-hidden"):fe.childNodes[r].classList.add("log-row-hidden")}}function $e(e){var t=le.privateKey,r=le.pkfp,n=new P.a;n.createNonce("n").setRSAKey("pk",t,"private").privateKeySign("n","pk","sign").bytesToHex("n","nhex"),h({type:"POST",url:"/admin",dataType:"json",data:{action:"clear_logs",nonce:n.get("nhex"),sign:n.get("sign"),pkfp:r},success:function(){fe.innerHTML="",B.info("Log level have been cleared")},error:function(e){B.warning("Error clearing logs: "+e)}})}document.addEventListener("DOMContentLoaded",(function(e){if(document.title="Islands | Admin login",$("main").classList.add("main-admin"),$("header").style.minWidth="111rem",!secured)return console.log("Secured is false!"),$("#island-setup").addEventListener("click",Pe),$("#setup--wrapper").addEventListener("keypress",(function(e){13!==e.which&&13!==e.keyCode||Pe()})),void ie("#setup--wrapper");$("#admin-login").onclick=Re,$("#admin-login--wrapper").addEventListener("keypress",(function(e){13!==e.which&&13!==e.keyCode||Re()})),$("#download-logs").onclick=function(){He(!1,!0)},$("#add-admin-service").onclick=ve,$("#add-guest-service").onclick=me,$("#to-chat").onclick=Me,$("#admin-logout-button").onclick=Ke,$("#clear-logs").onclick=$e,ie("#admin-login--wrapper"),Z(".update-option").forEach((function(e){e.onclick=switchUpdateOption})),fe=$("#log-content").lastElementChild,(pe=$("#filter-field-selector")).addEventListener("change",Je),$("#log-filter").addEventListener("keypress",Je),$("#log-reverse").onclick=Xe,$("#island-admin-main-menu").childNodes.forEach((function(e){e.addEventListener("click",je)})),$("#load-logs").addEventListener("click",(function(){He()})),$("#load-error-logs").addEventListener("click",(function(){He(!0)})),$("#logs-state").addEventListener("change",Qe),$("#log-highest-level").addEventListener("change",We),function(){var e=new URL(window.location.href),t=e.searchParams.get("id");if(!t)return;Ue();var r=e.searchParams.get("token"),n=localStorage.getItem(t);if(!n)throw De(),new Error("Autologin failed: no private ley found in local storage");var i=new P.a;i.addBlob("pkcip",n).addBlob("key",r).AESDecrypt("pkcip","key","privk",!0,"CBC","utf8"),Le(i.get("privk")).then((function(){})).catch((function(){})),localStorage.removeItem(t)}()}))}]);